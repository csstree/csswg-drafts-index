(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.discovery = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (global){
"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.csstree=void 0;function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}var csstree=function(module,exports){var exports={};var module={exports:exports};!function(e){if("object"==_typeof(exports)&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.csstree=e();}}(function(){return function(){function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c;}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return o(t[a][1][e]||e);},u,u.exports,e,t,n,r);}return n[a].exports;}for(var i="function"==typeof require&&require,a=0;a<r.length;a++){o(r[a]);}return o;}return e;}()({1:[function(e,t,n){t.exports={generic:!0,types:{"absolute-size":"xx-small | x-small | small | medium | large | x-large | xx-large","alpha-value":"<number> | <percentage>","angle-percentage":"<angle> | <percentage>","angular-color-hint":"<angle-percentage>","angular-color-stop":"<color> && <color-stop-angle>?","angular-color-stop-list":"[ <angular-color-stop> [, <angular-color-hint> ]? ]# , <angular-color-stop>","animateable-feature":"scroll-position | contents | <custom-ident>",attachment:"scroll | fixed | local","attr()":"attr( <attr-name> <type-or-unit>? [, <attr-fallback> ]? )","attr-matcher":"[ '~' | '|' | '^' | '$' | '*' ]? '='","attr-modifier":"i | s","attribute-selector":"'[' <wq-name> ']' | '[' <wq-name> <attr-matcher> [ <string-token> | <ident-token> ] <attr-modifier>? ']'","auto-repeat":"repeat( [ auto-fill | auto-fit ] , [ <line-names>? <fixed-size> ]+ <line-names>? )","auto-track-list":"[ <line-names>? [ <fixed-size> | <fixed-repeat> ] ]* <line-names>? <auto-repeat> [ <line-names>? [ <fixed-size> | <fixed-repeat> ] ]* <line-names>?","baseline-position":"[ first | last ]? baseline","basic-shape":"<inset()> | <circle()> | <ellipse()> | <polygon()>","bg-image":"none | <image>","bg-layer":"<bg-image> || <bg-position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box> || <box>","bg-position":"[ [ left | center | right | top | bottom | <length-percentage> ] | [ left | center | right | <length-percentage> ] [ top | center | bottom | <length-percentage> ] | [ center | [ left | right ] <length-percentage>? ] && [ center | [ top | bottom ] <length-percentage>? ] ]","bg-size":"[ <length-percentage> | auto ]{1,2} | cover | contain","blur()":"blur( <length> )","blend-mode":"normal | multiply | screen | overlay | darken | lighten | color-dodge | color-burn | hard-light | soft-light | difference | exclusion | hue | saturation | color | luminosity",box:"border-box | padding-box | content-box","brightness()":"brightness( <number-percentage> )","calc()":"calc( <calc-sum> )","calc-sum":"<calc-product> [ [ '+' | '-' ] <calc-product> ]*","calc-product":"<calc-value> [ '*' <calc-value> | '/' <number> ]*","calc-value":"<number> | <dimension> | <percentage> | ( <calc-sum> )","cf-final-image":"<image> | <color>","cf-mixing-image":"<percentage>? && <image>","circle()":"circle( [ <shape-radius> ]? [ at <position> ]? )","clamp()":"clamp( <calc-sum>#{3} )","class-selector":"'.' <ident-token>","clip-source":"<url>",color:"<rgb()> | <rgba()> | <hsl()> | <hsla()> | <hex-color> | <named-color> | currentcolor | <deprecated-system-color>","color-stop":"<color-stop-length> | <color-stop-angle>","color-stop-angle":"<angle-percentage>{1,2}","color-stop-length":"<length-percentage>{1,2}","color-stop-list":"[ <linear-color-stop> [, <linear-color-hint> ]? ]# , <linear-color-stop>",combinator:"'>' | '+' | '~' | [ '||' ]","common-lig-values":"[ common-ligatures | no-common-ligatures ]",compat:"searchfield | textarea | push-button | button-bevel | slider-horizontal | checkbox | radio | square-button | menulist | menulist-button | listbox | meter | progress-bar","composite-style":"clear | copy | source-over | source-in | source-out | source-atop | destination-over | destination-in | destination-out | destination-atop | xor","compositing-operator":"add | subtract | intersect | exclude","compound-selector":"[ <type-selector>? <subclass-selector>* [ <pseudo-element-selector> <pseudo-class-selector>* ]* ]!","compound-selector-list":"<compound-selector>#","complex-selector":"<compound-selector> [ <combinator>? <compound-selector> ]*","complex-selector-list":"<complex-selector>#","conic-gradient()":"conic-gradient( [ from <angle> ]? [ at <position> ]? , <angular-color-stop-list> )","contextual-alt-values":"[ contextual | no-contextual ]","content-distribution":"space-between | space-around | space-evenly | stretch","content-list":"[ <string> | contents | <url> | <quote> | <attr()> | counter( <ident> , <'list-style-type'>? ) ]+","content-position":"center | start | end | flex-start | flex-end","content-replacement":"<image>","contrast()":"contrast( [ <number-percentage> ] )","counter()":"counter( <custom-ident> , [ <counter-style> | none ]? )","counter-style":"<counter-style-name> | symbols( )","counter-style-name":"<custom-ident>","counters()":"counters( <custom-ident> , <string> , [ <counter-style> | none ]? )","cross-fade()":"cross-fade( <cf-mixing-image> , <cf-final-image>? )","cubic-bezier-timing-function":"ease | ease-in | ease-out | ease-in-out | cubic-bezier( <number> , <number> , <number> , <number> )","deprecated-system-color":"ActiveBorder | ActiveCaption | AppWorkspace | Background | ButtonFace | ButtonHighlight | ButtonShadow | ButtonText | CaptionText | GrayText | Highlight | HighlightText | InactiveBorder | InactiveCaption | InactiveCaptionText | InfoBackground | InfoText | Menu | MenuText | Scrollbar | ThreeDDarkShadow | ThreeDFace | ThreeDHighlight | ThreeDLightShadow | ThreeDShadow | Window | WindowFrame | WindowText","discretionary-lig-values":"[ discretionary-ligatures | no-discretionary-ligatures ]","display-box":"contents | none","display-inside":"flow | flow-root | table | flex | grid | ruby","display-internal":"table-row-group | table-header-group | table-footer-group | table-row | table-cell | table-column-group | table-column | table-caption | ruby-base | ruby-text | ruby-base-container | ruby-text-container","display-legacy":"inline-block | inline-list-item | inline-table | inline-flex | inline-grid","display-listitem":"<display-outside>? && [ flow | flow-root ]? && list-item","display-outside":"block | inline | run-in","drop-shadow()":"drop-shadow( <length>{2,3} <color>? )","east-asian-variant-values":"[ jis78 | jis83 | jis90 | jis04 | simplified | traditional ]","east-asian-width-values":"[ full-width | proportional-width ]","element()":"element( <id-selector> )","ellipse()":"ellipse( [ <shape-radius>{2} ]? [ at <position> ]? )","ending-shape":"circle | ellipse","env()":"env( <custom-ident> , <declaration-value>? )","explicit-track-list":"[ <line-names>? <track-size> ]+ <line-names>?","family-name":"<string> | <custom-ident>+","feature-tag-value":"<string> [ <integer> | on | off ]?","feature-type":"@stylistic | @historical-forms | @styleset | @character-variant | @swash | @ornaments | @annotation","feature-value-block":"<feature-type> '{' <feature-value-declaration-list> '}'","feature-value-block-list":"<feature-value-block>+","feature-value-declaration":"<custom-ident> : <integer>+ ;","feature-value-declaration-list":"<feature-value-declaration>","feature-value-name":"<custom-ident>","fill-rule":"nonzero | evenodd","filter-function":"<blur()> | <brightness()> | <contrast()> | <drop-shadow()> | <grayscale()> | <hue-rotate()> | <invert()> | <opacity()> | <saturate()> | <sepia()>","filter-function-list":"[ <filter-function> | <url> ]+","final-bg-layer":"<'background-color'> || <bg-image> || <bg-position> [ / <bg-size> ]? || <repeat-style> || <attachment> || <box> || <box>","fit-content()":"fit-content( [ <length> | <percentage> ] )","fixed-breadth":"<length-percentage>","fixed-repeat":"repeat( [ <positive-integer> ] , [ <line-names>? <fixed-size> ]+ <line-names>? )","fixed-size":"<fixed-breadth> | minmax( <fixed-breadth> , <track-breadth> ) | minmax( <inflexible-breadth> , <fixed-breadth> )","font-stretch-absolute":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded | <percentage>","font-variant-css21":"[ normal | small-caps ]","font-weight-absolute":"normal | bold | <number>","frequency-percentage":"<frequency> | <percentage>","general-enclosed":"[ <function-token> <any-value> ) ] | ( <ident> <any-value> )","generic-family":"serif | sans-serif | cursive | fantasy | monospace | -apple-system","generic-name":"serif | sans-serif | cursive | fantasy | monospace","geometry-box":"<shape-box> | fill-box | stroke-box | view-box",gradient:"<linear-gradient()> | <repeating-linear-gradient()> | <radial-gradient()> | <repeating-radial-gradient()> | <conic-gradient()> | <-legacy-gradient>","grayscale()":"grayscale( <number-percentage> )","grid-line":"auto | <custom-ident> | [ <integer> && <custom-ident>? ] | [ span && [ <integer> || <custom-ident> ] ]","historical-lig-values":"[ historical-ligatures | no-historical-ligatures ]","hsl()":"hsl( <hue> <percentage> <percentage> [ / <alpha-value> ]? ) | hsl( <hue> , <percentage> , <percentage> , <alpha-value>? )","hsla()":"hsla( <hue> <percentage> <percentage> [ / <alpha-value> ]? ) | hsla( <hue> , <percentage> , <percentage> , <alpha-value>? )",hue:"<number> | <angle>","hue-rotate()":"hue-rotate( <angle> )",image:"<url> | <image()> | <image-set()> | <element()> | <cross-fade()> | <gradient>","image()":"image( <image-tags>? [ <image-src>? , <color>? ]! )","image-set()":"image-set( <image-set-option># )","image-set-option":"[ <image> | <string> ] <resolution>","image-src":"<url> | <string>","image-tags":"ltr | rtl","inflexible-breadth":"<length> | <percentage> | min-content | max-content | auto","inset()":"inset( <length-percentage>{1,4} [ round <'border-radius'> ]? )","invert()":"invert( <number-percentage> )","keyframes-name":"<custom-ident> | <string>","keyframe-block":"<keyframe-selector># { <declaration-list> }","keyframe-block-list":"<keyframe-block>+","keyframe-selector":"from | to | <percentage>","leader()":"leader( <leader-type> )","leader-type":"dotted | solid | space | <string>","length-percentage":"<length> | <percentage>","line-names":"'[' <custom-ident>* ']'","line-name-list":"[ <line-names> | <name-repeat> ]+","line-style":"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset","line-width":"<length> | thin | medium | thick","linear-color-hint":"<length-percentage>","linear-color-stop":"<color> <color-stop-length>?","linear-gradient()":"linear-gradient( [ <angle> | to <side-or-corner> ]? , <color-stop-list> )","mask-layer":"<mask-reference> || <position> [ / <bg-size> ]? || <repeat-style> || <geometry-box> || [ <geometry-box> | no-clip ] || <compositing-operator> || <masking-mode>","mask-position":"[ <length-percentage> | left | center | right ] [ <length-percentage> | top | center | bottom ]?","mask-reference":"none | <image> | <mask-source>","mask-source":"<url>","masking-mode":"alpha | luminance | match-source","matrix()":"matrix( <number>#{6} )","matrix3d()":"matrix3d( <number>#{16} )","max()":"max( <calc-sum># )","media-and":"<media-in-parens> [ and <media-in-parens> ]+","media-condition":"<media-not> | <media-and> | <media-or> | <media-in-parens>","media-condition-without-or":"<media-not> | <media-and> | <media-in-parens>","media-feature":"( [ <mf-plain> | <mf-boolean> | <mf-range> ] )","media-in-parens":"( <media-condition> ) | <media-feature> | <general-enclosed>","media-not":"not <media-in-parens>","media-or":"<media-in-parens> [ or <media-in-parens> ]+","media-query":"<media-condition> | [ not | only ]? <media-type> [ and <media-condition-without-or> ]?","media-query-list":"<media-query>#","media-type":"<ident>","mf-boolean":"<mf-name>","mf-name":"<ident>","mf-plain":"<mf-name> : <mf-value>","mf-range":"<mf-name> [ '<' | '>' ]? '='? <mf-value> | <mf-value> [ '<' | '>' ]? '='? <mf-name> | <mf-value> '<' '='? <mf-name> '<' '='? <mf-value> | <mf-value> '>' '='? <mf-name> '>' '='? <mf-value>","mf-value":"<number> | <dimension> | <ident> | <ratio>","min()":"min( <calc-sum># )","minmax()":"minmax( [ <length> | <percentage> | <flex> | min-content | max-content | auto ] , [ <length> | <percentage> | <flex> | min-content | max-content | auto ] )","named-color":"transparent | aliceblue | antiquewhite | aqua | aquamarine | azure | beige | bisque | black | blanchedalmond | blue | blueviolet | brown | burlywood | cadetblue | chartreuse | chocolate | coral | cornflowerblue | cornsilk | crimson | cyan | darkblue | darkcyan | darkgoldenrod | darkgray | darkgreen | darkgrey | darkkhaki | darkmagenta | darkolivegreen | darkorange | darkorchid | darkred | darksalmon | darkseagreen | darkslateblue | darkslategray | darkslategrey | darkturquoise | darkviolet | deeppink | deepskyblue | dimgray | dimgrey | dodgerblue | firebrick | floralwhite | forestgreen | fuchsia | gainsboro | ghostwhite | gold | goldenrod | gray | green | greenyellow | grey | honeydew | hotpink | indianred | indigo | ivory | khaki | lavender | lavenderblush | lawngreen | lemonchiffon | lightblue | lightcoral | lightcyan | lightgoldenrodyellow | lightgray | lightgreen | lightgrey | lightpink | lightsalmon | lightseagreen | lightskyblue | lightslategray | lightslategrey | lightsteelblue | lightyellow | lime | limegreen | linen | magenta | maroon | mediumaquamarine | mediumblue | mediumorchid | mediumpurple | mediumseagreen | mediumslateblue | mediumspringgreen | mediumturquoise | mediumvioletred | midnightblue | mintcream | mistyrose | moccasin | navajowhite | navy | oldlace | olive | olivedrab | orange | orangered | orchid | palegoldenrod | palegreen | paleturquoise | palevioletred | papayawhip | peachpuff | peru | pink | plum | powderblue | purple | rebeccapurple | red | rosybrown | royalblue | saddlebrown | salmon | sandybrown | seagreen | seashell | sienna | silver | skyblue | slateblue | slategray | slategrey | snow | springgreen | steelblue | tan | teal | thistle | tomato | turquoise | violet | wheat | white | whitesmoke | yellow | yellowgreen | <-non-standard-color>","namespace-prefix":"<ident>","ns-prefix":"[ <ident-token> | '*' ]? '|'","number-percentage":"<number> | <percentage>","numeric-figure-values":"[ lining-nums | oldstyle-nums ]","numeric-fraction-values":"[ diagonal-fractions | stacked-fractions ]","numeric-spacing-values":"[ proportional-nums | tabular-nums ]",nth:"<an-plus-b> | even | odd","opacity()":"opacity( [ <number-percentage> ] )","overflow-position":"unsafe | safe","outline-radius":"<length> | <percentage>","page-body":"<declaration>? [ ; <page-body> ]? | <page-margin-box> <page-body>","page-margin-box":"<page-margin-box-type> '{' <declaration-list> '}'","page-margin-box-type":"@top-left-corner | @top-left | @top-center | @top-right | @top-right-corner | @bottom-left-corner | @bottom-left | @bottom-center | @bottom-right | @bottom-right-corner | @left-top | @left-middle | @left-bottom | @right-top | @right-middle | @right-bottom","page-selector-list":"[ <page-selector># ]?","page-selector":"<pseudo-page>+ | <ident> <pseudo-page>*","perspective()":"perspective( <length> )","polygon()":"polygon( <fill-rule>? , [ <length-percentage> <length-percentage> ]# )",position:"[ [ left | center | right ] || [ top | center | bottom ] | [ left | center | right | <length-percentage> ] [ top | center | bottom | <length-percentage> ]? | [ [ left | right ] <length-percentage> ] && [ [ top | bottom ] <length-percentage> ] ]","pseudo-class-selector":"':' <ident-token> | ':' <function-token> <any-value> ')'","pseudo-element-selector":"':' <pseudo-class-selector>","pseudo-page":": [ left | right | first | blank ]",quote:"open-quote | close-quote | no-open-quote | no-close-quote","radial-gradient()":"radial-gradient( [ <ending-shape> || <size> ]? [ at <position> ]? , <color-stop-list> )","relative-selector":"<combinator>? <complex-selector>","relative-selector-list":"<relative-selector>#","relative-size":"larger | smaller","repeat-style":"repeat-x | repeat-y | [ repeat | space | round | no-repeat ]{1,2}","repeating-linear-gradient()":"repeating-linear-gradient( [ <angle> | to <side-or-corner> ]? , <color-stop-list> )","repeating-radial-gradient()":"repeating-radial-gradient( [ <ending-shape> || <size> ]? [ at <position> ]? , <color-stop-list> )","rgb()":"rgb( <percentage>{3} [ / <alpha-value> ]? ) | rgb( <number>{3} [ / <alpha-value> ]? ) | rgb( <percentage>#{3} , <alpha-value>? ) | rgb( <number>#{3} , <alpha-value>? )","rgba()":"rgba( <percentage>{3} [ / <alpha-value> ]? ) | rgba( <number>{3} [ / <alpha-value> ]? ) | rgba( <percentage>#{3} , <alpha-value>? ) | rgba( <number>#{3} , <alpha-value>? )","rotate()":"rotate( [ <angle> | <zero> ] )","rotate3d()":"rotate3d( <number> , <number> , <number> , [ <angle> | <zero> ] )","rotateX()":"rotateX( [ <angle> | <zero> ] )","rotateY()":"rotateY( [ <angle> | <zero> ] )","rotateZ()":"rotateZ( [ <angle> | <zero> ] )","saturate()":"saturate( <number-percentage> )","scale()":"scale( <number> , <number>? )","scale3d()":"scale3d( <number> , <number> , <number> )","scaleX()":"scaleX( <number> )","scaleY()":"scaleY( <number> )","scaleZ()":"scaleZ( <number> )","self-position":"center | start | end | self-start | self-end | flex-start | flex-end","shape-radius":"<length-percentage> | closest-side | farthest-side","skew()":"skew( [ <angle> | <zero> ] , [ <angle> | <zero> ]? )","skewX()":"skewX( [ <angle> | <zero> ] )","skewY()":"skewY( [ <angle> | <zero> ] )","sepia()":"sepia( <number-percentage> )",shadow:"inset? && <length>{2,4} && <color>?","shadow-t":"[ <length>{2,3} && <color>? ]",shape:"rect( <top> , <right> , <bottom> , <left> ) | rect( <top> <right> <bottom> <left> )","shape-box":"<box> | margin-box","side-or-corner":"[ left | right ] || [ top | bottom ]","single-animation":"<time> || <timing-function> || <time> || <single-animation-iteration-count> || <single-animation-direction> || <single-animation-fill-mode> || <single-animation-play-state> || [ none | <keyframes-name> ]","single-animation-direction":"normal | reverse | alternate | alternate-reverse","single-animation-fill-mode":"none | forwards | backwards | both","single-animation-iteration-count":"infinite | <number>","single-animation-play-state":"running | paused","single-transition":"[ none | <single-transition-property> ] || <time> || <timing-function> || <time>","single-transition-property":"all | <custom-ident>",size:"closest-side | farthest-side | closest-corner | farthest-corner | <length> | <length-percentage>{2}","step-position":"jump-start | jump-end | jump-none | jump-both | start | end","step-timing-function":"step-start | step-end | steps( <integer> [, <step-position> ]? )","subclass-selector":"<id-selector> | <class-selector> | <attribute-selector> | <pseudo-class-selector>","supports-condition":"not <supports-in-parens> | <supports-in-parens> [ and <supports-in-parens> ]* | <supports-in-parens> [ or <supports-in-parens> ]*","supports-in-parens":"( <supports-condition> ) | <supports-feature> | <general-enclosed>","supports-feature":"<supports-decl> | <supports-selector-fn>","supports-decl":"( <declaration> )","supports-selector-fn":"selector( <complex-selector> )",symbol:"<string> | <image> | <custom-ident>",target:"<target-counter()> | <target-counters()> | <target-text()>","target-counter()":"target-counter( [ <string> | <url> ] , <custom-ident> , <counter-style>? )","target-counters()":"target-counters( [ <string> | <url> ] , <custom-ident> , <string> , <counter-style>? )","target-text()":"target-text( [ <string> | <url> ] , [ content | before | after | first-letter ]? )","time-percentage":"<time> | <percentage>","timing-function":"linear | <cubic-bezier-timing-function> | <step-timing-function>","track-breadth":"<length-percentage> | <flex> | min-content | max-content | auto","track-list":"[ <line-names>? [ <track-size> | <track-repeat> ] ]+ <line-names>?","track-repeat":"repeat( [ <positive-integer> ] , [ <line-names>? <track-size> ]+ <line-names>? )","track-size":"<track-breadth> | minmax( <inflexible-breadth> , <track-breadth> ) | fit-content( [ <length> | <percentage> ] )","transform-function":"<matrix()> | <translate()> | <translateX()> | <translateY()> | <scale()> | <scaleX()> | <scaleY()> | <rotate()> | <skew()> | <skewX()> | <skewY()> | <matrix3d()> | <translate3d()> | <translateZ()> | <scale3d()> | <scaleZ()> | <rotate3d()> | <rotateX()> | <rotateY()> | <rotateZ()> | <perspective()>","transform-list":"<transform-function>+","translate()":"translate( <length-percentage> , <length-percentage>? )","translate3d()":"translate3d( <length-percentage> , <length-percentage> , <length> )","translateX()":"translateX( <length-percentage> )","translateY()":"translateY( <length-percentage> )","translateZ()":"translateZ( <length> )","type-or-unit":"string | color | url | integer | number | length | angle | time | frequency | cap | ch | em | ex | ic | lh | rlh | rem | vb | vi | vw | vh | vmin | vmax | mm | Q | cm | in | pt | pc | px | deg | grad | rad | turn | ms | s | Hz | kHz | %","type-selector":"<wq-name> | <ns-prefix>? '*'","var()":"var( <custom-property-name> , <declaration-value>? )","viewport-length":"auto | <length-percentage>","wq-name":"<ns-prefix>? <ident-token>","-legacy-gradient":"<-webkit-gradient()> | <-legacy-linear-gradient> | <-legacy-repeating-linear-gradient> | <-legacy-radial-gradient> | <-legacy-repeating-radial-gradient>","-legacy-linear-gradient":"-moz-linear-gradient( <-legacy-linear-gradient-arguments> ) | -webkit-linear-gradient( <-legacy-linear-gradient-arguments> ) | -o-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-repeating-linear-gradient":"-moz-repeating-linear-gradient( <-legacy-linear-gradient-arguments> ) | -webkit-repeating-linear-gradient( <-legacy-linear-gradient-arguments> ) | -o-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-linear-gradient-arguments":"[ <angle> | <side-or-corner> ]? , <color-stop-list>","-legacy-radial-gradient":"-moz-radial-gradient( <-legacy-radial-gradient-arguments> ) | -webkit-radial-gradient( <-legacy-radial-gradient-arguments> ) | -o-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-repeating-radial-gradient":"-moz-repeating-radial-gradient( <-legacy-radial-gradient-arguments> ) | -webkit-repeating-radial-gradient( <-legacy-radial-gradient-arguments> ) | -o-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-radial-gradient-arguments":"[ <position> , ]? [ [ [ <-legacy-radial-gradient-shape> || <-legacy-radial-gradient-size> ] | [ <length> | <percentage> ]{2} ] , ]? <color-stop-list>","-legacy-radial-gradient-size":"closest-side | closest-corner | farthest-side | farthest-corner | contain | cover","-legacy-radial-gradient-shape":"circle | ellipse","-non-standard-font":"-apple-system-body | -apple-system-headline | -apple-system-subheadline | -apple-system-caption1 | -apple-system-caption2 | -apple-system-footnote | -apple-system-short-body | -apple-system-short-headline | -apple-system-short-subheadline | -apple-system-short-caption1 | -apple-system-short-footnote | -apple-system-tall-body","-non-standard-color":"-moz-ButtonDefault | -moz-ButtonHoverFace | -moz-ButtonHoverText | -moz-CellHighlight | -moz-CellHighlightText | -moz-Combobox | -moz-ComboboxText | -moz-Dialog | -moz-DialogText | -moz-dragtargetzone | -moz-EvenTreeRow | -moz-Field | -moz-FieldText | -moz-html-CellHighlight | -moz-html-CellHighlightText | -moz-mac-accentdarkestshadow | -moz-mac-accentdarkshadow | -moz-mac-accentface | -moz-mac-accentlightesthighlight | -moz-mac-accentlightshadow | -moz-mac-accentregularhighlight | -moz-mac-accentregularshadow | -moz-mac-chrome-active | -moz-mac-chrome-inactive | -moz-mac-focusring | -moz-mac-menuselect | -moz-mac-menushadow | -moz-mac-menutextselect | -moz-MenuHover | -moz-MenuHoverText | -moz-MenuBarText | -moz-MenuBarHoverText | -moz-nativehyperlinktext | -moz-OddTreeRow | -moz-win-communicationstext | -moz-win-mediatext | -moz-activehyperlinktext | -moz-default-background-color | -moz-default-color | -moz-hyperlinktext | -moz-visitedhyperlinktext | -webkit-activelink | -webkit-focus-ring-color | -webkit-link | -webkit-text","-non-standard-image-rendering":"optimize-contrast | -moz-crisp-edges | -o-crisp-edges | -webkit-optimize-contrast","-non-standard-overflow":"-moz-scrollbars-none | -moz-scrollbars-horizontal | -moz-scrollbars-vertical | -moz-hidden-unscrollable","-non-standard-width":"min-intrinsic | intrinsic | -moz-min-content | -moz-max-content | -webkit-min-content | -webkit-max-content","-webkit-gradient()":"-webkit-gradient( <-webkit-gradient-type> , <-webkit-gradient-point> [, <-webkit-gradient-point> | , <-webkit-gradient-radius> , <-webkit-gradient-point> ] [, <-webkit-gradient-radius> ]? [, <-webkit-gradient-color-stop> ]* )","-webkit-gradient-color-stop":"from( <color> ) | color-stop( [ <number-zero-one> | <percentage> ] , <color> ) | to( <color> )","-webkit-gradient-point":"[ left | center | right | <length-percentage> ] [ top | center | bottom | <length-percentage> ]","-webkit-gradient-radius":"<length> | <percentage>","-webkit-gradient-type":"linear | radial","-webkit-mask-box-repeat":"repeat | stretch | round","-webkit-mask-clip-style":"border | border-box | padding | padding-box | content | content-box | text","-ms-filter-function-list":"<-ms-filter-function>+","-ms-filter-function":"<-ms-filter-function-progid> | <-ms-filter-function-legacy>","-ms-filter-function-progid":"'progid:' [ <ident-token> '.' ]* [ <ident-token> | <function-token> <any-value>? ) ]","-ms-filter-function-legacy":"<ident-token> | <function-token> <any-value>? )","-ms-filter":"<string>",age:"child | young | old","attr-name":"<wq-name>","attr-fallback":"<any-value>","border-radius":"<length-percentage>{1,2}",bottom:"<length> | auto","generic-voice":"[ <age>? <gender> <integer>? ]",gender:"male | female | neutral",left:"<length> | auto","mask-image":"<mask-reference>#","name-repeat":"repeat( [ <positive-integer> | auto-fill ] , <line-names>+ )",paint:"none | <color> | <url> [ none | <color> ]? | context-fill | context-stroke","path()":"path( <string> )",ratio:"<integer> / <integer>",right:"<length> | auto","svg-length":"<percentage> | <length> | <number>","svg-writing-mode":"lr-tb | rl-tb | tb-rl | lr | rl | tb",top:"<length> | auto",x:"<number>",y:"<number>",declaration:"<ident-token> : <declaration-value>? [ '!' important ]?","declaration-list":"[ <declaration>? ';' ]* <declaration>?",url:"url( <string> <url-modifier>* ) | <url-token>","url-modifier":"<ident> | <function-token> <any-value> )","number-zero-one":"<number [0,1]>","number-one-or-greater":"<number [1,∞]>","positive-integer":"<integer [0,∞]>"},properties:{"--*":"<declaration-value>","-ms-accelerator":"false | true","-ms-block-progression":"tb | rl | bt | lr","-ms-content-zoom-chaining":"none | chained","-ms-content-zooming":"none | zoom","-ms-content-zoom-limit":"<'-ms-content-zoom-limit-min'> <'-ms-content-zoom-limit-max'>","-ms-content-zoom-limit-max":"<percentage>","-ms-content-zoom-limit-min":"<percentage>","-ms-content-zoom-snap":"<'-ms-content-zoom-snap-type'> || <'-ms-content-zoom-snap-points'>","-ms-content-zoom-snap-points":"snapInterval( <percentage> , <percentage> ) | snapList( <percentage># )","-ms-content-zoom-snap-type":"none | proximity | mandatory","-ms-filter":"<string>","-ms-flow-from":"[ none | <custom-ident> ]#","-ms-flow-into":"[ none | <custom-ident> ]#","-ms-high-contrast-adjust":"auto | none","-ms-hyphenate-limit-chars":"auto | <integer>{1,3}","-ms-hyphenate-limit-lines":"no-limit | <integer>","-ms-hyphenate-limit-zone":"<percentage> | <length>","-ms-ime-align":"auto | after","-ms-overflow-style":"auto | none | scrollbar | -ms-autohiding-scrollbar","-ms-scrollbar-3dlight-color":"<color>","-ms-scrollbar-arrow-color":"<color>","-ms-scrollbar-base-color":"<color>","-ms-scrollbar-darkshadow-color":"<color>","-ms-scrollbar-face-color":"<color>","-ms-scrollbar-highlight-color":"<color>","-ms-scrollbar-shadow-color":"<color>","-ms-scrollbar-track-color":"<color>","-ms-scroll-chaining":"chained | none","-ms-scroll-limit":"<'-ms-scroll-limit-x-min'> <'-ms-scroll-limit-y-min'> <'-ms-scroll-limit-x-max'> <'-ms-scroll-limit-y-max'>","-ms-scroll-limit-x-max":"auto | <length>","-ms-scroll-limit-x-min":"<length>","-ms-scroll-limit-y-max":"auto | <length>","-ms-scroll-limit-y-min":"<length>","-ms-scroll-rails":"none | railed","-ms-scroll-snap-points-x":"snapInterval( <length-percentage> , <length-percentage> ) | snapList( <length-percentage># )","-ms-scroll-snap-points-y":"snapInterval( <length-percentage> , <length-percentage> ) | snapList( <length-percentage># )","-ms-scroll-snap-type":"none | proximity | mandatory","-ms-scroll-snap-x":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-x'>","-ms-scroll-snap-y":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-y'>","-ms-scroll-translation":"none | vertical-to-horizontal","-ms-text-autospace":"none | ideograph-alpha | ideograph-numeric | ideograph-parenthesis | ideograph-space","-ms-touch-select":"grippers | none","-ms-user-select":"none | element | text","-ms-wrap-flow":"auto | both | start | end | maximum | clear","-ms-wrap-margin":"<length>","-ms-wrap-through":"wrap | none","-moz-appearance":"none | button | button-arrow-down | button-arrow-next | button-arrow-previous | button-arrow-up | button-bevel | button-focus | caret | checkbox | checkbox-container | checkbox-label | checkmenuitem | dualbutton | groupbox | listbox | listitem | menuarrow | menubar | menucheckbox | menuimage | menuitem | menuitemtext | menulist | menulist-button | menulist-text | menulist-textfield | menupopup | menuradio | menuseparator | meterbar | meterchunk | progressbar | progressbar-vertical | progresschunk | progresschunk-vertical | radio | radio-container | radio-label | radiomenuitem | range | range-thumb | resizer | resizerpanel | scale-horizontal | scalethumbend | scalethumb-horizontal | scalethumbstart | scalethumbtick | scalethumb-vertical | scale-vertical | scrollbarbutton-down | scrollbarbutton-left | scrollbarbutton-right | scrollbarbutton-up | scrollbarthumb-horizontal | scrollbarthumb-vertical | scrollbartrack-horizontal | scrollbartrack-vertical | searchfield | separator | sheet | spinner | spinner-downbutton | spinner-textfield | spinner-upbutton | splitter | statusbar | statusbarpanel | tab | tabpanel | tabpanels | tab-scroll-arrow-back | tab-scroll-arrow-forward | textfield | textfield-multiline | toolbar | toolbarbutton | toolbarbutton-dropdown | toolbargripper | toolbox | tooltip | treeheader | treeheadercell | treeheadersortarrow | treeitem | treeline | treetwisty | treetwistyopen | treeview | -moz-mac-unified-toolbar | -moz-win-borderless-glass | -moz-win-browsertabbar-toolbox | -moz-win-communicationstext | -moz-win-communications-toolbox | -moz-win-exclude-glass | -moz-win-glass | -moz-win-mediatext | -moz-win-media-toolbox | -moz-window-button-box | -moz-window-button-box-maximized | -moz-window-button-close | -moz-window-button-maximize | -moz-window-button-minimize | -moz-window-button-restore | -moz-window-frame-bottom | -moz-window-frame-left | -moz-window-frame-right | -moz-window-titlebar | -moz-window-titlebar-maximized","-moz-binding":"<url> | none","-moz-border-bottom-colors":"<color>+ | none","-moz-border-left-colors":"<color>+ | none","-moz-border-right-colors":"<color>+ | none","-moz-border-top-colors":"<color>+ | none","-moz-context-properties":"none | [ fill | fill-opacity | stroke | stroke-opacity ]#","-moz-float-edge":"border-box | content-box | margin-box | padding-box","-moz-force-broken-image-icon":"<integer>","-moz-image-region":"<shape> | auto","-moz-orient":"inline | block | horizontal | vertical","-moz-outline-radius":"<outline-radius>{1,4} [ / <outline-radius>{1,4} ]?","-moz-outline-radius-bottomleft":"<outline-radius>","-moz-outline-radius-bottomright":"<outline-radius>","-moz-outline-radius-topleft":"<outline-radius>","-moz-outline-radius-topright":"<outline-radius>","-moz-stack-sizing":"ignore | stretch-to-fit","-moz-text-blink":"none | blink","-moz-user-focus":"ignore | normal | select-after | select-before | select-menu | select-same | select-all | none","-moz-user-input":"auto | none | enabled | disabled","-moz-user-modify":"read-only | read-write | write-only","-moz-window-dragging":"drag | no-drag","-moz-window-shadow":"default | menu | tooltip | sheet | none","-webkit-appearance":"none | button | button-bevel | caps-lock-indicator | caret | checkbox | default-button | listbox | listitem | media-fullscreen-button | media-mute-button | media-play-button | media-seek-back-button | media-seek-forward-button | media-slider | media-sliderthumb | menulist | menulist-button | menulist-text | menulist-textfield | push-button | radio | scrollbarbutton-down | scrollbarbutton-left | scrollbarbutton-right | scrollbarbutton-up | scrollbargripper-horizontal | scrollbargripper-vertical | scrollbarthumb-horizontal | scrollbarthumb-vertical | scrollbartrack-horizontal | scrollbartrack-vertical | searchfield | searchfield-cancel-button | searchfield-decoration | searchfield-results-button | searchfield-results-decoration | slider-horizontal | slider-vertical | sliderthumb-horizontal | sliderthumb-vertical | square-button | textarea | textfield","-webkit-border-before":"<'border-width'> || <'border-style'> || <'color'>","-webkit-border-before-color":"<'color'>","-webkit-border-before-style":"<'border-style'>","-webkit-border-before-width":"<'border-width'>","-webkit-box-reflect":"[ above | below | right | left ]? <length>? <image>?","-webkit-line-clamp":"none | <integer>","-webkit-mask":"[ <mask-reference> || <position> [ / <bg-size> ]? || <repeat-style> || [ <box> | border | padding | content | text ] || [ <box> | border | padding | content ] ]#","-webkit-mask-attachment":"<attachment>#","-webkit-mask-clip":"[ <box> | border | padding | content | text ]#","-webkit-mask-composite":"<composite-style>#","-webkit-mask-image":"<mask-reference>#","-webkit-mask-origin":"[ <box> | border | padding | content ]#","-webkit-mask-position":"<position>#","-webkit-mask-position-x":"[ <length-percentage> | left | center | right ]#","-webkit-mask-position-y":"[ <length-percentage> | top | center | bottom ]#","-webkit-mask-repeat":"<repeat-style>#","-webkit-mask-repeat-x":"repeat | no-repeat | space | round","-webkit-mask-repeat-y":"repeat | no-repeat | space | round","-webkit-mask-size":"<bg-size>#","-webkit-overflow-scrolling":"auto | touch","-webkit-tap-highlight-color":"<color>","-webkit-text-fill-color":"<color>","-webkit-text-stroke":"<length> || <color>","-webkit-text-stroke-color":"<color>","-webkit-text-stroke-width":"<length>","-webkit-touch-callout":"default | none","-webkit-user-modify":"read-only | read-write | read-write-plaintext-only","align-content":"normal | <baseline-position> | <content-distribution> | <overflow-position>? <content-position>","align-items":"normal | stretch | <baseline-position> | [ <overflow-position>? <self-position> ]","align-self":"auto | normal | stretch | <baseline-position> | <overflow-position>? <self-position>",all:"initial | inherit | unset | revert",animation:"<single-animation>#","animation-delay":"<time>#","animation-direction":"<single-animation-direction>#","animation-duration":"<time>#","animation-fill-mode":"<single-animation-fill-mode>#","animation-iteration-count":"<single-animation-iteration-count>#","animation-name":"[ none | <keyframes-name> ]#","animation-play-state":"<single-animation-play-state>#","animation-timing-function":"<timing-function>#",appearance:"none | auto | button | textfield | <compat>",azimuth:"<angle> | [ [ left-side | far-left | left | center-left | center | center-right | right | far-right | right-side ] || behind ] | leftwards | rightwards","backdrop-filter":"none | <filter-function-list>","backface-visibility":"visible | hidden",background:"[ <bg-layer> , ]* <final-bg-layer>","background-attachment":"<attachment>#","background-blend-mode":"<blend-mode>#","background-clip":"<box>#","background-color":"<color>","background-image":"<bg-image>#","background-origin":"<box>#","background-position":"<bg-position>#","background-position-x":"[ center | [ left | right | x-start | x-end ]? <length-percentage>? ]#","background-position-y":"[ center | [ top | bottom | y-start | y-end ]? <length-percentage>? ]#","background-repeat":"<repeat-style>#","background-size":"<bg-size>#","block-overflow":"clip | ellipsis | <string>","block-size":"<'width'>",border:"<line-width> || <line-style> || <color>","border-block":"<'border-top-width'> || <'border-top-style'> || <'color'>","border-block-color":"<'border-top-color'>{1,2}","border-block-style":"<'border-top-style'>","border-block-width":"<'border-top-width'>","border-block-end":"<'border-top-width'> || <'border-top-style'> || <'color'>","border-block-end-color":"<'border-top-color'>","border-block-end-style":"<'border-top-style'>","border-block-end-width":"<'border-top-width'>","border-block-start":"<'border-top-width'> || <'border-top-style'> || <'color'>","border-block-start-color":"<'border-top-color'>","border-block-start-style":"<'border-top-style'>","border-block-start-width":"<'border-top-width'>","border-bottom":"<line-width> || <line-style> || <color>","border-bottom-color":"<'border-top-color'>","border-bottom-left-radius":"<length-percentage>{1,2}","border-bottom-right-radius":"<length-percentage>{1,2}","border-bottom-style":"<line-style>","border-bottom-width":"<line-width>","border-collapse":"collapse | separate","border-color":"<color>{1,4}","border-end-end-radius":"<length-percentage>{1,2}","border-end-start-radius":"<length-percentage>{1,2}","border-image":"<'border-image-source'> || <'border-image-slice'> [ / <'border-image-width'> | / <'border-image-width'>? / <'border-image-outset'> ]? || <'border-image-repeat'>","border-image-outset":"[ <length> | <number> ]{1,4}","border-image-repeat":"[ stretch | repeat | round | space ]{1,2}","border-image-slice":"<number-percentage>{1,4} && fill?","border-image-source":"none | <image>","border-image-width":"[ <length-percentage> | <number> | auto ]{1,4}","border-inline":"<'border-top-width'> || <'border-top-style'> || <'color'>","border-inline-end":"<'border-top-width'> || <'border-top-style'> || <'color'>","border-inline-color":"<'border-top-color'>{1,2}","border-inline-style":"<'border-top-style'>","border-inline-width":"<'border-top-width'>","border-inline-end-color":"<'border-top-color'>","border-inline-end-style":"<'border-top-style'>","border-inline-end-width":"<'border-top-width'>","border-inline-start":"<'border-top-width'> || <'border-top-style'> || <'color'>","border-inline-start-color":"<'border-top-color'>","border-inline-start-style":"<'border-top-style'>","border-inline-start-width":"<'border-top-width'>","border-left":"<line-width> || <line-style> || <color>","border-left-color":"<color>","border-left-style":"<line-style>","border-left-width":"<line-width>","border-radius":"<length-percentage>{1,4} [ / <length-percentage>{1,4} ]?","border-right":"<line-width> || <line-style> || <color>","border-right-color":"<color>","border-right-style":"<line-style>","border-right-width":"<line-width>","border-spacing":"<length> <length>?","border-start-end-radius":"<length-percentage>{1,2}","border-start-start-radius":"<length-percentage>{1,2}","border-style":"<line-style>{1,4}","border-top":"<line-width> || <line-style> || <color>","border-top-color":"<color>","border-top-left-radius":"<length-percentage>{1,2}","border-top-right-radius":"<length-percentage>{1,2}","border-top-style":"<line-style>","border-top-width":"<line-width>","border-width":"<line-width>{1,4}",bottom:"<length> | <percentage> | auto","box-align":"start | center | end | baseline | stretch","box-decoration-break":"slice | clone","box-direction":"normal | reverse | inherit","box-flex":"<number>","box-flex-group":"<integer>","box-lines":"single | multiple","box-ordinal-group":"<integer>","box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","box-pack":"start | center | end | justify","box-shadow":"none | <shadow>#","box-sizing":"content-box | border-box","break-after":"auto | avoid | always | all | avoid-page | page | left | right | recto | verso | avoid-column | column | avoid-region | region","break-before":"auto | avoid | always | all | avoid-page | page | left | right | recto | verso | avoid-column | column | avoid-region | region","break-inside":"auto | avoid | avoid-page | avoid-column | avoid-region","caption-side":"top | bottom | block-start | block-end | inline-start | inline-end","caret-color":"auto | <color>",clear:"none | left | right | both | inline-start | inline-end",clip:"<shape> | auto","clip-path":"<clip-source> | [ <basic-shape> || <geometry-box> ] | none",color:"<color>","color-adjust":"economy | exact","column-count":"<integer> | auto","column-fill":"auto | balance | balance-all","column-gap":"normal | <length-percentage>","column-rule":"<'column-rule-width'> || <'column-rule-style'> || <'column-rule-color'>","column-rule-color":"<color>","column-rule-style":"<'border-style'>","column-rule-width":"<'border-width'>","column-span":"none | all","column-width":"<length> | auto",columns:"<'column-width'> || <'column-count'>",contain:"none | strict | content | [ size || layout || style || paint ]",content:"normal | none | [ <content-replacement> | <content-list> ] [ / <string> ]?","counter-increment":"[ <custom-ident> <integer>? ]+ | none","counter-reset":"[ <custom-ident> <integer>? ]+ | none","counter-set":"[ <custom-ident> <integer>? ]+ | none",cursor:"[ [ <url> [ <x> <y> ]? , ]* [ auto | default | none | context-menu | help | pointer | progress | wait | cell | crosshair | text | vertical-text | alias | copy | move | no-drop | not-allowed | e-resize | n-resize | ne-resize | nw-resize | s-resize | se-resize | sw-resize | w-resize | ew-resize | ns-resize | nesw-resize | nwse-resize | col-resize | row-resize | all-scroll | zoom-in | zoom-out | grab | grabbing | hand | -webkit-grab | -webkit-grabbing | -webkit-zoom-in | -webkit-zoom-out | -moz-grab | -moz-grabbing | -moz-zoom-in | -moz-zoom-out ] ]",direction:"ltr | rtl",display:"none | inline | block | list-item | inline-list-item | inline-block | inline-table | table | table-cell | table-column | table-column-group | table-footer-group | table-header-group | table-row | table-row-group | flex | inline-flex | grid | inline-grid | run-in | ruby | ruby-base | ruby-text | ruby-base-container | ruby-text-container | contents | -ms-flexbox | -ms-inline-flexbox | -ms-grid | -ms-inline-grid | -webkit-flex | -webkit-inline-flex | -webkit-box | -webkit-inline-box | -moz-inline-stack | -moz-box | -moz-inline-box","empty-cells":"show | hide",filter:"none | <filter-function-list> | <-ms-filter-function-list>",flex:"none | [ <'flex-grow'> <'flex-shrink'>? || <'flex-basis'> ]","flex-basis":"content | <'width'>","flex-direction":"row | row-reverse | column | column-reverse","flex-flow":"<'flex-direction'> || <'flex-wrap'>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap | wrap | wrap-reverse","float":"left | right | none | inline-start | inline-end",font:"[ [ <'font-style'> || <font-variant-css21> || <'font-weight'> || <'font-stretch'> ]? <'font-size'> [ / <'line-height'> ]? <'font-family'> ] | caption | icon | menu | message-box | small-caption | status-bar","font-family":"[ <family-name> | <generic-family> ]#","font-feature-settings":"normal | <feature-tag-value>#","font-kerning":"auto | normal | none","font-language-override":"normal | <string>","font-optical-sizing":"auto | none","font-variation-settings":"normal | [ <string> <number> ]#","font-size":"<absolute-size> | <relative-size> | <length-percentage>","font-size-adjust":"none | <number>","font-stretch":"<font-stretch-absolute>","font-style":"normal | italic | oblique <angle>?","font-synthesis":"none | [ weight || style ]","font-variant":"normal | none | [ <common-lig-values> || <discretionary-lig-values> || <historical-lig-values> || <contextual-alt-values> || stylistic( <feature-value-name> ) || historical-forms || styleset( <feature-value-name># ) || character-variant( <feature-value-name># ) || swash( <feature-value-name> ) || ornaments( <feature-value-name> ) || annotation( <feature-value-name> ) || [ small-caps | all-small-caps | petite-caps | all-petite-caps | unicase | titling-caps ] || <numeric-figure-values> || <numeric-spacing-values> || <numeric-fraction-values> || ordinal || slashed-zero || <east-asian-variant-values> || <east-asian-width-values> || ruby ]","font-variant-alternates":"normal | [ stylistic( <feature-value-name> ) || historical-forms || styleset( <feature-value-name># ) || character-variant( <feature-value-name># ) || swash( <feature-value-name> ) || ornaments( <feature-value-name> ) || annotation( <feature-value-name> ) ]","font-variant-caps":"normal | small-caps | all-small-caps | petite-caps | all-petite-caps | unicase | titling-caps","font-variant-east-asian":"normal | [ <east-asian-variant-values> || <east-asian-width-values> || ruby ]","font-variant-ligatures":"normal | none | [ <common-lig-values> || <discretionary-lig-values> || <historical-lig-values> || <contextual-alt-values> ]","font-variant-numeric":"normal | [ <numeric-figure-values> || <numeric-spacing-values> || <numeric-fraction-values> || ordinal || slashed-zero ]","font-variant-position":"normal | sub | super","font-weight":"<font-weight-absolute> | bolder | lighter",gap:"<'row-gap'> <'column-gap'>?",grid:"<'grid-template'> | <'grid-template-rows'> / [ auto-flow && dense? ] <'grid-auto-columns'>? | [ auto-flow && dense? ] <'grid-auto-rows'>? / <'grid-template-columns'>","grid-area":"<grid-line> [ / <grid-line> ]{0,3}","grid-auto-columns":"<track-size>+","grid-auto-flow":"[ row | column ] || dense","grid-auto-rows":"<track-size>+","grid-column":"<grid-line> [ / <grid-line> ]?","grid-column-end":"<grid-line>","grid-column-gap":"<length-percentage>","grid-column-start":"<grid-line>","grid-gap":"<'grid-row-gap'> <'grid-column-gap'>?","grid-row":"<grid-line> [ / <grid-line> ]?","grid-row-end":"<grid-line>","grid-row-gap":"<length-percentage>","grid-row-start":"<grid-line>","grid-template":"none | [ <'grid-template-rows'> / <'grid-template-columns'> ] | [ <line-names>? <string> <track-size>? <line-names>? ]+ [ / <explicit-track-list> ]?","grid-template-areas":"none | <string>+","grid-template-columns":"none | <track-list> | <auto-track-list>","grid-template-rows":"none | <track-list> | <auto-track-list>","hanging-punctuation":"none | [ first || [ force-end | allow-end ] || last ]",height:"[ <length> | <percentage> ] && [ border-box | content-box ]? | available | min-content | max-content | fit-content | auto",hyphens:"none | manual | auto","image-orientation":"from-image | <angle> | [ <angle>? flip ]","image-rendering":"auto | crisp-edges | pixelated | optimizeSpeed | optimizeQuality | <-non-standard-image-rendering>","image-resolution":"[ from-image || <resolution> ] && snap?","ime-mode":"auto | normal | active | inactive | disabled","initial-letter":"normal | [ <number> <integer>? ]","initial-letter-align":"[ auto | alphabetic | hanging | ideographic ]","inline-size":"<'width'>",inset:"<'top'>{1,4}","inset-block":"<'top'>{1,2}","inset-block-end":"<'top'>","inset-block-start":"<'top'>","inset-inline":"<'top'>{1,2}","inset-inline-end":"<'top'>","inset-inline-start":"<'top'>",isolation:"auto | isolate","justify-content":"normal | <content-distribution> | <overflow-position>? [ <content-position> | left | right ]","justify-items":"normal | stretch | <baseline-position> | <overflow-position>? [ <self-position> | left | right ] | legacy | legacy && [ left | right | center ]","justify-self":"auto | normal | stretch | <baseline-position> | <overflow-position>? [ <self-position> | left | right ]",left:"<length> | <percentage> | auto","letter-spacing":"normal | <length-percentage>","line-break":"auto | loose | normal | strict","line-clamp":"none | <integer>","line-height":"normal | <number> | <length> | <percentage>","line-height-step":"<length>","list-style":"<'list-style-type'> || <'list-style-position'> || <'list-style-image'>","list-style-image":"<url> | none","list-style-position":"inside | outside","list-style-type":"<counter-style> | <string> | none",margin:"[ <length> | <percentage> | auto ]{1,4}","margin-block":"<'margin-left'>{1,2}","margin-block-end":"<'margin-left'>","margin-block-start":"<'margin-left'>","margin-bottom":"<length> | <percentage> | auto","margin-inline":"<'margin-left'>{1,2}","margin-inline-end":"<'margin-left'>","margin-inline-start":"<'margin-left'>","margin-left":"<length> | <percentage> | auto","margin-right":"<length> | <percentage> | auto","margin-top":"<length> | <percentage> | auto",mask:"<mask-layer>#","mask-border":"<'mask-border-source'> || <'mask-border-slice'> [ / <'mask-border-width'>? [ / <'mask-border-outset'> ]? ]? || <'mask-border-repeat'> || <'mask-border-mode'>","mask-border-mode":"luminance | alpha","mask-border-outset":"[ <length> | <number> ]{1,4}","mask-border-repeat":"[ stretch | repeat | round | space ]{1,2}","mask-border-slice":"<number-percentage>{1,4} fill?","mask-border-source":"none | <image>","mask-border-width":"[ <length-percentage> | <number> | auto ]{1,4}","mask-clip":"[ <geometry-box> | no-clip ]#","mask-composite":"<compositing-operator>#","mask-image":"<mask-reference>#","mask-mode":"<masking-mode>#","mask-origin":"<geometry-box>#","mask-position":"<position>#","mask-repeat":"<repeat-style>#","mask-size":"<bg-size>#","mask-type":"luminance | alpha","max-block-size":"<'max-width'>","max-height":"<length> | <percentage> | none | max-content | min-content | fit-content | fill-available","max-inline-size":"<'max-width'>","max-lines":"none | <integer>","max-width":"<length> | <percentage> | none | max-content | min-content | fit-content | fill-available | <-non-standard-width>","min-block-size":"<'min-width'>","min-height":"<length> | <percentage> | auto | max-content | min-content | fit-content | fill-available","min-inline-size":"<'min-width'>","min-width":"<length> | <percentage> | auto | max-content | min-content | fit-content | fill-available | <-non-standard-width>","mix-blend-mode":"<blend-mode>","object-fit":"fill | contain | cover | none | scale-down","object-position":"<position>",offset:"[ <'offset-position'>? [ <'offset-path'> [ <'offset-distance'> || <'offset-rotate'> ]? ]? ]! [ / <'offset-anchor'> ]?","offset-anchor":"auto | <position>","offset-distance":"<length-percentage>","offset-path":"none | ray( [ <angle> && <size>? && contain? ] ) | <path()> | <url> | [ <basic-shape> || <geometry-box> ]","offset-position":"auto | <position>","offset-rotate":"[ auto | reverse ] || <angle>",opacity:"<number-zero-one>",order:"<integer>",orphans:"<integer>",outline:"[ <'outline-color'> || <'outline-style'> || <'outline-width'> ]","outline-color":"<color> | invert","outline-offset":"<length>","outline-style":"auto | <'border-style'>","outline-width":"<line-width>",overflow:"[ visible | hidden | clip | scroll | auto ]{1,2} | <-non-standard-overflow>","overflow-anchor":"auto | none","overflow-block":"visible | hidden | clip | scroll | auto","overflow-clip-box":"padding-box | content-box","overflow-inline":"visible | hidden | clip | scroll | auto","overflow-wrap":"normal | break-word | anywhere","overflow-x":"visible | hidden | clip | scroll | auto","overflow-y":"visible | hidden | clip | scroll | auto","overscroll-behavior":"[ contain | none | auto ]{1,2}","overscroll-behavior-x":"contain | none | auto","overscroll-behavior-y":"contain | none | auto",padding:"[ <length> | <percentage> ]{1,4}","padding-block":"<'padding-left'>{1,2}","padding-block-end":"<'padding-left'>","padding-block-start":"<'padding-left'>","padding-bottom":"<length> | <percentage>","padding-inline":"<'padding-left'>{1,2}","padding-inline-end":"<'padding-left'>","padding-inline-start":"<'padding-left'>","padding-left":"<length> | <percentage>","padding-right":"<length> | <percentage>","padding-top":"<length> | <percentage>","page-break-after":"auto | always | avoid | left | right | recto | verso","page-break-before":"auto | always | avoid | left | right | recto | verso","page-break-inside":"auto | avoid","paint-order":"normal | [ fill || stroke || markers ]",perspective:"none | <length>","perspective-origin":"<position>","place-content":"<'align-content'> <'justify-content'>?","place-items":"<'align-items'> <'justify-items'>?","place-self":"<'align-self'> <'justify-self'>?","pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | inherit",position:"static | relative | absolute | sticky | fixed | -webkit-sticky",quotes:"none | [ <string> <string> ]+",resize:"none | both | horizontal | vertical | block | inline",right:"<length> | <percentage> | auto",rotate:"none | <angle> | [ x | y | z | <number>{3} ] && <angle>","row-gap":"normal | <length-percentage>","ruby-align":"start | center | space-between | space-around","ruby-merge":"separate | collapse | auto","ruby-position":"over | under | inter-character",scale:"none | <number>{1,3}","scrollbar-color":"auto | dark | light | <color>{2}","scrollbar-width":"auto | thin | none","scroll-behavior":"auto | smooth","scroll-margin":"<length>{1,4}","scroll-margin-block":"<length>{1,2}","scroll-margin-block-start":"<length>","scroll-margin-block-end":"<length>","scroll-margin-bottom":"<length>","scroll-margin-inline":"<length>{1,2}","scroll-margin-inline-start":"<length>","scroll-margin-inline-end":"<length>","scroll-margin-left":"<length>","scroll-margin-right":"<length>","scroll-margin-top":"<length>","scroll-padding":"[ auto | <length-percentage> ]{1,4}","scroll-padding-block":"[ auto | <length-percentage> ]{1,2}","scroll-padding-block-start":"auto | <length-percentage>","scroll-padding-block-end":"auto | <length-percentage>","scroll-padding-bottom":"auto | <length-percentage>","scroll-padding-inline":"[ auto | <length-percentage> ]{1,2}","scroll-padding-inline-start":"auto | <length-percentage>","scroll-padding-inline-end":"auto | <length-percentage>","scroll-padding-left":"auto | <length-percentage>","scroll-padding-right":"auto | <length-percentage>","scroll-padding-top":"auto | <length-percentage>","scroll-snap-align":"[ none | start | end | center ]{1,2}","scroll-snap-coordinate":"none | <position>#","scroll-snap-destination":"<position>","scroll-snap-points-x":"none | repeat( <length-percentage> )","scroll-snap-points-y":"none | repeat( <length-percentage> )","scroll-snap-stop":"normal | always","scroll-snap-type":"none | [ x | y | block | inline | both ] [ mandatory | proximity ]?","scroll-snap-type-x":"none | mandatory | proximity","scroll-snap-type-y":"none | mandatory | proximity","shape-image-threshold":"<number>","shape-margin":"<length-percentage>","shape-outside":"none | <shape-box> || <basic-shape> | <image>","tab-size":"<integer> | <length>","table-layout":"auto | fixed","text-align":"start | end | left | right | center | justify | match-parent","text-align-last":"auto | start | end | left | right | center | justify","text-combine-upright":"none | all | [ digits <integer>? ]","text-decoration":"<'text-decoration-line'> || <'text-decoration-style'> || <'text-decoration-color'>","text-decoration-color":"<color>","text-decoration-line":"none | [ underline || overline || line-through || blink ]","text-decoration-skip":"none | [ objects || [ spaces | [ leading-spaces || trailing-spaces ] ] || edges || box-decoration ]","text-decoration-skip-ink":"auto | none","text-decoration-style":"solid | double | dotted | dashed | wavy","text-emphasis":"<'text-emphasis-style'> || <'text-emphasis-color'>","text-emphasis-color":"<color>","text-emphasis-position":"[ over | under ] && [ right | left ]","text-emphasis-style":"none | [ [ filled | open ] || [ dot | circle | double-circle | triangle | sesame ] ] | <string>","text-indent":"<length-percentage> && hanging? && each-line?","text-justify":"auto | inter-character | inter-word | none","text-orientation":"mixed | upright | sideways","text-overflow":"[ clip | ellipsis | <string> ]{1,2}","text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision","text-shadow":"none | <shadow-t>#","text-size-adjust":"none | auto | <percentage>","text-transform":"none | capitalize | uppercase | lowercase | full-width | full-size-kana","text-underline-position":"auto | [ under || [ left | right ] ]",top:"<length> | <percentage> | auto","touch-action":"auto | none | [ [ pan-x | pan-left | pan-right ] || [ pan-y | pan-up | pan-down ] || pinch-zoom ] | manipulation",transform:"none | <transform-list>","transform-box":"border-box | fill-box | view-box","transform-origin":"[ <length-percentage> | left | center | right | top | bottom ] | [ [ <length-percentage> | left | center | right ] && [ <length-percentage> | top | center | bottom ] ] <length>?","transform-style":"flat | preserve-3d",transition:"<single-transition>#","transition-delay":"<time>#","transition-duration":"<time>#","transition-property":"none | <single-transition-property>#","transition-timing-function":"<timing-function>#",translate:"none | <length-percentage> [ <length-percentage> <length>? ]?","unicode-bidi":"normal | embed | isolate | bidi-override | isolate-override | plaintext | -moz-isolate | -moz-isolate-override | -moz-plaintext | -webkit-isolate","user-select":"auto | text | none | contain | all","vertical-align":"baseline | sub | super | text-top | text-bottom | middle | top | bottom | <percentage> | <length>",visibility:"visible | hidden | collapse","white-space":"normal | pre | nowrap | pre-wrap | pre-line",widows:"<integer>",width:"[ <length> | <percentage> ] && [ border-box | content-box ]? | available | min-content | max-content | fit-content | auto","will-change":"auto | <animateable-feature>#","word-break":"normal | break-all | keep-all | break-word","word-spacing":"normal | <length-percentage>","word-wrap":"normal | break-word","writing-mode":"horizontal-tb | vertical-rl | vertical-lr | sideways-rl | sideways-lr | <svg-writing-mode>","z-index":"auto | <integer>",zoom:"normal | reset | <number> | <percentage>","-moz-background-clip":"padding | border","-moz-border-radius-bottomleft":"<'border-bottom-left-radius'>","-moz-border-radius-bottomright":"<'border-bottom-right-radius'>","-moz-border-radius-topleft":"<'border-top-left-radius'>","-moz-border-radius-topright":"<'border-bottom-right-radius'>","-moz-osx-font-smoothing":"auto | grayscale","-moz-user-select":"none | text | all | -moz-none","-ms-flex-align":"start | end | center | baseline | stretch","-ms-flex-item-align":"auto | start | end | center | baseline | stretch","-ms-flex-line-pack":"start | end | center | justify | distribute | stretch","-ms-flex-negative":"<'flex-shrink'>","-ms-flex-pack":"start | end | center | justify | distribute","-ms-flex-order":"<integer>","-ms-flex-positive":"<'flex-grow'>","-ms-flex-preferred-size":"<'flex-basis'>","-ms-interpolation-mode":"nearest-neighbor | bicubic","-ms-grid-column-align":"start | end | center | stretch","-ms-grid-row-align":"start | end | center | stretch","-webkit-background-clip":"[ <box> | border | padding | content | text ]#","-webkit-column-break-after":"always | auto | avoid","-webkit-column-break-before":"always | auto | avoid","-webkit-column-break-inside":"always | auto | avoid","-webkit-font-smoothing":"auto | none | antialiased | subpixel-antialiased","-webkit-mask-box-image":"[ <url> | <gradient> | none ] [ <length-percentage>{4} <-webkit-mask-box-repeat>{2} ]?","-webkit-print-color-adjust":"economy | exact","-webkit-text-security":"none | circle | disc | square","-webkit-user-drag":"none | element | auto","-webkit-user-select":"auto | none | text | all","alignment-baseline":"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical","baseline-shift":"baseline | sub | super | <svg-length>",behavior:"<url>+","clip-rule":"nonzero | evenodd",cue:"<'cue-before'> <'cue-after'>?","cue-after":"<url> <decibel>? | none","cue-before":"<url> <decibel>? | none","dominant-baseline":"auto | use-script | no-change | reset-size | ideographic | alphabetic | hanging | mathematical | central | middle | text-after-edge | text-before-edge",fill:"<paint>","fill-opacity":"<number-zero-one>","fill-rule":"nonzero | evenodd","glyph-orientation-horizontal":"<angle>","glyph-orientation-vertical":"<angle>",kerning:"auto | <svg-length>",marker:"none | <url>","marker-end":"none | <url>","marker-mid":"none | <url>","marker-start":"none | <url>",pause:"<'pause-before'> <'pause-after'>?","pause-after":"<time> | none | x-weak | weak | medium | strong | x-strong","pause-before":"<time> | none | x-weak | weak | medium | strong | x-strong",rest:"<'rest-before'> <'rest-after'>?","rest-after":"<time> | none | x-weak | weak | medium | strong | x-strong","rest-before":"<time> | none | x-weak | weak | medium | strong | x-strong","shape-rendering":"auto | optimizeSpeed | crispEdges | geometricPrecision",src:"[ <url> [ format( <string># ) ]? | local( <family-name> ) ]#",speak:"auto | none | normal","speak-as":"normal | spell-out || digits || [ literal-punctuation | no-punctuation ]",stroke:"<paint>","stroke-dasharray":"none | [ <svg-length>+ ]#","stroke-dashoffset":"<svg-length>","stroke-linecap":"butt | round | square","stroke-linejoin":"miter | round | bevel","stroke-miterlimit":"<number-one-or-greater>","stroke-opacity":"<number-zero-one>","stroke-width":"<svg-length>","text-anchor":"start | middle | end","unicode-range":"<urange>#","voice-balance":"<number> | left | center | right | leftwards | rightwards","voice-duration":"auto | <time>","voice-family":"[ [ <family-name> | <generic-voice> ] , ]* [ <family-name> | <generic-voice> ] | preserve","voice-pitch":"<frequency> && absolute | [ [ x-low | low | medium | high | x-high ] || [ <frequency> | <semitones> | <percentage> ] ]","voice-range":"<frequency> && absolute | [ [ x-low | low | medium | high | x-high ] || [ <frequency> | <semitones> | <percentage> ] ]","voice-rate":"[ normal | x-slow | slow | medium | fast | x-fast ] || <percentage>","voice-stress":"normal | strong | moderate | none | reduced","voice-volume":"silent | [ [ x-soft | soft | medium | loud | x-loud ] || <decibel> ]"}};},{}],2:[function(e,t,n){function r(e){return{prev:null,next:null,data:e};}function o(e,t,n){var r;return null!==a?(r=a,a=a.cursor,r.prev=t,r.next=n,r.cursor=e.cursor):r={prev:t,next:n,cursor:e.cursor},e.cursor=r,r;}function i(e){var t=e.cursor;e.cursor=t.cursor,t.prev=null,t.next=null,t.cursor=a,a=t;}var a=null,s=function s(){this.cursor=null,this.head=null,this.tail=null;};s.createItem=r,s.prototype.createItem=r,s.prototype.updateCursors=function(e,t,n,r){for(var o=this.cursor;null!==o;){o.prev===e&&(o.prev=t),o.next===n&&(o.next=r),o=o.cursor;}},s.prototype.getSize=function(){for(var e=0,t=this.head;t;){e++,t=t.next;}return e;},s.prototype.fromArray=function(e){var t=null;this.head=null;for(var n=0;n<e.length;n++){var o=r(e[n]);null!==t?t.next=o:this.head=o,o.prev=t,t=o;}return this.tail=t,this;},s.prototype.toArray=function(){for(var e=this.head,t=[];e;){t.push(e.data),e=e.next;}return t;},s.prototype.toJSON=s.prototype.toArray,s.prototype.isEmpty=function(){return null===this.head;},s.prototype.first=function(){return this.head&&this.head.data;},s.prototype.last=function(){return this.tail&&this.tail.data;},s.prototype.each=function(e,t){var n;void 0===t&&(t=this);for(var r=o(this,null,this.head);null!==r.next;){n=r.next,r.next=n.next,e.call(t,n.data,n,this);}i(this);},s.prototype.forEach=s.prototype.each,s.prototype.eachRight=function(e,t){var n;void 0===t&&(t=this);for(var r=o(this,this.tail,null);null!==r.prev;){n=r.prev,r.prev=n.prev,e.call(t,n.data,n,this);}i(this);},s.prototype.forEachRight=s.prototype.eachRight,s.prototype.nextUntil=function(e,t,n){if(null!==e){var r;void 0===n&&(n=this);for(var a=o(this,null,e);null!==a.next&&(r=a.next,a.next=r.next,!t.call(n,r.data,r,this));){;}i(this);}},s.prototype.prevUntil=function(e,t,n){if(null!==e){var r;void 0===n&&(n=this);for(var a=o(this,e,null);null!==a.prev&&(r=a.prev,a.prev=r.prev,!t.call(n,r.data,r,this));){;}i(this);}},s.prototype.some=function(e,t){var n=this.head;for(void 0===t&&(t=this);null!==n;){if(e.call(t,n.data,n,this))return!0;n=n.next;}return!1;},s.prototype.map=function(e,t){var n=new s(),r=this.head;for(void 0===t&&(t=this);null!==r;){n.appendData(e.call(t,r.data,r,this)),r=r.next;}return n;},s.prototype.filter=function(e,t){var n=new s(),r=this.head;for(void 0===t&&(t=this);null!==r;){e.call(t,r.data,r,this)&&n.appendData(r.data),r=r.next;}return n;},s.prototype.clear=function(){this.head=null,this.tail=null;},s.prototype.copy=function(){for(var e=new s(),t=this.head;null!==t;){e.insert(r(t.data)),t=t.next;}return e;},s.prototype.prepend=function(e){return this.updateCursors(null,e,this.head,e),null!==this.head?(this.head.prev=e,e.next=this.head):this.tail=e,this.head=e,this;},s.prototype.prependData=function(e){return this.prepend(r(e));},s.prototype.append=function(e){return this.insert(e);},s.prototype.appendData=function(e){return this.insert(r(e));},s.prototype.insert=function(e,t){if(void 0!==t&&null!==t){if(this.updateCursors(t.prev,e,t,e),null===t.prev){if(this.head!==t)throw new Error("before doesn't belong to list");this.head=e,t.prev=e,e.next=t,this.updateCursors(null,e);}else t.prev.next=e,e.prev=t.prev,t.prev=e,e.next=t;}else this.updateCursors(this.tail,e,null,e),null!==this.tail?(this.tail.next=e,e.prev=this.tail):this.head=e,this.tail=e;return this;},s.prototype.insertData=function(e,t){return this.insert(r(e),t);},s.prototype.remove=function(e){if(this.updateCursors(e,e.prev,e,e.next),null!==e.prev)e.prev.next=e.next;else{if(this.head!==e)throw new Error("item doesn't belong to list");this.head=e.next;}if(null!==e.next)e.next.prev=e.prev;else{if(this.tail!==e)throw new Error("item doesn't belong to list");this.tail=e.prev;}return e.prev=null,e.next=null,e;},s.prototype.push=function(e){this.insert(r(e));},s.prototype.pop=function(){if(null!==this.tail)return this.remove(this.tail);},s.prototype.unshift=function(e){this.prepend(r(e));},s.prototype.shift=function(){if(null!==this.head)return this.remove(this.head);},s.prototype.prependList=function(e){return this.insertList(e,this.head);},s.prototype.appendList=function(e){return this.insertList(e);},s.prototype.insertList=function(e,t){return null===e.head?this:(void 0!==t&&null!==t?(this.updateCursors(t.prev,e.tail,t,e.head),null!==t.prev?(t.prev.next=e.head,e.head.prev=t.prev):this.head=e.head,t.prev=e.tail,e.tail.next=t):(this.updateCursors(this.tail,e.tail,null,e.head),null!==this.tail?(this.tail.next=e.head,e.head.prev=this.tail):this.head=e.head,this.tail=e.tail),e.head=null,e.tail=null,this);},s.prototype.replace=function(e,t){"head"in t?this.insertList(t,e):this.insert(t,e),this.remove(e);},t.exports=s;},{}],3:[function(e,t,n){function r(e,t){for(var n=t.length,r=o(e.lines,n),c=e.startLine,u=o(e.columns,n),h=e.startColumn,p=t.length>0?i(t.charCodeAt(0)):0,d=p;d<n;d++){var m=t.charCodeAt(d);r[d]=c,u[d]=h++,m!==a&&m!==l&&m!==s||(m===l&&d+1<n&&t.charCodeAt(d+1)===a&&(d++,r[d]=c,u[d]=h),c++,h=1);}r[d]=c,u[d]=h,e.lines=r,e.columns=u;}var o=e("./adopt-buffer"),i=e("../tokenizer").isBOM,a=10,s=12,l=13,c=function c(){this.lines=null,this.columns=null,this.linesAndColumnsComputed=!1;};c.prototype={setSource:function setSource(e,t,n,r){this.source=e,this.startOffset=void 0===t?0:t,this.startLine=void 0===n?1:n,this.startColumn=void 0===r?1:r,this.linesAndColumnsComputed=!1;},ensureLinesAndColumnsComputed:function ensureLinesAndColumnsComputed(){this.linesAndColumnsComputed||(r(this,this.source),this.linesAndColumnsComputed=!0);},getLocation:function getLocation(e,t){return this.ensureLinesAndColumnsComputed(),{source:t,offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]};},getLocationRange:function getLocationRange(e,t,n){return this.ensureLinesAndColumnsComputed(),{source:n,start:{offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]},end:{offset:this.startOffset+t,line:this.lines[t],column:this.columns[t]}};}},t.exports=c;},{"../tokenizer":107,"./adopt-buffer":6}],4:[function(e,t,n){function r(e,t){function n(e,t){return r.slice(e,t).map(function(t,n){for(var r=String(e+n+1);r.length<h;){r=" "+r;}return r+" |"+t;}).join("\n");}var r=e.source.split(/\r\n?|\n|\f/),o=e.line,l=e.column,c=Math.max(1,o-t)-1,u=Math.min(o+t,r.length+1),h=Math.max(4,String(u).length)+1,p=0;(l+=(s.length-1)*(r[o-1].substr(0,l-1).match(/\t/g)||[]).length)>i&&(p=l-a+3,l=a-2);for(var d=c;d<=u;d++){d>=0&&d<r.length&&(r[d]=r[d].replace(/\t/g,s),r[d]=(p>0&&r[d].length>p?"…":"")+r[d].substr(p,i-2)+(r[d].length>p+i-1?"…":""));}return[n(c,o),new Array(l+h+2).join("-")+"^",n(o,u)].filter(Boolean).join("\n");}var o=e("../utils/createCustomError"),i=100,a=60,s="    ",l=function l(e,t,n,i,a){var s=o("SyntaxError",e);return s.source=t,s.offset=n,s.line=i,s.column=a,s.sourceFragment=function(e){return r(s,isNaN(e)?0:e);},Object.defineProperty(s,"formattedMessage",{get:function get(){return"Parse error: "+s.message+"\n"+r(s,2);}}),s.parseError={offset:n,line:i,column:a},s;};t.exports=l;},{"../utils/createCustomError":110}],5:[function(e,t,n){var r=e("../tokenizer/const"),o=r.TYPE,i=r.NAME,a=e("../tokenizer/utils"),s=a.cmpStr,l=o.EOF,c=o.WhiteSpace,u=o.Comment,h=function h(){this.offsetAndType=null,this.balance=null,this.reset();};h.prototype={reset:function reset(){this.eof=!1,this.tokenIndex=-1,this.tokenType=0,this.tokenStart=this.firstCharOffset,this.tokenEnd=this.firstCharOffset;},lookupType:function lookupType(e){return e+=this.tokenIndex,e<this.tokenCount?this.offsetAndType[e]>>24:l;},lookupOffset:function lookupOffset(e){return e+=this.tokenIndex,e<this.tokenCount?16777215&this.offsetAndType[e-1]:this.source.length;},lookupValue:function lookupValue(e,t){return(e+=this.tokenIndex)<this.tokenCount&&s(this.source,16777215&this.offsetAndType[e-1],16777215&this.offsetAndType[e],t);},getTokenStart:function getTokenStart(e){return e===this.tokenIndex?this.tokenStart:e>0?e<this.tokenCount?16777215&this.offsetAndType[e-1]:16777215&this.offsetAndType[this.tokenCount]:this.firstCharOffset;},getRawLength:function getRawLength(e,t){var n,r,o=e,i=16777215&this.offsetAndType[Math.max(o-1,0)];e:for(;o<this.tokenCount&&!((n=this.balance[o])<e);o++){switch(r=this.offsetAndType[o]>>24,t(r,this.source,i)){case 1:break e;case 2:o++;break e;default:i=16777215&this.offsetAndType[o],this.balance[n]===o&&(o=n);}}return o-this.tokenIndex;},isBalanceEdge:function isBalanceEdge(e){return this.balance[this.tokenIndex]<e;},isDelim:function isDelim(e,t){return t?this.lookupType(t)===o.Delim&&this.source.charCodeAt(this.lookupOffset(t))===e:this.tokenType===o.Delim&&this.source.charCodeAt(this.tokenStart)===e;},getTokenValue:function getTokenValue(){return this.source.substring(this.tokenStart,this.tokenEnd);},getTokenLength:function getTokenLength(){return this.tokenEnd-this.tokenStart;},substrToCursor:function substrToCursor(e){return this.source.substring(e,this.tokenStart);},skipWS:function skipWS(){for(var e=this.tokenIndex,t=0;e<this.tokenCount&&this.offsetAndType[e]>>24===c;e++,t++){;}t>0&&this.skip(t);},skipSC:function skipSC(){for(;this.tokenType===c||this.tokenType===u;){this.next();}},skip:function skip(e){var t=this.tokenIndex+e;t<this.tokenCount?(this.tokenIndex=t,this.tokenStart=16777215&this.offsetAndType[t-1],t=this.offsetAndType[t],this.tokenType=t>>24,this.tokenEnd=16777215&t):(this.tokenIndex=this.tokenCount,this.next());},next:function next(){var e=this.tokenIndex+1;e<this.tokenCount?(this.tokenIndex=e,this.tokenStart=this.tokenEnd,e=this.offsetAndType[e],this.tokenType=e>>24,this.tokenEnd=16777215&e):(this.tokenIndex=this.tokenCount,this.eof=!0,this.tokenType=l,this.tokenStart=this.tokenEnd=this.source.length);},dump:function dump(){var e=this.firstCharOffset;return Array.prototype.slice.call(this.offsetAndType,0,this.tokenCount).map(function(t,n){var r=e,o=16777215&t;return e=o,{idx:n,type:i[t>>24],chunk:this.source.substring(r,o),balance:this.balance[n]};},this);}},t.exports=h;},{"../tokenizer/const":106,"../tokenizer/utils":108}],6:[function(e,t,n){var r="undefined"!=typeof Uint32Array?Uint32Array:Array;t.exports=function(e,t){return null===e||e.length<t?new r(Math.max(t+1024,16384)):e;};},{}],7:[function(e,t,n){var r=e("../common/List");t.exports=function(e){return{fromPlainObject:function fromPlainObject(t){return e(t,{enter:function enter(e){e.children&&e.children instanceof r==!1&&(e.children=new r().fromArray(e.children));}}),t;},toPlainObject:function toPlainObject(t){return e(t,{leave:function leave(e){e.children&&e.children instanceof r&&(e.children=e.children.toArray());}}),t;}};};},{"../common/List":2}],8:[function(e,t,n){function r(e,t){var n=e.children,r=null;"function"!=typeof t?n.forEach(this.node,this):n.forEach(function(e){null!==r&&t.call(this,r),this.node(e),r=e;},this);}var o=e("./sourceMap"),i=Object.prototype.hasOwnProperty;t.exports=function(e){function t(e){if(!i.call(n,e.type))throw new Error("Unknown node type: "+e.type);n[e.type].call(this,e);}var n={};if(e.node)for(var a in e.node){n[a]=e.node[a].generate;}return function(e,n){var i="",a={children:r,node:t,chunk:function chunk(e){i+=e;},result:function result(){return i;}};return n&&("function"==typeof n.decorator&&(a=n.decorator(a)),n.sourceMap&&(a=o(a))),a.node(e),a.result();};};},{"./sourceMap":9}],9:[function(e,t,n){var r=e("source-map").SourceMapGenerator,o={Atrule:!0,Selector:!0,Declaration:!0};t.exports=function(e){var t=new r(),n=1,i=0,a={line:1,column:0},s={line:0,column:0},l=!1,c={line:1,column:0},u={generated:c},h=e.node;e.node=function(e){if(e.loc&&e.loc.start&&o.hasOwnProperty(e.type)){var r=e.loc.start.line,p=e.loc.start.column-1;s.line===r&&s.column===p||(s.line=r,s.column=p,a.line=n,a.column=i,l&&(l=!1,a.line===c.line&&a.column===c.column||t.addMapping(u)),l=!0,t.addMapping({source:e.loc.source,original:s,generated:a}));}h.call(this,e),l&&o.hasOwnProperty(e.type)&&(c.line=n,c.column=i);};var p=e.chunk;e.chunk=function(e){for(var t=0;t<e.length;t++){10===e.charCodeAt(t)?(n++,i=0):i++;}p(e);};var d=e.result;return e.result=function(){return l&&t.addMapping(u),{css:d(),map:t};},e;};},{"source-map":123}],10:[function(e,t,n){t.exports=e("./syntax");},{"./syntax":44}],11:[function(e,t,n){function r(e,t){var n={};for(var r in e){e[r].syntax&&(n[r]=t?e[r].syntax:p(e[r].syntax));}return n;}function o(e){for(var t=0;t<e.length;t++){if("var("===e[t].value.toLowerCase())return!0;}return!1;}function i(e,t,n){return{matched:e,iterations:n,error:t,getTrace:b.getTrace,isType:b.isType,isProperty:b.isProperty,isKeyword:b.isKeyword};}function a(e,t,n,r){var a,s=m(n,e.syntax);return o(s)?i(null,new Error("Matching for a tree with var() is not supported")):(r&&(a=f(s,e.valueCommonSyntax,e)),r&&a.match||(a=f(s,t.match,e),a.match)?i(a.match,null,a.iterations):i(null,new l(a.reason,t.syntax,n,a),a.iterations));}var s=e("./error").SyntaxReferenceError,l=e("./error").MatchError,c=e("../utils/names"),u=e("./generic"),h=e("./grammar/parse"),p=e("./grammar/generate"),d=e("./grammar/walk"),m=e("./prepare-tokens"),g=e("./match-graph").buildMatchGraph,f=e("./match").matchAsTree,b=e("./trace"),k=e("./search"),y=e("./structure").getStructureFromConfig,v=g("inherit | initial | unset"),x=g("inherit | initial | unset | <-ms-legacy-expression>"),w=function w(e,t,n){if(this.valueCommonSyntax=v,this.syntax=t,this.generic=!1,this.properties={},this.types={},this.structure=n||y(e),e){if(e.types)for(var r in e.types){this.addType_(r,e.types[r]);}if(e.generic){this.generic=!0;for(var r in u){this.addType_(r,u[r]);}}if(e.properties)for(var r in e.properties){this.addProperty_(r,e.properties[r]);}}};w.prototype={structure:{},checkStructure:function checkStructure(e){function t(e,t){r.push({node:e,message:t});}var n=this.structure,r=[];return this.syntax.walk(e,function(e){n.hasOwnProperty(e.type)?n[e.type].check(e,t):t(e,"Unknown node type `"+e.type+"`");}),!!r.length&&r;},createDescriptor:function createDescriptor(e,t,n){var r={type:t,name:n},o={type:t,name:n,syntax:null,match:null};return"function"==typeof e?o.match=g(e,r):("string"==typeof e?Object.defineProperty(o,"syntax",{get:function get(){return Object.defineProperty(o,"syntax",{value:h(e)}),o.syntax;}}):o.syntax=e,Object.defineProperty(o,"match",{get:function get(){return Object.defineProperty(o,"match",{value:g(o.syntax,r)}),o.match;}})),o;},addProperty_:function addProperty_(e,t){this.properties[e]=this.createDescriptor(t,"Property",e);},addType_:function addType_(e,t){this.types[e]=this.createDescriptor(t,"Type",e),t===u["-ms-legacy-expression"]&&(this.valueCommonSyntax=x);},matchDeclaration:function matchDeclaration(e){return"Declaration"!==e.type?i(null,new Error("Not a Declaration node")):this.matchProperty(e.property,e.value);},matchProperty:function matchProperty(e,t){var n=c.property(e);if(n.custom)return i(null,new Error("Lexer matching doesn't applicable for custom properties"));var r=n.vendor?this.getProperty(n.name)||this.getProperty(n.basename):this.getProperty(n.name);return r?a(this,r,t,!0):i(null,new s("Unknown property",e));},matchType:function matchType(e,t){var n=this.getType(e);return n?a(this,n,t,!1):i(null,new s("Unknown type",e));},match:function match(e,t){return"string"==typeof e||e&&e.type?("string"!=typeof e&&e.match||(e=this.createDescriptor(e,"Type","anonymous")),a(this,e,t,!1)):i(null,new s("Bad syntax"));},findValueFragments:function findValueFragments(e,t,n,r){return k.matchFragments(this,t,this.matchProperty(e,t),n,r);},findDeclarationValueFragments:function findDeclarationValueFragments(e,t,n){return k.matchFragments(this,e.value,this.matchDeclaration(e),t,n);},findAllFragments:function findAllFragments(e,t,n){var r=[];return this.syntax.walk(e,{visit:"Declaration",enter:function(e){r.push.apply(r,this.findDeclarationValueFragments(e,t,n));}.bind(this)}),r;},getProperty:function getProperty(e){return this.properties.hasOwnProperty(e)?this.properties[e]:null;},getType:function getType(e){return this.types.hasOwnProperty(e)?this.types[e]:null;},validate:function validate(){function e(r,o,i,a){if(i.hasOwnProperty(o))return i[o];i[o]=!1,null!==a.syntax&&d(a.syntax,function(a){if("Type"===a.type||"Property"===a.type){var s="Type"===a.type?r.types:r.properties,l="Type"===a.type?t:n;s.hasOwnProperty(a.name)&&!e(r,a.name,l,s[a.name])||(i[o]=!0);}},this);}var t={},n={};for(var r in this.types){e(this,r,t,this.types[r]);}for(var r in this.properties){e(this,r,n,this.properties[r]);}return t=Object.keys(t).filter(function(e){return t[e];}),n=Object.keys(n).filter(function(e){return n[e];}),t.length||n.length?{types:t,properties:n}:null;},dump:function dump(e){return{generic:this.generic,types:r(this.types,e),properties:r(this.properties,e)};},toString:function toString(){return JSON.stringify(this.dump());}},t.exports=w;},{"../utils/names":111,"./error":12,"./generic":15,"./grammar/generate":17,"./grammar/parse":19,"./grammar/walk":21,"./match":23,"./match-graph":22,"./prepare-tokens":24,"./search":25,"./structure":26,"./trace":27}],12:[function(e,t,n){function r(e){for(var t=e.tokens,n=e.longestMatch,r=n<t.length?t[n].node:null,o=-1,i=0,a="",s=0;s<t.length;s++){s===n&&(o=a.length),null!==r&&t[s].node===r&&(s<=n?i++:i=0),a+=t[s].value;}return{node:r,css:a,mismatchOffset:-1===o?a.length:o,last:null===r||i>1};}function o(e,t){var n=e&&e.loc&&e.loc[t];return n?{offset:n.offset,line:n.line,column:n.column}:null;}var i=e("../utils/createCustomError"),a=e("./grammar/generate"),s=function s(e,t){var n=i("SyntaxReferenceError",e+(t?" `"+t+"`":""));return n.reference=t,n;},l=function l(e,t,n,s){var l=i("SyntaxMatchError",e),c=r(s),u=c.mismatchOffset||0,h=c.node||n,p=o(h,"end"),d=c.last?p:o(h,"start"),m=c.css;return l.rawMessage=e,l.syntax=t?a(t):"<generic>",l.css=m,l.mismatchOffset=u,l.loc={source:h&&h.loc&&h.loc.source||"<unknown>",start:d,end:p},l.line=d?d.line:void 0,l.column=d?d.column:void 0,l.offset=d?d.offset:void 0,l.message=e+"\n  syntax: "+l.syntax+"\n   value: "+(l.css||"<empty string>")+"\n  --------"+new Array(l.mismatchOffset+1).join("-")+"^",l;};t.exports={SyntaxReferenceError:s,MatchError:l};},{"../utils/createCustomError":110,"./grammar/generate":17}],13:[function(e,t,n){function r(e,t){return null!==e&&e.type===u&&e.value.charCodeAt(0)===t;}function o(e,t,n){for(;null!==e&&(e.type===h||e.type===p);){e=n(++t);}return t;}function i(e,t,n,r){if(!e)return 0;var o=e.value.charCodeAt(t);if(o===f||o===b){if(n)return 0;t++;}for(;t<e.value.length;t++){if(!s(e.value.charCodeAt(t)))return 0;}return r+1;}function a(e,t,n){var a=!1,s=o(e,t,n);if(null===(e=n(s)))return t;if(e.type!==m){if(!r(e,f)&&!r(e,b))return t;if(a=!0,s=o(n(++s),s,n),null===(e=n(s))&&e.type!==m)return 0;}if(!a){var l=e.value.charCodeAt(0);if(l!==f&&l!==b)return 0;}return i(e,a?0:1,a,s);}var s=e("../tokenizer").isDigit,l=e("../tokenizer").cmpChar,c=e("../tokenizer").TYPE,u=c.Delim,h=c.WhiteSpace,p=c.Comment,d=c.Ident,m=c.Number,g=c.Dimension,f=43,b=45;t.exports=function(e,t){var n=0;if(!e)return 0;if(e.type===m)return i(e,0,!1,n);if(e.type===d&&e.value.charCodeAt(0)===b){if(!l(e.value,1,110))return 0;switch(e.value.length){case 2:return a(t(++n),n,t);case 3:return e.value.charCodeAt(2)!==b?0:(n=o(t(++n),n,t),e=t(n),i(e,0,!0,n));default:return e.value.charCodeAt(2)!==b?0:i(e,3,!0,n);}}else if(e.type===d||r(e,f)&&t(n+1).type===d){if(e.type!==d&&(e=t(++n)),null===e||!l(e.value,0,110))return 0;switch(e.value.length){case 1:return a(t(++n),n,t);case 2:return e.value.charCodeAt(1)!==b?0:(n=o(t(++n),n,t),e=t(n),i(e,0,!0,n));default:return e.value.charCodeAt(1)!==b?0:i(e,2,!0,n);}}else if(e.type===g){for(var c=e.value.charCodeAt(0),u=c===f||c===b?1:0,h=u;h<e.value.length&&s(e.value.charCodeAt(h));h++){;}return h===u?0:l(e.value,h,110)?h+1===e.value.length?a(t(++n),n,t):e.value.charCodeAt(h+1)!==b?0:h+2===e.value.length?(n=o(t(++n),n,t),e=t(n),i(e,0,!0,n)):i(e,h+2,!0,n):0;}return 0;};},{"../tokenizer":107}],14:[function(e,t,n){function r(e,t){return null!==e&&e.type===h&&e.value.charCodeAt(0)===t;}function o(e,t){return e.value.charCodeAt(0)===t;}function i(e,t,n){for(var r=t,o=0;r<e.value.length;r++){var a=e.value.charCodeAt(r);if(a===m&&n&&0!==o)return i(e,t+o+1,!1)>0?6:0;if(!s(a))return 0;if(++o>6)return 0;}return o;}function a(e,t,n){if(!e)return 0;for(;r(n(t),g);){if(++e>6)return 0;t++;}return t;}var s=e("../tokenizer").isHexDigit,l=e("../tokenizer").cmpChar,c=e("../tokenizer").TYPE,u=c.Ident,h=c.Delim,p=c.Number,d=c.Dimension,m=45,g=63;t.exports=function(e,t){var n=0;if(null===e||e.type!==u||!l(e.value,0,117))return 0;if(null===(e=t(++n)))return 0;if(r(e,43))return e=t(++n),null===e?0:e.type===u?a(i(e,0,!0),++n,t):r(e,g)?a(1,++n,t):0;if(e.type===p){if(!o(e,43))return 0;var s=i(e,1,!0);return 0===s?0:(e=t(++n),null===e?n:e.type===d||e.type===p?o(e,m)&&i(e,1,!1)?n+1:0:a(s,n,t));}return e.type===d&&o(e,43)?a(i(e,1,!0),++n,t):0;};},{"../tokenizer":107}],15:[function(e,t,n){function r(e,t){return t<e.length?e.charCodeAt(t):0;}function o(e,t){return A(e,0,e.length,t);}function i(e,t){for(var n=0;n<t.length;n++){if(o(e,t[n]))return!0;}return!1;}function a(e,t){return t===e.length-2&&92===e.charCodeAt(t)&&z(e.charCodeAt(t+1));}function s(e,t,n){if(e&&"Range"===e.type){var r=Number(void 0!==n&&n!==t.length?t.substr(0,n):t);if(isNaN(r))return!0;if(null!==e.min&&r<e.min)return!0;if(null!==e.max&&r>e.max)return!0;}return!1;}function l(e,t){var n=e.index,r=0;do{if(r++,e.balance<=n)break;}while(e=t(r));return r;}function c(e){return function(t,n,r){return null===t?0:t.type===P.Function&&i(t.value,O)?l(t,n):e(t,n,r);};}function u(e){return function(t){return null===t||t.type!==e?0:1;};}function h(e){if(null===e||e.type!==P.Ident)return 0;var t=e.value.toLowerCase();return i(t,_)?0:o(t,"default")?0:1;}function p(e){return null===e||e.type!==P.Ident?0:45!==r(e.value,0)||45!==r(e.value,1)?0:1;}function d(e){if(null===e||e.type!==P.Hash)return 0;var t=e.value.length;if(4!==t&&5!==t&&7!==t&&9!==t)return 0;for(var n=1;n<t;n++){if(!C(e.value.charCodeAt(n)))return 0;}return 1;}function m(e){return null===e||e.type!==P.Hash?0:S(r(e.value,1),r(e.value,2),r(e.value,3))?1:0;}function g(e,t){if(!e)return 0;var n=0,r=0,o=e.index;e:do{switch(e.type){case P.BadString:case P.BadUrl:break e;case P.RightCurlyBracket:case P.RightParenthesis:case P.RightSquareBracket:if(e.balance>e.index||e.balance<o)break e;r--;break;case P.Semicolon:if(0===r)break e;break;case P.Delim:if("!"===e.value&&0===r)break e;break;case P.Function:case P.LeftParenthesis:case P.LeftSquareBracket:case P.LeftCurlyBracket:r++;}if(n++,e.balance<=o)break;}while(e=t(n));return n;}function f(e,t){if(!e)return 0;var n=e.index,r=0;e:do{switch(e.type){case P.BadString:case P.BadUrl:break e;case P.RightCurlyBracket:case P.RightParenthesis:case P.RightSquareBracket:if(e.balance>e.index||e.balance<n)break e;}if(r++,e.balance<=n)break;}while(e=t(r));return r;}function b(e){return function(t,n,r){if(null===t||t.type!==P.Dimension)return 0;var o=L(t.value,0);if(null!==e){var i=t.value.indexOf("\\",o),l=-1!==i&&a(t.value,i)?t.value.substring(o,i):t.value.substr(o);if(!1===e.hasOwnProperty(l.toLowerCase()))return 0;}return s(r,t.value,o)?0:1;};}function k(e,t,n){return null===e||e.type!==P.Percentage?0:s(n,e.value,e.value.length-1)?0:1;}function y(e){return"function"!=typeof e&&(e=function e(){return 0;}),function(t,n,r){return null!==t&&t.type===P.Number&&0===Number(t.value)?1:e(t,n,r);};}function v(e,t,n){if(null===e)return 0;var r=L(e.value,0);return r===e.value.length||a(e.value,r)?s(n,e.value,r)?0:1:0;}function x(e,t,n){if(null===e||e.type!==P.Number)return 0;for(var r=43===e.value.charCodeAt(0)||45===e.value.charCodeAt(0)?1:0;r<e.value.length;r++){if(!z(e.value.charCodeAt(r)))return 0;}return s(n,e.value,r)?0:1;}var w=e("../tokenizer"),S=w.isIdentifierStart,C=w.isHexDigit,z=w.isDigit,A=w.cmpStr,L=w.consumeNumber,P=w.TYPE,T=e("./generic-an-plus-b"),E=e("./generic-urange"),_=["unset","initial","inherit"],O=["calc(","-moz-calc(","-webkit-calc("],M={px:!0,mm:!0,cm:!0,"in":!0,pt:!0,pc:!0,q:!0,em:!0,ex:!0,ch:!0,rem:!0,vh:!0,vw:!0,vmin:!0,vmax:!0,vm:!0},R={deg:!0,grad:!0,rad:!0,turn:!0},D={s:!0,ms:!0},B={hz:!0,khz:!0},N={dpi:!0,dpcm:!0,dppx:!0,x:!0},I={fr:!0},j={db:!0},F={st:!0};t.exports={"ident-token":u(P.Ident),"function-token":u(P.Function),"at-keyword-token":u(P.AtKeyword),"hash-token":u(P.Hash),"string-token":u(P.String),"bad-string-token":u(P.BadString),"url-token":u(P.Url),"bad-url-token":u(P.BadUrl),"delim-token":u(P.Delim),"number-token":u(P.Number),"percentage-token":u(P.Percentage),"dimension-token":u(P.Dimension),"whitespace-token":u(P.WhiteSpace),"CDO-token":u(P.CDO),"CDC-token":u(P.CDC),"colon-token":u(P.Colon),"semicolon-token":u(P.Semicolon),"comma-token":u(P.Comma),"[-token":u(P.LeftSquareBracket),"]-token":u(P.RightSquareBracket),"(-token":u(P.LeftParenthesis),")-token":u(P.RightParenthesis),"{-token":u(P.LeftCurlyBracket),"}-token":u(P.RightCurlyBracket),string:u(P.String),ident:u(P.Ident),"custom-ident":h,"custom-property-name":p,"hex-color":d,"id-selector":m,"an-plus-b":T,urange:E,"declaration-value":g,"any-value":f,dimension:c(b(null)),angle:c(b(R)),decibel:c(b(j)),frequency:c(b(B)),flex:c(b(I)),length:c(y(b(M))),resolution:c(b(N)),semitones:c(b(F)),time:c(b(D)),percentage:c(k),zero:y(),number:c(v),integer:c(x),"-ms-legacy-expression":function(e){return e+="(",function(t,n){return null!==t&&o(t.value,e)?l(t,n):0;};}("expression")};},{"../tokenizer":107,"./generic-an-plus-b":13,"./generic-urange":14}],16:[function(e,t,n){var r=e("../../utils/createCustomError"),o=function o(e,t,n){var o=r("SyntaxParseError",e);return o.input=t,o.offset=n,o.rawMessage=e,o.message=o.rawMessage+"\n  "+o.input+"\n--"+new Array((o.offset||o.input.length)+1).join("-")+"^",o;};t.exports={SyntaxParseError:o};},{"../../utils/createCustomError":110}],17:[function(e,t,n){function r(e){return e;}function o(e){return 0===e.min&&0===e.max?"*":0===e.min&&1===e.max?"?":1===e.min&&0===e.max?e.comma?"#":"+":1===e.min&&1===e.max?"":(e.comma?"#":"")+(e.min===e.max?"{"+e.min+"}":"{"+e.min+","+(0!==e.max?e.max:"")+"}");}function i(e){switch(e.type){case"Range":return" ["+(null===e.min?"-∞":e.min)+","+(null===e.max?"∞":e.max)+"]";default:throw new Error("Unknown node type `"+e.type+"`");}}function a(e,t,n){var r=e.terms.map(function(e){return s(e,t,n);}).join(" "===e.combinator?" ":" "+e.combinator+" ");return(e.explicit||t)&&(r=(","!==r[0]?"[ ":"[")+r+" ]"),r;}function s(e,t,n){var r;switch(e.type){case"Group":r=a(e,t,n)+(e.disallowEmpty?"!":"");break;case"Multiplier":return s(e.term,t,n)+n(o(e),e);case"Type":r="<"+e.name+(e.opts?n(i(e.opts),e.opts):"")+">";break;case"Property":r="<'"+e.name+"'>";break;case"Keyword":r=e.name;break;case"AtKeyword":r="@"+e.name;break;case"Function":r=e.name+"(";break;case"String":case"Token":r=e.value;break;case"Comma":r=",";break;default:throw new Error("Unknown node type `"+e.type+"`");}return n(r,e);}t.exports=function(e,t){var n=r,o=!1;return"function"==typeof t?n=t:t&&(o=Boolean(t.forceBraces),"function"==typeof t.decorate&&(n=t.decorate)),s(e,o,n);};},{}],18:[function(e,t,n){t.exports={SyntaxParseError:e("./error").SyntaxParseError,parse:e("./parse"),generate:e("./generate"),walk:e("./walk")};},{"./error":16,"./generate":17,"./parse":19,"./walk":21}],19:[function(e,t,n){function r(e){return e.substringToPos(e.findWsEnd(e.pos));}function o(e){for(var t=e.pos;t<e.str.length;t++){var n=e.str.charCodeAt(t);if(n>=128||0===H[n])break;}return e.pos===t&&e.error("Expect a keyword"),e.substringToPos(t);}function i(e){for(var t=e.pos;t<e.str.length;t++){var n=e.str.charCodeAt(t);if(n<48||n>57)break;}return e.pos===t&&e.error("Expect a number"),e.substringToPos(t);}function a(e){var t=e.str.indexOf("'",e.pos+1);return-1===t&&(e.pos=e.str.length,e.error("Expect an apostrophe")),e.substringToPos(t+1);}function s(e){var t=null,n=null;return e.eat(q),t=i(e),e.charCode()===R?(e.pos++,e.charCode()!==Y&&(n=i(e))):n=t,e.eat(Y),{min:Number(t),max:n?Number(n):0};}function l(e){var t=null,n=!1;switch(e.charCode()){case O:e.pos++,t={min:0,max:0};break;case M:e.pos++,t={min:1,max:0};break;case I:e.pos++,t={min:0,max:1};break;case L:e.pos++,n=!0,t=e.charCode()===q?s(e):{min:1,max:0};break;case q:t=s(e);break;default:return null;}return{type:"Multiplier",comma:n,min:t.min,max:t.max,term:null};}function c(e,t){var n=l(e);return null!==n?(n.term=t,n):t;}function u(e){var t=e.peek();return""===t?null:{type:"Token",value:t};}function h(e){var t;return e.eat(B),e.eat(T),t=o(e),e.eat(T),e.eat(N),c(e,{type:"Property",name:t});}function p(e){var t=null,n=null,o=1;return e.eat(F),e.charCode()===D&&(e.peek(),o=-1),-1==o&&e.charCode()===G?e.peek():t=o*Number(i(e)),r(e),e.eat(R),r(e),e.charCode()===G?e.peek():(o=1,e.charCode()===D&&(e.peek(),o=-1),n=o*Number(i(e))),e.eat(W),null===t&&null===n?null:{type:"Range",min:t,max:n};}function d(e){var t,n=null;return e.eat(B),t=o(e),e.charCode()===E&&e.nextCharCode()===_&&(e.pos+=2,t+="()"),e.charCodeAt(e.findWsEnd(e.pos))===F&&(r(e),n=p(e)),e.eat(N),c(e,{type:"Type",name:t,opts:n});}function m(e){var t;return t=o(e),e.charCode()===E?(e.pos++,{type:"Function",name:t}):c(e,{type:"Keyword",name:t});}function g(e,t){function n(e,t){return{type:"Group",terms:e,combinator:t,disallowEmpty:!1,explicit:!1};}for(t=Object.keys(t).sort(function(e,t){return V[e]-V[t];});t.length>0;){for(var r=t.shift(),o=0,i=0;o<e.length;o++){var a=e[o];"Combinator"===a.type&&(a.value===r?(-1===i&&(i=o-1),e.splice(o,1),o--):(-1!==i&&o-i>1&&(e.splice(i,o-i,n(e.slice(i,o),r)),o=i+1),i=-1));}-1!==i&&t.length&&e.splice(i,o-i,n(e.slice(i,o),r));}return r;}function f(e){for(var t,n=[],r={},o=null,i=e.pos;t=k(e);){"Spaces"!==t.type&&("Combinator"===t.type?(null!==o&&"Combinator"!==o.type||(e.pos=i,e.error("Unexpected combinator")),r[t.value]=!0):null!==o&&"Combinator"!==o.type&&(r[" "]=!0,n.push({type:"Combinator",value:" "})),n.push(t),o=t,i=e.pos);}return null!==o&&"Combinator"===o.type&&(e.pos-=i,e.error("Unexpected combinator")),{type:"Group",terms:n,combinator:g(n,r)||" ",disallowEmpty:!1,explicit:!1};}function b(e){var t;return e.eat(F),t=f(e),e.eat(W),t.explicit=!0,e.charCode()===A&&(e.pos++,t.disallowEmpty=!0),t;}function k(e){var t=e.charCode();if(t<128&&1===H[t])return m(e);switch(t){case W:break;case F:return c(e,b(e));case B:return e.nextCharCode()===T?h(e):d(e);case U:return{type:"Combinator",value:e.substringToPos(e.nextCharCode()===U?e.pos+2:e.pos+1)};case P:return e.pos++,e.eat(P),{type:"Combinator",value:"&&"};case R:return e.pos++,{type:"Comma"};case T:return c(e,{type:"String",value:a(e)});case z:case x:case w:case C:case S:return{type:"Spaces",value:r(e)};case j:return t=e.nextCharCode(),t<128&&1===H[t]?(e.pos++,{type:"AtKeyword",name:o(e)}):u(e);case O:case M:case I:case L:case A:break;case q:if((t=e.nextCharCode())<48||t>57)return u(e);break;default:return u(e);}}function y(e){var t=new v(e),n=f(t);return t.pos!==e.length&&t.error("Unexpected input"),1===n.terms.length&&"Group"===n.terms[0].type&&(n=n.terms[0]),n;}var v=e("./tokenizer"),x=9,w=10,S=12,C=13,z=32,A=33,L=35,P=38,T=39,E=40,_=41,O=42,M=43,R=44,D=45,B=60,N=62,I=63,j=64,F=91,W=93,q=123,U=124,Y=125,G=8734,H=function(e){for(var t="function"==typeof Uint32Array?new Uint32Array(128):new Array(128),n=0;n<128;n++){t[n]=e(String.fromCharCode(n))?1:0;}return t;}(function(e){return /[a-zA-Z0-9\-]/.test(e);}),V={" ":1,"&&":2,"||":3,"|":4};y("[a&&<b>#|<'c'>*||e() f{2} /,(% g#{1,2} h{2,})]!"),t.exports=y;},{"./tokenizer":20}],20:[function(e,t,n){var r=e("./error").SyntaxParseError,o=function o(e){this.str=e,this.pos=0;};o.prototype={charCodeAt:function charCodeAt(e){return e<this.str.length?this.str.charCodeAt(e):0;},charCode:function charCode(){return this.charCodeAt(this.pos);},nextCharCode:function nextCharCode(){return this.charCodeAt(this.pos+1);},nextNonWsCode:function nextNonWsCode(e){return this.charCodeAt(this.findWsEnd(e));},findWsEnd:function findWsEnd(e){for(;e<this.str.length;e++){var t=this.str.charCodeAt(e);if(13!==t&&10!==t&&12!==t&&32!==t&&9!==t)break;}return e;},substringToPos:function substringToPos(e){return this.str.substring(this.pos,this.pos=e);},eat:function eat(e){this.charCode()!==e&&this.error("Expect `"+String.fromCharCode(e)+"`"),this.pos++;},peek:function peek(){return this.pos<this.str.length?this.str.charAt(this.pos++):"";},error:function error(e){throw new r(e,this.str,this.pos);}},t.exports=o;},{"./error":16}],21:[function(e,t,n){function r(e){return"function"==typeof e?e:o;}var o=function o(){};t.exports=function(e,t,n){function i(e){switch(a.call(n,e),e.type){case"Group":e.terms.forEach(i);break;case"Multiplier":i(e.term);break;case"Type":case"Property":case"Keyword":case"AtKeyword":case"Function":case"String":case"Token":case"Comma":break;default:throw new Error("Unknown type: "+e.type);}s.call(n,e);}var a=o,s=o;if("function"==typeof t?a=t:t&&(a=r(t.enter),s=r(t.leave)),a===o&&s===o)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");i(e,n);};},{}],22:[function(e,t,n){function r(e,t,n){return t===u&&n===h?e:e===u&&t===u&&n===u?e:("If"===e.type&&e["else"]===h&&t===u&&(t=e.then,e=e.match),{type:"If",match:e,then:t,"else":n});}function o(e){return e.length>2&&e.charCodeAt(e.length-2)===d&&e.charCodeAt(e.length-1)===m;}function i(e){return"Keyword"===e.type||"AtKeyword"===e.type||"Function"===e.type||"Type"===e.type&&o(e.name);}function a(e,t,n){switch(e){case" ":for(var s=u,l=t.length-1;l>=0;l--){var c=t[l];s=r(c,s,h);}return s;case"|":for(var s=h,p=null,l=t.length-1;l>=0;l--){var c=t[l];if(i(c)&&(null===p&&l>0&&i(t[l-1])&&(p=Object.create(null),s=r({type:"Enum",map:p},u,s)),null!==p)){var d=(o(c.name)?c.name.slice(0,-1):c.name).toLowerCase();if(d in p==!1){p[d]=c;continue;}}p=null,s=r(c,u,s);}return s;case"&&":if(t.length>5)return{type:"MatchOnce",terms:t,all:!0};for(var s=h,l=t.length-1;l>=0;l--){var m,c=t[l];m=t.length>1?a(e,t.filter(function(e){return e!==c;}),!1):u,s=r(c,m,s);}return s;case"||":if(t.length>5)return{type:"MatchOnce",terms:t,all:!1};for(var s=n?u:h,l=t.length-1;l>=0;l--){var m,c=t[l];m=t.length>1?a(e,t.filter(function(e){return e!==c;}),!0):u,s=r(c,m,s);}return s;}}function s(e){var t=u,n=l(e.term);if(0===e.max)n=r(n,p,h),t=r(n,null,h),t.then=r(u,u,t),e.comma&&(t.then["else"]=r({type:"Comma",syntax:e},t,h));else for(var o=e.min||1;o<=e.max;o++){e.comma&&t!==u&&(t=r({type:"Comma",syntax:e},t,h)),t=r(n,r(u,u,t),h);}if(0===e.min)t=r(u,u,t);else for(var o=0;o<e.min-1;o++){e.comma&&t!==u&&(t=r({type:"Comma",syntax:e},t,h)),t=r(n,t,h);}return t;}function l(e){if("function"==typeof e)return{type:"Generic",fn:e};switch(e.type){case"Group":var t=a(e.combinator,e.terms.map(l),!1);return e.disallowEmpty&&(t=r(t,p,h)),t;case"Multiplier":return s(e);case"Type":case"Property":return{type:e.type,name:e.name,syntax:e};case"Keyword":return{type:e.type,name:e.name.toLowerCase(),syntax:e};case"AtKeyword":return{type:e.type,name:"@"+e.name.toLowerCase(),syntax:e};case"Function":return{type:e.type,name:e.name.toLowerCase()+"(",syntax:e};case"String":return 3===e.value.length?{type:"Token",value:e.value.charAt(1),syntax:e}:{type:e.type,value:e.value.substr(1,e.value.length-2).replace(/\\'/g,"'"),syntax:e};case"Token":return{type:e.type,value:e.value,syntax:e};case"Comma":return{type:e.type,syntax:e};default:throw new Error("Unknown node type:",e.type);}}var c=e("./grammar/parse"),u={type:"Match"},h={type:"Mismatch"},p={type:"DisallowEmpty"},d=40,m=41;t.exports={MATCH:u,MISMATCH:h,DISALLOW_EMPTY:p,buildMatchGraph:function buildMatchGraph(e,t){return"string"==typeof e&&(e=c(e)),{type:"MatchGraph",match:l(e),syntax:t||null,source:e};}};},{"./grammar/parse":19}],23:[function(e,t,n){function r(e){for(var t=null,n=null,r=e;null!==r;){n=r.prev,r.prev=t,t=r,r=n;}return t;}function o(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e.charCodeAt(n),o=t.charCodeAt(n);if(r>=65&&r<=90&&(r|=32),r!==o)return!1;}return!0;}function i(e){return null===e||e.type===g.Comma||e.type===g.Function||e.type===g.LeftParenthesis||e.type===g.LeftSquareBracket||e.type===g.LeftCurlyBracket||e.type===g.Delim;}function a(e){return null===e||e.type===g.RightParenthesis||e.type===g.RightSquareBracket||e.type===g.RightCurlyBracket||e.type===g.Delim;}function s(e,t,n){function r(){do{R++,M=R<e.length?e[R]:null;}while(null!==M&&(M.type===g.WhiteSpace||M.type===g.Comment));}function s(t){var n=R+t;return n<e.length?e[n]:null;}function l(e,t){return{nextState:e,matchStack:B,syntaxStack:L,thenStack:P,tokenIndex:R,prev:t};}function c(e){P={nextState:e,matchStack:B,syntaxStack:L,prev:P};}function h(e){T=l(e,T);}function z(){B={type:b,syntax:t.syntax,token:M,prev:B},r(),E=null,R>D&&(D=R);}function A(){B=B.type===k?B.prev:{type:y,syntax:L.syntax,token:B.token,prev:B},L=L.prev;}var L=null,P=null,T=null,E=null,_=0,O=null,M=null,R=-1,D=0,B={type:f,syntax:null,token:null,prev:null};for(r();null===O&&++_<S;){switch(t.type){case"Match":if(null===P){if(null!==M&&(R!==e.length-1||"\\0"!==M.value&&"\\9"!==M.value)){t=d;break;}O=v;break;}if((t=P.nextState)===m){if(P.matchStack===B){t=d;break;}t=p;}for(;P.syntaxStack!==L;){A();}P=P.prev;break;case"Mismatch":if(null!==E&&!1!==E)(null===T||R>T.tokenIndex)&&(T=E,E=!1);else if(null===T){O=x;break;}t=T.nextState,P=T.thenStack,L=T.syntaxStack,B=T.matchStack,R=T.tokenIndex,M=R<e.length?e[R]:null,T=T.prev;break;case"MatchGraph":t=t.match;break;case"If":t["else"]!==d&&h(t["else"]),t.then!==p&&c(t.then),t=t.match;break;case"MatchOnce":t={type:"MatchOnceBuffer",syntax:t,index:0,mask:0};break;case"MatchOnceBuffer":var N=t.syntax.terms;if(t.index===N.length){if(0===t.mask||t.syntax.all){t=d;break;}t=p;break;}if(t.mask===(1<<N.length)-1){t=p;break;}for(;t.index<N.length;t.index++){var I=1<<t.index;if(0==(t.mask&I)){h(t),c({type:"AddMatchOnce",syntax:t.syntax,mask:t.mask|I}),t=N[t.index++];break;}}break;case"AddMatchOnce":t={type:"MatchOnceBuffer",syntax:t.syntax,index:0,mask:t.mask};break;case"Enum":if(null!==M){var j=M.value.toLowerCase();if(-1!==j.indexOf("\\")&&(j=j.replace(/\\[09].*$/,"")),u.call(t.map,j)){t=t.map[j];break;}}t=d;break;case"Generic":var F=null!==L?L.opts:null,W=R+Math.floor(t.fn(M,s,F));if(!isNaN(W)&&W>R){for(;R<W;){z();}t=p;}else t=d;break;case"Type":case"Property":var q="Type"===t.type?"types":"properties",U=u.call(n,q)?n[q][t.name]:null;if(!U||!U.match)throw new Error("Bad syntax reference: "+("Type"===t.type?"<"+t.name+">":"<'"+t.name+"'>"));if(!1!==E&&null!==M&&"Type"===t.type){if("custom-ident"===t.name&&M.type===g.Ident||"length"===t.name&&"0"===M.value){null===E&&(E=l(t,T)),t=d;break;}}!function(){L={syntax:t.syntax,opts:t.syntax.opts||null!==L&&L.opts||null,prev:L},B={type:k,syntax:t.syntax,token:B.token,prev:B};}(),t=U.match;break;case"Keyword":var j=t.name;if(null!==M){var Y=M.value;if(-1!==Y.indexOf("\\")&&(Y=Y.replace(/\\[09].*$/,"")),o(Y,j)){z(),t=p;break;}}t=d;break;case"AtKeyword":case"Function":if(null!==M&&o(M.value,t.name)){z(),t=p;break;}t=d;break;case"Token":if(null!==M&&M.value===t.value){z(),t=p;break;}t=d;break;case"Comma":null!==M&&M.type===g.Comma?i(B.token)?t=d:(z(),t=a(M)?d:p):t=i(B.token)||a(M)?p:d;break;case"String":for(var G="",W=R;W<e.length&&G.length<t.value.length;W++){G+=e[W].value;}if(o(G,t.value)){for(;R<W;){z();}t=p;}else t=d;break;default:throw new Error("Unknown node type: "+t.type);}}switch(C+=_,O){case null:console.warn("[csstree-match] BREAK after "+S+" iterations"),O=w,B=null;break;case v:for(;null!==L;){A();}break;default:B=null;}return{tokens:e,reason:O,iterations:_,match:B,longestMatch:D};}function l(e,t,n){var o=s(e,t,n||{});if(null!==o.match){var i=r(o.match).prev;for(o.match=[];null!==i;){switch(i.type){case f:break;case k:case y:o.match.push({type:i.type,syntax:i.syntax});break;default:o.match.push({token:i.token.value,node:i.token.node});}i=i.prev;}}return o;}function c(e,t,n){var o=s(e,t,n||{});if(null===o.match)return o;var i=o.match,a=o.match={syntax:t.syntax||null,match:[]},l=[a];for(i=r(i).prev;null!==i;){switch(i.type){case k:a.match.push(a={syntax:i.syntax,match:[]}),l.push(a);break;case y:l.pop(),a=l[l.length-1];break;default:a.match.push({syntax:i.syntax||null,token:i.token.value,node:i.token.node});}i=i.prev;}return o;}var u=Object.prototype.hasOwnProperty,h=e("./match-graph"),p=h.MATCH,d=h.MISMATCH,m=h.DISALLOW_EMPTY,g=e("../tokenizer/const").TYPE,f=0,b=1,k=2,y=3,v="Match",x="Mismatch",w="Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)",S=15e3,C=0;t.exports={matchAsList:l,matchAsTree:c,getTotalIterationCount:function getTotalIterationCount(){return C;}};},{"../tokenizer/const":106,"./match-graph":22}],24:[function(e,t,n){function r(e,t){var n=[],r=0,i=0,s=t?t[i].node:null;for(o(e,a);!a.eof;){if(t)for(;i<t.length&&r+t[i].len<=a.tokenStart;){r+=t[i++].len,s=t[i].node;}n.push({type:a.tokenType,value:a.getTokenValue(),index:a.tokenIndex,balance:a.balance[a.tokenIndex],node:s}),a.next();}return n;}var o=e("../tokenizer"),i=e("../common/TokenStream"),a=new i(),s={decorator:function decorator(e){var t=null,n={len:0,node:null},o=[n],i="";return{children:e.children,node:function node(n){var r=t;t=n,e.node.call(this,n),t=r;},chunk:function chunk(e){i+=e,n.node!==t?o.push({len:e.length,node:t}):n.len+=e.length;},result:function result(){return r(i,o);}};}};t.exports=function(e,t){return"string"==typeof e?r(e,null):t.generate(e,s);};},{"../common/TokenStream":5,"../tokenizer":107}],25:[function(e,t,n){function r(e){return"node"in e?e.node:r(e.match[0]);}function o(e){return"node"in e?e.node:o(e.match[e.match.length-1]);}function i(e,t,n,i,s){function l(n){if(null!==n.syntax&&n.syntax.type===i&&n.syntax.name===s){var u=r(n),h=o(n);e.syntax.walk(t,function(e,t,n){if(e===u){var r=new a();do{if(r.appendData(t.data),t.data===h)break;t=t.next;}while(null!==t);c.push({parent:n,nodes:r});}});}Array.isArray(n.match)&&n.match.forEach(l);}var c=[];return null!==n.matched&&l(n.matched),c;}var a=e("../common/List");t.exports={matchFragments:i};},{"../common/List":2}],26:[function(e,t,n){function r(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&e>=0;}function o(e){return Boolean(e)&&r(e.offset)&&r(e.line)&&r(e.column);}function i(e,t){return function(n,r){if(!n||n.constructor!==Object)return r(n,"Type of node should be an Object");for(var i in n){var a=!0;if(!1!==l.call(n,i)){if("type"===i)n.type!==e&&r(n,"Wrong node type `"+n.type+"`, expected `"+e+"`");else if("loc"===i){if(null===n.loc)continue;if(n.loc&&n.loc.constructor===Object)if("string"!=typeof n.loc.source)i+=".source";else if(o(n.loc.start)){if(o(n.loc.end))continue;i+=".end";}else i+=".start";a=!1;}else if(t.hasOwnProperty(i))for(var c=0,a=!1;!a&&c<t[i].length;c++){var u=t[i][c];switch(u){case String:a="string"==typeof n[i];break;case Boolean:a="boolean"==typeof n[i];break;case null:a=null===n[i];break;default:"string"==typeof u?a=n[i]&&n[i].type===u:Array.isArray(u)&&(a=n[i]instanceof s);}}else r(n,"Unknown field `"+i+"` for "+e+" node type");a||r(n,"Bad value for `"+e+"."+i+"`");}}for(var i in t){l.call(t,i)&&!1===l.call(n,i)&&r(n,"Field `"+e+"."+i+"` is missed");}};}function a(e,t){var n=t.structure,r={type:String,loc:!0},o={type:'"'+e+'"'};for(var a in n){if(!1!==l.call(n,a)){for(var s=[],c=r[a]=Array.isArray(n[a])?n[a].slice():[n[a]],u=0;u<c.length;u++){var h=c[u];if(h===String||h===Boolean)s.push(h.name);else if(null===h)s.push("null");else if("string"==typeof h)s.push("<"+h+">");else{if(!Array.isArray(h))throw new Error("Wrong value `"+h+"` in `"+e+"."+a+"` structure definition");s.push("List");}}o[a]=s.join(" | ");}}return{docs:o,check:i(e,r)};}var s=e("../common/List"),l=Object.prototype.hasOwnProperty;t.exports={getStructureFromConfig:function getStructureFromConfig(e){var t={};if(e.node)for(var n in e.node){if(l.call(e.node,n)){var r=e.node[n];if(!r.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");t[n]=a(n,r);}}return t;}};},{"../common/List":2}],27:[function(e,t,n){function r(e){function t(e){return null!==e&&("Type"===e.type||"Property"===e.type||"Keyword"===e.type);}function n(o){if(Array.isArray(o.match)){for(var i=0;i<o.match.length;i++){if(n(o.match[i]))return t(o.syntax)&&r.unshift(o.syntax),!0;}}else if(o.node===e)return r=t(o.syntax)?[o.syntax]:[],!0;return!1;}var r=null;return null!==this.matched&&n(this.matched),r;}function o(e,t,n){var o=r.call(e,t);return null!==o&&o.some(n);}function i(e,t){return o(this,e,function(e){return"Type"===e.type&&e.name===t;});}function a(e,t){return o(this,e,function(e){return"Property"===e.type&&e.name===t;});}function s(e){return o(this,e,function(e){return"Keyword"===e.type;});}t.exports={getTrace:r,isType:i,isProperty:a,isKeyword:s};},{}],28:[function(e,t,n){function r(e){return function(){return this[e]();};}function o(e){var t={context:{},scope:{},atrule:{},pseudo:{}};if(e.parseContext)for(var n in e.parseContext){switch(_typeof(e.parseContext[n])){case"function":t.context[n]=e.parseContext[n];break;case"string":t.context[n]=r(e.parseContext[n]);}}if(e.scope)for(var n in e.scope){t.scope[n]=e.scope[n];}if(e.atrule)for(var n in e.atrule){var o=e.atrule[n];o.parse&&(t.atrule[n]=o.parse);}if(e.pseudo)for(var n in e.pseudo){var i=e.pseudo[n];i.parse&&(t.pseudo[n]=i.parse);}if(e.node)for(var n in e.node){t[n]=e.node[n].parse;}return t;}var i=e("../common/OffsetToLocation"),a=e("../common/SyntaxError"),s=e("../common/TokenStream"),l=e("../common/List"),c=e("../tokenizer"),u=e("../tokenizer/const"),h=e("../tokenizer/utils").findWhiteSpaceStart,p=e("./sequence"),d=function d(){},m=u.TYPE,g=u.NAME,f=m.WhiteSpace,b=m.Ident,k=m.Function,y=m.Url,v=m.Hash,x=m.Percentage,w=m.Number;t.exports=function(e){var t={scanner:new s(),locationMap:new i(),filename:"<unknown>",needPositions:!1,onParseError:d,onParseErrorThrow:!1,parseAtrulePrelude:!0,parseRulePrelude:!0,parseValue:!0,parseCustomProperty:!1,readSequence:p,createList:function createList(){return new l();},createSingleNodeList:function createSingleNodeList(e){return new l().appendData(e);},getFirstListNode:function getFirstListNode(e){return e&&e.first();},getLastListNode:function getLastListNode(e){return e.last();},parseWithFallback:function parseWithFallback(e,t){var n=this.scanner.tokenIndex;try{return e.call(this);}catch(e){if(this.onParseErrorThrow)throw e;var r=t.call(this,n);return this.onParseErrorThrow=!0,this.onParseError(e,r),this.onParseErrorThrow=!1,r;}},lookupNonWSType:function lookupNonWSType(e){do{var t=this.scanner.lookupType(e++);if(t!==f)return t;}while(0!==t);return 0;},eat:function eat(e){if(this.scanner.tokenType!==e){var t=this.scanner.tokenStart,n=g[e]+" is expected";switch(e){case b:this.scanner.tokenType===k||this.scanner.tokenType===y?(t=this.scanner.tokenEnd-1,n="Identifier is expected but function found"):n="Identifier is expected";break;case v:this.scanner.isDelim(35)&&(this.scanner.next(),t++,n="Name is expected");break;case x:this.scanner.tokenType===w&&(t=this.scanner.tokenEnd,n="Percent sign is expected");break;default:this.scanner.source.charCodeAt(this.scanner.tokenStart)===e&&(t+=1);}this.error(n,t);}this.scanner.next();},consume:function consume(e){var t=this.scanner.getTokenValue();return this.eat(e),t;},consumeFunctionName:function consumeFunctionName(){var e=this.scanner.source.substring(this.scanner.tokenStart,this.scanner.tokenEnd-1);return this.eat(k),e;},getLocation:function getLocation(e,t){return this.needPositions?this.locationMap.getLocationRange(e,t,this.filename):null;},getLocationFromList:function getLocationFromList(e){if(this.needPositions){var t=this.getFirstListNode(e),n=this.getLastListNode(e);return this.locationMap.getLocationRange(null!==t?t.loc.start.offset-this.locationMap.startOffset:this.scanner.tokenStart,null!==n?n.loc.end.offset-this.locationMap.startOffset:this.scanner.tokenStart,this.filename);}return null;},error:function error(e,t){var n=void 0!==t&&t<this.scanner.source.length?this.locationMap.getLocation(t):this.scanner.eof?this.locationMap.getLocation(h(this.scanner.source,this.scanner.source.length-1)):this.locationMap.getLocation(this.scanner.tokenStart);throw new a(e||"Unexpected input",this.scanner.source,n.offset,n.line,n.column);}};e=o(e||{});for(var n in e){t[n]=e[n];}return function(e,n){n=n||{};var r,o=n.context||"default";if(c(e,t.scanner),t.locationMap.setSource(e,n.offset,n.line,n.column),t.filename=n.filename||"<unknown>",t.needPositions=Boolean(n.positions),t.onParseError="function"==typeof n.onParseError?n.onParseError:d,t.onParseErrorThrow=!1,t.parseAtrulePrelude=!("parseAtrulePrelude"in n)||Boolean(n.parseAtrulePrelude),t.parseRulePrelude=!("parseRulePrelude"in n)||Boolean(n.parseRulePrelude),t.parseValue=!("parseValue"in n)||Boolean(n.parseValue),t.parseCustomProperty="parseCustomProperty"in n&&Boolean(n.parseCustomProperty),!t.context.hasOwnProperty(o))throw new Error("Unknown context `"+o+"`");return r=t.context[o].call(t,n),t.scanner.eof||t.error(),r;};};},{"../common/List":2,"../common/OffsetToLocation":3,"../common/SyntaxError":4,"../common/TokenStream":5,"../tokenizer":107,"../tokenizer/const":106,"../tokenizer/utils":108,"./sequence":29}],29:[function(e,t,n){var r=e("../tokenizer").TYPE,o=r.WhiteSpace,i=r.Comment;t.exports=function(e){var t=this.createList(),n=null,r={recognizer:e,space:null,ignoreWS:!1,ignoreWSAfter:!1};for(this.scanner.skipSC();!this.scanner.eof;){switch(this.scanner.tokenType){case i:this.scanner.next();continue;case o:r.ignoreWS?this.scanner.next():r.space=this.WhiteSpace();continue;}if(void 0===(n=e.getNode.call(this,r)))break;null!==r.space&&(t.push(r.space),r.space=null),t.push(n),r.ignoreWSAfter?(r.ignoreWSAfter=!1,r.ignoreWS=!0):r.ignoreWS=!1;}return t;};},{"../tokenizer":107}],30:[function(e,t,n){t.exports={parse:{prelude:null,block:function block(){return this.Block(!0);}}};},{}],31:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.String,i=r.Ident,a=r.Url,s=r.Function,l=r.LeftParenthesis;t.exports={parse:{prelude:function prelude(){var e=this.createList();switch(this.scanner.skipSC(),this.scanner.tokenType){case o:e.push(this.String());break;case a:case s:e.push(this.Url());break;default:this.error("String or url() is expected");}return this.lookupNonWSType(0)!==i&&this.lookupNonWSType(0)!==l||(e.push(this.WhiteSpace()),e.push(this.MediaQueryList())),e;},block:null}};},{"../../tokenizer":107}],32:[function(e,t,n){t.exports={"font-face":e("./font-face"),"import":e("./import"),media:e("./media"),page:e("./page"),supports:e("./supports")};},{"./font-face":30,"./import":31,"./media":33,"./page":34,"./supports":35}],33:[function(e,t,n){t.exports={parse:{prelude:function prelude(){return this.createSingleNodeList(this.MediaQueryList());},block:function block(){return this.Block(!1);}}};},{}],34:[function(e,t,n){t.exports={parse:{prelude:function prelude(){return this.createSingleNodeList(this.SelectorList());},block:function block(){return this.Block(!0);}}};},{}],35:[function(e,t,n){function r(){return this.createSingleNodeList(this.Raw(this.scanner.tokenIndex,null,!1));}function o(){return this.scanner.skipSC(),this.scanner.tokenType===c&&this.lookupNonWSType(1)===h?this.createSingleNodeList(this.Declaration()):i.call(this);}function i(){var e,t=this.createList(),n=null;this.scanner.skipSC();e:for(;!this.scanner.eof;){switch(this.scanner.tokenType){case s:n=this.WhiteSpace();continue;case l:this.scanner.next();continue;case u:e=this.Function(r,this.scope.AtrulePrelude);break;case c:e=this.Identifier();break;case p:e=this.Parentheses(o,this.scope.AtrulePrelude);break;default:break e;}null!==n&&(t.push(n),n=null),t.push(e);}return t;}var a=e("../../tokenizer").TYPE,s=a.WhiteSpace,l=a.Comment,c=a.Ident,u=a.Function,h=a.Colon,p=a.LeftParenthesis;t.exports={parse:{prelude:function prelude(){var e=i.call(this);return null===this.getFirstListNode(e)&&this.error("Condition is expected"),e;},block:function block(){return this.Block(!1);}}};},{"../../tokenizer":107}],36:[function(e,t,n){var r=e("../../../data");t.exports={generic:!0,types:r.types,properties:r.properties,node:e("../node")};},{"../../../data":1,"../node":85}],37:[function(e,t,n){function r(e){return e&&e.constructor===Object;}function o(e){if(r(e)){var t={};for(var n in e){s.call(e,n)&&(t[n]=e[n]);}return t;}return e;}function i(e,t){for(var n in t){s.call(t,n)&&(r(e[n])?i(e[n],o(t[n])):e[n]=o(t[n]));}}function a(e,t,n){for(var l in n){if(!1!==s.call(n,l))if(!0===n[l])l in t&&s.call(t,l)&&(e[l]=o(t[l]));else if(n[l])if(r(n[l])){var c={};i(c,e[l]),i(c,t[l]),e[l]=c;}else if(Array.isArray(n[l])){var c={},u=n[l].reduce(function(e,t){return e[t]=!0,e;},{});for(var h in e[l]){s.call(e[l],h)&&(c[h]={},e[l]&&e[l][h]&&a(c[h],e[l][h],u));}for(var h in t[l]){s.call(t[l],h)&&(c[h]||(c[h]={}),t[l]&&t[l][h]&&a(c[h],t[l][h],u));}e[l]=c;}}return e;}var s=Object.prototype.hasOwnProperty,l={generic:!0,types:{},properties:{},parseContext:{},scope:{},atrule:["parse"],pseudo:["parse"],node:["name","structure","parse","generate","walkContext"]};t.exports=function(e,t){return a(e,t,l);};},{}],38:[function(e,t,n){t.exports={parseContext:{"default":"StyleSheet",stylesheet:"StyleSheet",atrule:"Atrule",atrulePrelude:function atrulePrelude(e){return this.AtrulePrelude(e.atrule?String(e.atrule):null);},mediaQueryList:"MediaQueryList",mediaQuery:"MediaQuery",rule:"Rule",selectorList:"SelectorList",selector:"Selector",block:function block(){return this.Block(!0);},declarationList:"DeclarationList",declaration:"Declaration",value:"Value"},scope:e("../scope"),atrule:e("../atrule"),pseudo:e("../pseudo"),node:e("../node")};},{"../atrule":32,"../node":85,"../pseudo":91,"../scope":102}],39:[function(e,t,n){t.exports={node:e("../node")};},{"../node":85}],40:[function(e,t,n){function r(e,t){for(var n in t){e[n]=t[n];}return e;}function o(e){var t=h(e),n=m(e),k=p(e),y=d(n),v={List:i,SyntaxError:a,TokenStream:s,Lexer:l,vendorPrefix:f.vendorPrefix,keyword:f.keyword,property:f.property,isCustomProperty:f.isCustomProperty,grammar:c,lexer:null,createLexer:function createLexer(e){return new l(e,v,v.lexer.structure);},tokenize:u,parse:t,walk:n,generate:k,clone:g,fromPlainObject:y.fromPlainObject,toPlainObject:y.toPlainObject,createSyntax:function createSyntax(e){return o(b({},e));},fork:function fork(t){var n=b({},e);return o("function"==typeof t?t(n,r):b(n,t));}};return v.lexer=new l({generic:!0,types:e.types,properties:e.properties,node:e.node},v),v;}var i=e("../common/List"),a=e("../common/SyntaxError"),s=e("../common/TokenStream"),l=e("../lexer/Lexer"),c=e("../lexer/grammar"),u=e("../tokenizer"),h=e("../parser/create"),p=e("../generator/create"),d=e("../convertor/create"),m=e("../walker/create"),g=e("../utils/clone"),f=e("../utils/names"),b=e("./config/mix");n.create=function(e){return o(b({},e));};},{"../common/List":2,"../common/SyntaxError":4,"../common/TokenStream":5,"../convertor/create":7,"../generator/create":8,"../lexer/Lexer":11,"../lexer/grammar":18,"../parser/create":28,"../tokenizer":107,"../utils/clone":109,"../utils/names":111,"../walker/create":112,"./config/mix":37}],41:[function(e,t,n){t.exports=function(){this.scanner.skipSC();var e=this.createSingleNodeList(this.IdSelector());return this.scanner.skipSC(),e;};},{}],42:[function(e,t,n){t.exports=function(){return this.createSingleNodeList(this.Raw(this.scanner.tokenIndex,null,!1));};},{}],43:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=e("../node/Raw").mode,i=r.Comma;t.exports=function(){var e=this.createList();return this.scanner.skipSC(),e.push(this.Identifier()),this.scanner.skipSC(),this.scanner.tokenType===i&&(e.push(this.Operator()),e.push(this.parseCustomProperty?this.Value(null):this.Raw(this.scanner.tokenIndex,o.exclamationMarkOrSemicolon,!1))),e;};},{"../../tokenizer":107,"../node/Raw":74}],44:[function(e,t,n){t.exports=e("./create").create(function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n){e[r]=n[r];}}return e;}(e("./config/lexer"),e("./config/parser"),e("./config/walker")));},{"./config/lexer":36,"./config/parser":38,"./config/walker":39,"./create":40}],45:[function(e,t,n){function r(e,t){var n=this.scanner.tokenStart+e,r=this.scanner.source.charCodeAt(n);for(r!==g&&r!==f||(t&&this.error("Number sign is not allowed"),n++);n<this.scanner.tokenEnd;n++){l(this.scanner.source.charCodeAt(n))||this.error("Integer is expected",n);}}function o(e){return r.call(this,0,e);}function i(e,t){if(!s(this.scanner.source,this.scanner.tokenStart+e,t)){var n="";switch(t){case b:n="N is expected";break;case f:n="HyphenMinus is expected";}this.error(n,this.scanner.tokenStart+e);}}function a(){for(var e=0,t=0,n=this.scanner.tokenType;n===u||n===h;){n=this.scanner.lookupType(++e);}if(n!==d){if(!this.scanner.isDelim(g,e)&&!this.scanner.isDelim(f,e))return null;t=this.scanner.isDelim(g,e)?g:f;do{n=this.scanner.lookupType(++e);}while(n===u||n===h);n!==d&&(this.scanner.skip(e),o.call(this,k));}return e>0&&this.scanner.skip(e),0===t&&(n=this.scanner.source.charCodeAt(this.scanner.tokenStart))!==g&&n!==f&&this.error("Number sign is expected"),o.call(this,0!==t),t===f?"-"+this.consume(d):this.consume(d);}var s=e("../../tokenizer").cmpChar,l=e("../../tokenizer").isDigit,c=e("../../tokenizer").TYPE,u=c.WhiteSpace,h=c.Comment,p=c.Ident,d=c.Number,m=c.Dimension,g=43,f=45,b=110,k=!0;t.exports={name:"AnPlusB",structure:{a:[String,null],b:[String,null]},parse:function parse(){var e=this.scanner.tokenStart,t=null,n=null;if(this.scanner.tokenType===d)o.call(this,!1),n=this.consume(d);else if(this.scanner.tokenType===p&&s(this.scanner.source,this.scanner.tokenStart,f))switch(t="-1",i.call(this,1,b),this.scanner.getTokenLength()){case 2:this.scanner.next(),n=a.call(this);break;case 3:i.call(this,2,f),this.scanner.next(),this.scanner.skipSC(),o.call(this,k),n="-"+this.consume(d);break;default:i.call(this,2,f),r.call(this,3,k),this.scanner.next(),n=this.scanner.substrToCursor(e+2);}else if(this.scanner.tokenType===p||this.scanner.isDelim(g)&&this.scanner.lookupType(1)===p){var c=0;switch(t="1",this.scanner.isDelim(g)&&(c=1,this.scanner.next()),i.call(this,0,b),this.scanner.getTokenLength()){case 1:this.scanner.next(),n=a.call(this);break;case 2:i.call(this,1,f),this.scanner.next(),this.scanner.skipSC(),o.call(this,k),n="-"+this.consume(d);break;default:i.call(this,1,f),r.call(this,2,k),this.scanner.next(),n=this.scanner.substrToCursor(e+c+1);}}else if(this.scanner.tokenType===m){for(var u=this.scanner.source.charCodeAt(this.scanner.tokenStart),c=u===g||u===f,h=this.scanner.tokenStart+c;h<this.scanner.tokenEnd&&l(this.scanner.source.charCodeAt(h));h++){;}h===this.scanner.tokenStart+c&&this.error("Integer is expected",this.scanner.tokenStart+c),i.call(this,h-this.scanner.tokenStart,b),t=this.scanner.source.substring(e,h),h+1===this.scanner.tokenEnd?(this.scanner.next(),n=a.call(this)):(i.call(this,h-this.scanner.tokenStart+1,f),h+2===this.scanner.tokenEnd?(this.scanner.next(),this.scanner.skipSC(),o.call(this,k),n="-"+this.consume(d)):(r.call(this,h-this.scanner.tokenStart+2,k),this.scanner.next(),n=this.scanner.substrToCursor(h+1)));}else this.error();return null!==t&&t.charCodeAt(0)===g&&(t=t.substr(1)),null!==n&&n.charCodeAt(0)===g&&(n=n.substr(1)),{type:"AnPlusB",loc:this.getLocation(e,this.scanner.tokenStart),a:t,b:n};},generate:function generate(e){var t=null!==e.a&&void 0!==e.a,n=null!==e.b&&void 0!==e.b;t?(this.chunk("+1"===e.a?"+n":"1"===e.a?"n":"-1"===e.a?"-n":e.a+"n"),n&&(n=String(e.b),"-"===n.charAt(0)||"+"===n.charAt(0)?(this.chunk(n.charAt(0)),this.chunk(n.substr(1))):(this.chunk("+"),this.chunk(n)))):this.chunk(String(e.b));}};},{"../../tokenizer":107}],46:[function(e,t,n){function r(e){return this.Raw(e,a.leftCurlyBracketOrSemicolon,!0);}function o(){for(var e,t=1;e=this.scanner.lookupType(t);t++){if(e===u)return!0;if(e===c||e===s)return!1;}return!1;}var i=e("../../tokenizer").TYPE,a=e("./Raw").mode,s=i.AtKeyword,l=i.Semicolon,c=i.LeftCurlyBracket,u=i.RightCurlyBracket;t.exports={name:"Atrule",structure:{name:String,prelude:["AtrulePrelude","Raw",null],block:["Block",null]},parse:function parse(){var e,t,n=this.scanner.tokenStart,i=null,a=null;switch(this.eat(s),e=this.scanner.substrToCursor(n+1),t=e.toLowerCase(),this.scanner.skipSC(),!1===this.scanner.eof&&this.scanner.tokenType!==c&&this.scanner.tokenType!==l&&(this.parseAtrulePrelude?(i=this.parseWithFallback(this.AtrulePrelude.bind(this,e),r),"AtrulePrelude"===i.type&&null===i.children.head&&(i=null)):i=r.call(this,this.scanner.tokenIndex),this.scanner.skipSC()),this.scanner.tokenType){case l:this.scanner.next();break;case c:a=this.atrule.hasOwnProperty(t)&&"function"==typeof this.atrule[t].block?this.atrule[t].block.call(this):this.Block(o.call(this));}return{type:"Atrule",loc:this.getLocation(n,this.scanner.tokenStart),name:e,prelude:i,block:a};},generate:function generate(e){this.chunk("@"),this.chunk(e.name),null!==e.prelude&&(this.chunk(" "),this.node(e.prelude)),e.block?this.node(e.block):this.chunk(";");},walkContext:"atrule"};},{"../../tokenizer":107,"./Raw":74}],47:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.Semicolon,i=r.LeftCurlyBracket;t.exports={name:"AtrulePrelude",structure:{children:[[]]},parse:function parse(e){var t=null;return null!==e&&(e=e.toLowerCase()),this.scanner.skipSC(),t=this.atrule.hasOwnProperty(e)&&"function"==typeof this.atrule[e].prelude?this.atrule[e].prelude.call(this):this.readSequence(this.scope.AtrulePrelude),this.scanner.skipSC(),!0!==this.scanner.eof&&this.scanner.tokenType!==i&&this.scanner.tokenType!==o&&this.error("Semicolon or block is expected"),null===t&&(t=this.createList()),{type:"AtrulePrelude",loc:this.getLocationFromList(t),children:t};},generate:function generate(e){this.children(e);},walkContext:"atrulePrelude"};},{"../../tokenizer":107}],48:[function(e,t,n){function r(){this.scanner.eof&&this.error("Unexpected end of input");var e=this.scanner.tokenStart,t=!1,n=!0;return this.scanner.isDelim(p)?(t=!0,n=!1,this.scanner.next()):this.scanner.isDelim(g)||this.eat(a),this.scanner.isDelim(g)?this.scanner.source.charCodeAt(this.scanner.tokenStart+1)!==d?(this.scanner.next(),this.eat(a)):t&&this.error("Identifier is expected",this.scanner.tokenEnd):t&&this.error("Vertical line is expected"),n&&this.scanner.tokenType===l&&(this.scanner.next(),this.eat(a)),{type:"Identifier",loc:this.getLocation(e,this.scanner.tokenStart),name:this.scanner.substrToCursor(e)};}function o(){var e=this.scanner.tokenStart,t=this.scanner.source.charCodeAt(e);return t!==d&&t!==f&&t!==m&&t!==h&&t!==p&&t!==g&&this.error("Attribute selector (=, ~=, ^=, $=, *=, |=) is expected"),this.scanner.next(),t!==d&&(this.scanner.isDelim(d)||this.error("Equal sign is expected"),this.scanner.next()),this.scanner.substrToCursor(e);}var i=e("../../tokenizer").TYPE,a=i.Ident,s=i.String,l=i.Colon,c=i.LeftSquareBracket,u=i.RightSquareBracket,h=36,p=42,d=61,m=94,g=124,f=126;t.exports={name:"AttributeSelector",structure:{name:"Identifier",matcher:[String,null],value:["String","Identifier",null],flags:[String,null]},parse:function parse(){var e,t=this.scanner.tokenStart,n=null,i=null,l=null;return this.eat(c),this.scanner.skipSC(),e=r.call(this),this.scanner.skipSC(),this.scanner.tokenType!==u&&(this.scanner.tokenType!==a&&(n=o.call(this),this.scanner.skipSC(),i=this.scanner.tokenType===s?this.String():this.Identifier(),this.scanner.skipSC()),this.scanner.tokenType===a&&(l=this.scanner.getTokenValue(),this.scanner.next(),this.scanner.skipSC())),this.eat(u),{type:"AttributeSelector",loc:this.getLocation(t,this.scanner.tokenStart),name:e,matcher:n,value:i,flags:l};},generate:function generate(e){var t=" ";this.chunk("["),this.node(e.name),null!==e.matcher&&(this.chunk(e.matcher),null!==e.value&&(this.node(e.value),"String"===e.value.type&&(t=""))),null!==e.flags&&(this.chunk(t),this.chunk(e.flags)),this.chunk("]");}};},{"../../tokenizer":107}],49:[function(e,t,n){function r(e){return this.Raw(e,null,!0);}function o(){return this.parseWithFallback(this.Rule,r);}function i(e){return this.Raw(e,l.semicolonIncluded,!0);}function a(){if(this.scanner.tokenType===h)return i.call(this,this.scanner.tokenIndex);var e=this.parseWithFallback(this.Declaration,i);return this.scanner.tokenType===h&&this.scanner.next(),e;}var s=e("../../tokenizer").TYPE,l=e("./Raw").mode,c=s.WhiteSpace,u=s.Comment,h=s.Semicolon,p=s.AtKeyword,d=s.LeftCurlyBracket,m=s.RightCurlyBracket;t.exports={name:"Block",structure:{children:[["Atrule","Rule","Declaration"]]},parse:function parse(e){var t=e?a:o,n=this.scanner.tokenStart,i=this.createList();this.eat(d);e:for(;!this.scanner.eof;){switch(this.scanner.tokenType){case m:break e;case c:case u:this.scanner.next();break;case p:i.push(this.parseWithFallback(this.Atrule,r));break;default:i.push(t.call(this));}}return this.scanner.eof||this.eat(m),{type:"Block",loc:this.getLocation(n,this.scanner.tokenStart),children:i};},generate:function generate(e){this.chunk("{"),this.children(e,function(e){"Declaration"===e.type&&this.chunk(";");}),this.chunk("}");},walkContext:"block"};},{"../../tokenizer":107,"./Raw":74}],50:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.LeftSquareBracket,i=r.RightSquareBracket;t.exports={name:"Brackets",structure:{children:[[]]},parse:function parse(e,t){var n=this.scanner.tokenStart,r=null;return this.eat(o),r=e.call(this,t),this.scanner.eof||this.eat(i),{type:"Brackets",loc:this.getLocation(n,this.scanner.tokenStart),children:r};},generate:function generate(e){this.chunk("["),this.children(e),this.chunk("]");}};},{"../../tokenizer":107}],51:[function(e,t,n){var r=e("../../tokenizer").TYPE.CDC;t.exports={name:"CDC",structure:[],parse:function parse(){var e=this.scanner.tokenStart;return this.eat(r),{type:"CDC",loc:this.getLocation(e,this.scanner.tokenStart)};},generate:function generate(){this.chunk("--\x3e");}};},{"../../tokenizer":107}],52:[function(e,t,n){var r=e("../../tokenizer").TYPE.CDO;t.exports={name:"CDO",structure:[],parse:function parse(){var e=this.scanner.tokenStart;return this.eat(r),{type:"CDO",loc:this.getLocation(e,this.scanner.tokenStart)};},generate:function generate(){this.chunk("\x3c!--");}};},{"../../tokenizer":107}],53:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.Ident;t.exports={name:"ClassSelector",structure:{name:String},parse:function parse(){return this.scanner.isDelim(46)||this.error("Full stop is expected"),this.scanner.next(),{type:"ClassSelector",loc:this.getLocation(this.scanner.tokenStart-1,this.scanner.tokenEnd),name:this.consume(o)};},generate:function generate(e){this.chunk("."),this.chunk(e.name);}};},{"../../tokenizer":107}],54:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.Ident;t.exports={name:"Combinator",structure:{name:String},parse:function parse(){var e=this.scanner.tokenStart;switch(this.scanner.source.charCodeAt(this.scanner.tokenStart)){case 62:case 43:case 126:this.scanner.next();break;case 47:this.scanner.next(),this.scanner.tokenType===o&&!1!==this.scanner.lookupValue(0,"deep")||this.error("Identifier `deep` is expected"),this.scanner.next(),this.scanner.isDelim(47)||this.error("Solidus is expected"),this.scanner.next();break;default:this.error("Combinator is expected");}return{type:"Combinator",loc:this.getLocation(e,this.scanner.tokenStart),name:this.scanner.substrToCursor(e)};},generate:function generate(e){this.chunk(e.name);}};},{"../../tokenizer":107}],55:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.Comment;t.exports={name:"Comment",structure:{value:String},parse:function parse(){var e=this.scanner.tokenStart,t=this.scanner.tokenEnd;return this.eat(o),t-e+2>=2&&42===this.scanner.source.charCodeAt(t-2)&&47===this.scanner.source.charCodeAt(t-1)&&(t-=2),{type:"Comment",loc:this.getLocation(e,this.scanner.tokenStart),value:this.scanner.source.substring(e+2,t)};},generate:function generate(e){this.chunk("/*"),this.chunk(e.value),this.chunk("*/");}};},{"../../tokenizer":107}],56:[function(e,t,n){function r(e){return this.Raw(e,u.exclamationMarkOrSemicolon,!0);}function o(e){return this.Raw(e,u.exclamationMarkOrSemicolon,!1);}function i(){var e=this.scanner.tokenIndex,t=this.Value();return"Raw"!==t.type&&!1===this.scanner.eof&&this.scanner.tokenType!==m&&!1===this.scanner.isDelim(f)&&!1===this.scanner.isBalanceEdge(e)&&this.error(),t;}function a(){var e=this.scanner.tokenStart;if(this.scanner.tokenType===g)switch(this.scanner.source.charCodeAt(this.scanner.tokenStart)){case v:case k:case x:case b:case y:this.scanner.next();break;case w:this.scanner.next(),this.scanner.isDelim(w)&&this.scanner.next();}return this.scanner.tokenType===p?this.eat(p):this.eat(h),this.scanner.substrToCursor(e);}function s(){this.eat(g),this.scanner.skipSC();var e=this.consume(h);return"important"===e||e;}var l=e("../../utils/names").isCustomProperty,c=e("../../tokenizer").TYPE,u=e("./Raw").mode,h=c.Ident,p=c.Hash,d=c.Colon,m=c.Semicolon,g=c.Delim,f=33,b=35,k=36,y=38,v=42,x=43,w=47;t.exports={name:"Declaration",structure:{important:[Boolean,String],property:String,value:["Value","Raw"]},parse:function parse(){var e,t=this.scanner.tokenStart,n=this.scanner.tokenIndex,c=a.call(this),u=l(c),h=u?this.parseCustomProperty:this.parseValue,p=u?o:r,g=!1;return this.scanner.skipSC(),this.eat(d),u||this.scanner.skipSC(),e=h?this.parseWithFallback(i,p):p.call(this,this.scanner.tokenIndex),this.scanner.isDelim(f)&&(g=s.call(this),this.scanner.skipSC()),!1===this.scanner.eof&&this.scanner.tokenType!==m&&!1===this.scanner.isBalanceEdge(n)&&this.error(),{type:"Declaration",loc:this.getLocation(t,this.scanner.tokenStart),important:g,property:c,value:e};},generate:function generate(e){this.chunk(e.property),this.chunk(":"),this.node(e.value),e.important&&this.chunk(!0===e.important?"!important":"!"+e.important);},walkContext:"declaration"};},{"../../tokenizer":107,"../../utils/names":111,"./Raw":74}],57:[function(e,t,n){function r(e){return this.Raw(e,i.semicolonIncluded,!0);}var o=e("../../tokenizer").TYPE,i=e("./Raw").mode,a=o.WhiteSpace,s=o.Comment,l=o.Semicolon;t.exports={name:"DeclarationList",structure:{children:[["Declaration"]]},parse:function parse(){for(var e=this.createList();!this.scanner.eof;){switch(this.scanner.tokenType){case a:case s:case l:this.scanner.next();break;default:e.push(this.parseWithFallback(this.Declaration,r));}}return{type:"DeclarationList",loc:this.getLocationFromList(e),children:e};},generate:function generate(e){this.children(e,function(e){"Declaration"===e.type&&this.chunk(";");});}};},{"../../tokenizer":107,"./Raw":74}],58:[function(e,t,n){var r=e("../../tokenizer/utils").consumeNumber,o=e("../../tokenizer").TYPE,i=o.Dimension;t.exports={name:"Dimension",structure:{value:String,unit:String},parse:function parse(){var e=this.scanner.tokenStart,t=r(this.scanner.source,e);return this.eat(i),{type:"Dimension",loc:this.getLocation(e,this.scanner.tokenStart),value:this.scanner.source.substring(e,t),unit:this.scanner.source.substring(t,this.scanner.tokenStart)};},generate:function generate(e){this.chunk(e.value),this.chunk(e.unit);}};},{"../../tokenizer":107,"../../tokenizer/utils":108}],59:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.RightParenthesis;t.exports={name:"Function",structure:{name:String,children:[[]]},parse:function parse(e,t){var n,r=this.scanner.tokenStart,i=this.consumeFunctionName(),a=i.toLowerCase();return n=t.hasOwnProperty(a)?t[a].call(this,t):e.call(this,t),this.scanner.eof||this.eat(o),{type:"Function",loc:this.getLocation(r,this.scanner.tokenStart),name:i,children:n};},generate:function generate(e){this.chunk(e.name),this.chunk("("),this.children(e),this.chunk(")");},walkContext:"function"};},{"../../tokenizer":107}],60:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.Hash;t.exports={name:"HexColor",structure:{value:String},parse:function parse(){var e=this.scanner.tokenStart;return this.eat(o),{type:"HexColor",loc:this.getLocation(e,this.scanner.tokenStart),value:this.scanner.substrToCursor(e+1)};},generate:function generate(e){this.chunk("#"),this.chunk(e.value);}};},{"../../tokenizer":107}],61:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.Hash;t.exports={name:"IdSelector",structure:{name:String},parse:function parse(){var e=this.scanner.tokenStart;return this.eat(o),{type:"IdSelector",loc:this.getLocation(e,this.scanner.tokenStart),name:this.scanner.substrToCursor(e+1)};},generate:function generate(e){this.chunk("#"),this.chunk(e.name);}};},{"../../tokenizer":107}],62:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.Ident;t.exports={name:"Identifier",structure:{name:String},parse:function parse(){return{type:"Identifier",loc:this.getLocation(this.scanner.tokenStart,this.scanner.tokenEnd),name:this.consume(o)};},generate:function generate(e){this.chunk(e.name);}};},{"../../tokenizer":107}],63:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.Ident,i=r.Number,a=r.Dimension,s=r.LeftParenthesis,l=r.RightParenthesis,c=r.Colon,u=r.Delim;t.exports={name:"MediaFeature",structure:{name:String,value:["Identifier","Number","Dimension","Ratio",null]},parse:function parse(){var e,t=this.scanner.tokenStart,n=null;if(this.eat(s),this.scanner.skipSC(),e=this.consume(o),this.scanner.skipSC(),this.scanner.tokenType!==l){switch(this.eat(c),this.scanner.skipSC(),this.scanner.tokenType){case i:n=this.lookupNonWSType(1)===u?this.Ratio():this.Number();break;case a:n=this.Dimension();break;case o:n=this.Identifier();break;default:this.error("Number, dimension, ratio or identifier is expected");}this.scanner.skipSC();}return this.eat(l),{type:"MediaFeature",loc:this.getLocation(t,this.scanner.tokenStart),name:e,value:n};},generate:function generate(e){this.chunk("("),this.chunk(e.name),null!==e.value&&(this.chunk(":"),this.node(e.value)),this.chunk(")");}};},{"../../tokenizer":107}],64:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.WhiteSpace,i=r.Comment,a=r.Ident,s=r.LeftParenthesis;t.exports={name:"MediaQuery",structure:{children:[["Identifier","MediaFeature","WhiteSpace"]]},parse:function parse(){this.scanner.skipSC();var e=this.createList(),t=null,n=null;e:for(;!this.scanner.eof;){switch(this.scanner.tokenType){case i:this.scanner.next();continue;case o:n=this.WhiteSpace();continue;case a:t=this.Identifier();break;case s:t=this.MediaFeature();break;default:break e;}null!==n&&(e.push(n),n=null),e.push(t);}return null===t&&this.error("Identifier or parenthesis is expected"),{type:"MediaQuery",loc:this.getLocationFromList(e),children:e};},generate:function generate(e){this.children(e);}};},{"../../tokenizer":107}],65:[function(e,t,n){var r=e("../../tokenizer").TYPE.Comma;t.exports={name:"MediaQueryList",structure:{children:[["MediaQuery"]]},parse:function parse(e){var t=this.createList();for(this.scanner.skipSC();!this.scanner.eof&&(t.push(this.MediaQuery(e)),this.scanner.tokenType===r);){this.scanner.next();}return{type:"MediaQueryList",loc:this.getLocationFromList(t),children:t};},generate:function generate(e){this.children(e,function(){this.chunk(",");});}};},{"../../tokenizer":107}],66:[function(e,t,n){t.exports={name:"Nth",structure:{nth:["AnPlusB","Identifier"],selector:["SelectorList",null]},parse:function parse(e){this.scanner.skipSC();var t,n=this.scanner.tokenStart,r=n,o=null;return t=this.scanner.lookupValue(0,"odd")||this.scanner.lookupValue(0,"even")?this.Identifier():this.AnPlusB(),this.scanner.skipSC(),e&&this.scanner.lookupValue(0,"of")?(this.scanner.next(),o=this.SelectorList(),this.needPositions&&(r=this.getLastListNode(o.children).loc.end.offset)):this.needPositions&&(r=t.loc.end.offset),{type:"Nth",loc:this.getLocation(n,r),nth:t,selector:o};},generate:function generate(e){this.node(e.nth),null!==e.selector&&(this.chunk(" of "),this.node(e.selector));}};},{}],67:[function(e,t,n){var r=e("../../tokenizer").TYPE.Number;t.exports={name:"Number",structure:{value:String},parse:function parse(){return{type:"Number",loc:this.getLocation(this.scanner.tokenStart,this.scanner.tokenEnd),value:this.consume(r)};},generate:function generate(e){this.chunk(e.value);}};},{"../../tokenizer":107}],68:[function(e,t,n){t.exports={name:"Operator",structure:{value:String},parse:function parse(){var e=this.scanner.tokenStart;return this.scanner.next(),{type:"Operator",loc:this.getLocation(e,this.scanner.tokenStart),value:this.scanner.substrToCursor(e)};},generate:function generate(e){this.chunk(e.value);}};},{}],69:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.LeftParenthesis,i=r.RightParenthesis;t.exports={name:"Parentheses",structure:{children:[[]]},parse:function parse(e,t){var n=this.scanner.tokenStart,r=null;return this.eat(o),r=e.call(this,t),this.scanner.eof||this.eat(i),{type:"Parentheses",loc:this.getLocation(n,this.scanner.tokenStart),children:r};},generate:function generate(e){this.chunk("("),this.children(e),this.chunk(")");}};},{"../../tokenizer":107}],70:[function(e,t,n){var r=e("../../tokenizer/utils").consumeNumber,o=e("../../tokenizer").TYPE,i=o.Percentage;t.exports={name:"Percentage",structure:{value:String},parse:function parse(){var e=this.scanner.tokenStart,t=r(this.scanner.source,e);return this.eat(i),{type:"Percentage",loc:this.getLocation(e,this.scanner.tokenStart),value:this.scanner.source.substring(e,t)};},generate:function generate(e){this.chunk(e.value),this.chunk("%");}};},{"../../tokenizer":107,"../../tokenizer/utils":108}],71:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.Ident,i=r.Function,a=r.Colon,s=r.RightParenthesis;t.exports={name:"PseudoClassSelector",structure:{name:String,children:[["Raw"],null]},parse:function parse(){var e,t,n=this.scanner.tokenStart,r=null;return this.eat(a),this.scanner.tokenType===i?(e=this.consumeFunctionName(),t=e.toLowerCase(),this.pseudo.hasOwnProperty(t)?(this.scanner.skipSC(),r=this.pseudo[t].call(this),this.scanner.skipSC()):(r=this.createList(),r.push(this.Raw(this.scanner.tokenIndex,null,!1))),this.eat(s)):e=this.consume(o),{type:"PseudoClassSelector",loc:this.getLocation(n,this.scanner.tokenStart),name:e,children:r};},generate:function generate(e){this.chunk(":"),this.chunk(e.name),null!==e.children&&(this.chunk("("),this.children(e),this.chunk(")"));},walkContext:"function"};},{"../../tokenizer":107}],72:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.Ident,i=r.Function,a=r.Colon,s=r.RightParenthesis;t.exports={name:"PseudoElementSelector",structure:{name:String,children:[["Raw"],null]},parse:function parse(){var e,t,n=this.scanner.tokenStart,r=null;return this.eat(a),this.eat(a),this.scanner.tokenType===i?(e=this.consumeFunctionName(),t=e.toLowerCase(),this.pseudo.hasOwnProperty(t)?(this.scanner.skipSC(),r=this.pseudo[t].call(this),this.scanner.skipSC()):(r=this.createList(),r.push(this.Raw(this.scanner.tokenIndex,null,!1))),this.eat(s)):e=this.consume(o),{type:"PseudoElementSelector",loc:this.getLocation(n,this.scanner.tokenStart),name:e,children:r};},generate:function generate(e){this.chunk("::"),this.chunk(e.name),null!==e.children&&(this.chunk("("),this.children(e),this.chunk(")"));},walkContext:"function"};},{"../../tokenizer":107}],73:[function(e,t,n){function r(){this.scanner.skipWS();for(var e=this.consume(a),t=0;t<e.length;t++){var n=e.charCodeAt(t);o(n)||n===l||this.error("Unsigned number is expected",this.scanner.tokenStart-e.length+t);}return 0===Number(e)&&this.error("Zero number is not allowed",this.scanner.tokenStart-e.length),e;}var o=e("../../tokenizer").isDigit,i=e("../../tokenizer").TYPE,a=i.Number,s=i.Delim,l=46;t.exports={name:"Ratio",structure:{left:String,right:String},parse:function parse(){var e,t=this.scanner.tokenStart,n=r.call(this);return this.scanner.skipWS(),this.scanner.isDelim(47)||this.error("Solidus is expected"),this.eat(s),e=r.call(this),{type:"Ratio",loc:this.getLocation(t,this.scanner.tokenStart),left:n,right:e};},generate:function generate(e){this.chunk(e.left),this.chunk("/"),this.chunk(e.right);}};},{"../../tokenizer":107}],74:[function(e,t,n){function r(){return this.scanner.tokenIndex>0&&this.scanner.lookupType(-1)===h?this.scanner.tokenIndex>1?this.scanner.getTokenStart(this.scanner.tokenIndex-1):this.scanner.firstCharOffset:this.scanner.tokenStart;}function o(){return 0;}function i(e){return e===d?1:0;}function a(e){return e===d||e===p?1:0;}function s(e,t,n){return e===m&&t.charCodeAt(n)===g?1:e===p?1:0;}function l(e){return e===p?2:0;}var c=e("../../tokenizer"),u=c.TYPE,h=u.WhiteSpace,p=u.Semicolon,d=u.LeftCurlyBracket,m=u.Delim,g=33;t.exports={name:"Raw",structure:{value:String},parse:function parse(e,t,n){var i,a=this.scanner.getTokenStart(e);return this.scanner.skip(this.scanner.getRawLength(e,t||o)),i=n&&this.scanner.tokenStart>a?r.call(this):this.scanner.tokenStart,{type:"Raw",loc:this.getLocation(a,i),value:this.scanner.source.substring(a,i)};},generate:function generate(e){this.chunk(e.value);},mode:{"default":o,leftCurlyBracket:i,leftCurlyBracketOrSemicolon:a,exclamationMarkOrSemicolon:s,semicolonIncluded:l}};},{"../../tokenizer":107}],75:[function(e,t,n){function r(e){return this.Raw(e,a.leftCurlyBracket,!0);}function o(){var e=this.SelectorList();return"Raw"!==e.type&&!1===this.scanner.eof&&this.scanner.tokenType!==s&&this.error(),e;}var i=e("../../tokenizer").TYPE,a=e("./Raw").mode,s=i.LeftCurlyBracket;t.exports={name:"Rule",structure:{prelude:["SelectorList","Raw"],block:["Block"]},parse:function parse(){var e,t,n=this.scanner.tokenIndex,i=this.scanner.tokenStart;return e=this.parseRulePrelude?this.parseWithFallback(o,r):r.call(this,n),t=this.Block(!0),{type:"Rule",loc:this.getLocation(i,this.scanner.tokenStart),prelude:e,block:t};},generate:function generate(e){this.node(e.prelude),this.node(e.block);},walkContext:"rule"};},{"../../tokenizer":107,"./Raw":74}],76:[function(e,t,n){t.exports={name:"Selector",structure:{children:[["TypeSelector","IdSelector","ClassSelector","AttributeSelector","PseudoClassSelector","PseudoElementSelector","Combinator","WhiteSpace"]]},parse:function parse(){var e=this.readSequence(this.scope.Selector);return null===this.getFirstListNode(e)&&this.error("Selector is expected"),{type:"Selector",loc:this.getLocationFromList(e),children:e};},generate:function generate(e){this.children(e);}};},{}],77:[function(e,t,n){var r=e("../../tokenizer").TYPE,o=r.Comma;t.exports={name:"SelectorList",structure:{children:[["Selector","Raw"]]},parse:function parse(){for(var e=this.createList();!this.scanner.eof;){e.push(this.Selector());{if(this.scanner.tokenType!==o)break;this.scanner.next();}}return{type:"SelectorList",loc:this.getLocationFromList(e),children:e};},generate:function generate(e){this.children(e,function(){this.chunk(",");});},walkContext:"selector"};},{"../../tokenizer":107}],78:[function(e,t,n){var r=e("../../tokenizer").TYPE.String;t.exports={name:"String",structure:{value:String},parse:function parse(){return{type:"String",loc:this.getLocation(this.scanner.tokenStart,this.scanner.tokenEnd),value:this.consume(r)};},generate:function generate(e){this.chunk(e.value);}};},{"../../tokenizer":107}],79:[function(e,t,n){function r(e){return this.Raw(e,null,!1);}var o=e("../../tokenizer").TYPE,i=o.WhiteSpace,a=o.Comment,s=o.AtKeyword,l=o.CDO,c=o.CDC;t.exports={name:"StyleSheet",structure:{children:[["Comment","CDO","CDC","Atrule","Rule","Raw"]]},parse:function parse(){for(var e,t=this.scanner.tokenStart,n=this.createList();!this.scanner.eof;){switch(this.scanner.tokenType){case i:this.scanner.next();continue;case a:if(33!==this.scanner.source.charCodeAt(this.scanner.tokenStart+2)){this.scanner.next();continue;}e=this.Comment();break;case l:e=this.CDO();break;case c:e=this.CDC();break;case s:e=this.parseWithFallback(this.Atrule,r);break;default:e=this.parseWithFallback(this.Rule,r);}n.push(e);}return{type:"StyleSheet",loc:this.getLocation(t,this.scanner.tokenStart),children:n};},generate:function generate(e){this.children(e);},walkContext:"stylesheet"};},{"../../tokenizer":107}],80:[function(e,t,n){function r(){this.scanner.tokenType!==i&&!1===this.scanner.isDelim(a)&&this.error("Identifier or asterisk is expected"),this.scanner.next();}var o=e("../../tokenizer").TYPE,i=o.Ident,a=42;t.exports={name:"TypeSelector",structure:{name:String},parse:function parse(){var e=this.scanner.tokenStart;return this.scanner.isDelim(124)?(this.scanner.next(),r.call(this)):(r.call(this),this.scanner.isDelim(124)&&(this.scanner.next(),r.call(this))),{type:"TypeSelector",loc:this.getLocation(e,this.scanner.tokenStart),name:this.scanner.substrToCursor(e)};},generate:function generate(e){this.chunk(e.name);}};},{"../../tokenizer":107}],81:[function(e,t,n){function r(e,t){for(var n=this.scanner.tokenStart+e,o=0;n<this.scanner.tokenEnd;n++){var i=this.scanner.source.charCodeAt(n);if(i===g&&t&&0!==o)return 0===r.call(this,e+o+1,!1)&&this.error(),-1;s(i)||this.error(t&&0!==o?"HyphenMinus"+(o<6?" or hex digit":"")+" is expected":o<6?"Hex digit is expected":"Unexpected input",n),++o>6&&this.error("Too many hex digits",n);}return this.scanner.next(),o;}function o(e){for(var t=0;this.scanner.isDelim(f);){++t>e&&this.error("Too many question marks"),this.scanner.next();}}function i(e){this.scanner.source.charCodeAt(this.scanner.tokenStart)!==e&&this.error(u[e]+" is expected");}function a(){var e=0;if(this.scanner.isDelim(m))return this.scanner.next(),this.scanner.tokenType===h?void((e=r.call(this,0,!0))>0&&o.call(this,6-e)):this.scanner.isDelim(f)?(this.scanner.next(),void o.call(this,5)):void this.error("Hex digit or question mark is expected");if(this.scanner.tokenType!==p){if(this.scanner.tokenType===d)return i.call(this,m),void((e=r.call(this,1,!0))>0&&o.call(this,6-e));this.error();}else{if(i.call(this,m),e=r.call(this,1,!0),this.scanner.isDelim(f))return void o.call(this,6-e);if(this.scanner.tokenType===d||this.scanner.tokenType===p)return i.call(this,g),void r.call(this,1,!1);}}var s=e("../../tokenizer").isHexDigit,l=e("../../tokenizer").cmpChar,c=e("../../tokenizer").TYPE,u=e("../../tokenizer").NAME,h=c.Ident,p=c.Number,d=c.Dimension,m=43,g=45,f=63;t.exports={name:"UnicodeRange",structure:{value:String},parse:function parse(){var e=this.scanner.tokenStart;return l(this.scanner.source,e,117)||this.error("U is expected"),l(this.scanner.source,e+1,m)||this.error("Plus sign is expected"),this.scanner.next(),a.call(this),{type:"UnicodeRange",loc:this.getLocation(e,this.scanner.tokenStart),value:this.scanner.substrToCursor(e)};},generate:function generate(e){this.chunk(e.value);}};},{"../../tokenizer":107}],82:[function(e,t,n){var r=e("../../tokenizer").isWhiteSpace,o=e("../../tokenizer").cmpStr,i=e("../../tokenizer").TYPE,a=i.Function,s=i.Url,l=i.RightParenthesis;t.exports={name:"Url",structure:{value:["String","Raw"]},parse:function parse(){var e,t=this.scanner.tokenStart;switch(this.scanner.tokenType){case s:for(var n=t+4,i=this.scanner.tokenEnd-1;n<i&&r(this.scanner.source.charCodeAt(n));){n++;}for(;n<i&&r(this.scanner.source.charCodeAt(i-1));){i--;}e={type:"Raw",loc:this.getLocation(n,i),value:this.scanner.source.substring(n,i)},this.eat(s);break;case a:o(this.scanner.source,this.scanner.tokenStart,this.scanner.tokenEnd,"url(")||this.error("Function name must be `url`"),this.eat(a),this.scanner.skipSC(),e=this.String(),this.scanner.skipSC(),this.eat(l);break;default:this.error("Url or Function is expected");}return{type:"Url",loc:this.getLocation(t,this.scanner.tokenStart),value:e};},generate:function generate(e){this.chunk("url"),this.chunk("("),this.node(e.value),this.chunk(")");}};},{"../../tokenizer":107}],83:[function(e,t,n){t.exports={name:"Value",structure:{children:[[]]},parse:function parse(){var e=this.scanner.tokenStart,t=this.readSequence(this.scope.Value);return{type:"Value",loc:this.getLocation(e,this.scanner.tokenStart),children:t};},generate:function generate(e){this.children(e);}};},{}],84:[function(e,t,n){var r=e("../../tokenizer").TYPE.WhiteSpace,o=Object.freeze({type:"WhiteSpace",loc:null,value:" "});t.exports={name:"WhiteSpace",structure:{value:String},parse:function parse(){return this.eat(r),o;},generate:function generate(e){this.chunk(e.value);}};},{"../../tokenizer":107}],85:[function(e,t,n){t.exports={AnPlusB:e("./AnPlusB"),Atrule:e("./Atrule"),AtrulePrelude:e("./AtrulePrelude"),AttributeSelector:e("./AttributeSelector"),Block:e("./Block"),Brackets:e("./Brackets"),CDC:e("./CDC"),CDO:e("./CDO"),ClassSelector:e("./ClassSelector"),Combinator:e("./Combinator"),Comment:e("./Comment"),Declaration:e("./Declaration"),DeclarationList:e("./DeclarationList"),Dimension:e("./Dimension"),Function:e("./Function"),HexColor:e("./HexColor"),Identifier:e("./Identifier"),IdSelector:e("./IdSelector"),MediaFeature:e("./MediaFeature"),MediaQuery:e("./MediaQuery"),MediaQueryList:e("./MediaQueryList"),Nth:e("./Nth"),Number:e("./Number"),Operator:e("./Operator"),Parentheses:e("./Parentheses"),Percentage:e("./Percentage"),PseudoClassSelector:e("./PseudoClassSelector"),PseudoElementSelector:e("./PseudoElementSelector"),Ratio:e("./Ratio"),Raw:e("./Raw"),Rule:e("./Rule"),Selector:e("./Selector"),SelectorList:e("./SelectorList"),String:e("./String"),StyleSheet:e("./StyleSheet"),TypeSelector:e("./TypeSelector"),UnicodeRange:e("./UnicodeRange"),Url:e("./Url"),Value:e("./Value"),WhiteSpace:e("./WhiteSpace")};},{"./AnPlusB":45,"./Atrule":46,"./AtrulePrelude":47,"./AttributeSelector":48,"./Block":49,"./Brackets":50,"./CDC":51,"./CDO":52,"./ClassSelector":53,"./Combinator":54,"./Comment":55,"./Declaration":56,"./DeclarationList":57,"./Dimension":58,"./Function":59,"./HexColor":60,"./IdSelector":61,"./Identifier":62,"./MediaFeature":63,"./MediaQuery":64,"./MediaQueryList":65,"./Nth":66,"./Number":67,"./Operator":68,"./Parentheses":69,"./Percentage":70,"./PseudoClassSelector":71,"./PseudoElementSelector":72,"./Ratio":73,"./Raw":74,"./Rule":75,"./Selector":76,"./SelectorList":77,"./String":78,"./StyleSheet":79,"./TypeSelector":80,"./UnicodeRange":81,"./Url":82,"./Value":83,"./WhiteSpace":84}],86:[function(e,t,n){t.exports={parse:function parse(){return this.createSingleNodeList(this.Nth(!1));}};},{}],87:[function(e,t,n){t.exports={parse:function parse(){return this.createSingleNodeList(this.Nth(!0));}};},{}],88:[function(e,t,n){t.exports={parse:function parse(){return this.createSingleNodeList(this.SelectorList());}};},{}],89:[function(e,t,n){t.exports={parse:function parse(){return this.createSingleNodeList(this.Identifier());}};},{}],90:[function(e,t,n){t.exports={parse:function parse(){return this.createSingleNodeList(this.SelectorList());}};},{}],91:[function(e,t,n){t.exports={dir:e("./dir"),has:e("./has"),lang:e("./lang"),matches:e("./matches"),not:e("./not"),"nth-child":e("./nth-child"),"nth-last-child":e("./nth-last-child"),"nth-last-of-type":e("./nth-last-of-type"),"nth-of-type":e("./nth-of-type"),slotted:e("./slotted")};},{"./dir":89,"./has":90,"./lang":92,"./matches":93,"./not":94,"./nth-child":95,"./nth-last-child":96,"./nth-last-of-type":97,"./nth-of-type":98,"./slotted":99}],92:[function(e,t,n){arguments[4][89][0].apply(n,arguments);},{dup:89}],93:[function(e,t,n){t.exports=e("./common/selectorList");},{"./common/selectorList":88}],94:[function(e,t,n){arguments[4][93][0].apply(n,arguments);},{"./common/selectorList":88,dup:93}],95:[function(e,t,n){t.exports=e("./common/nthWithOfClause");},{"./common/nthWithOfClause":87}],96:[function(e,t,n){arguments[4][95][0].apply(n,arguments);},{"./common/nthWithOfClause":87,dup:95}],97:[function(e,t,n){t.exports=e("./common/nth");},{"./common/nth":86}],98:[function(e,t,n){arguments[4][97][0].apply(n,arguments);},{"./common/nth":86,dup:97}],99:[function(e,t,n){t.exports={parse:function parse(){return this.createSingleNodeList(this.Selector());}};},{}],100:[function(e,t,n){t.exports={getNode:e("./default")};},{"./default":101}],101:[function(e,t,n){var r=e("../../tokenizer").cmpChar,o=e("../../tokenizer").cmpStr,i=e("../../tokenizer").TYPE,a=i.Ident,s=i.String,l=i.Number,c=i.Function,u=i.Url,h=i.Hash,p=i.Dimension,d=i.Percentage,m=i.LeftParenthesis,g=i.LeftSquareBracket,f=i.Comma,b=i.Delim;t.exports=function(e){switch(this.scanner.tokenType){case h:return this.HexColor();case f:return e.space=null,e.ignoreWSAfter=!0,this.Operator();case m:return this.Parentheses(this.readSequence,e.recognizer);case g:return this.Brackets(this.readSequence,e.recognizer);case s:return this.String();case p:return this.Dimension();case d:return this.Percentage();case l:return this.Number();case c:return o(this.scanner.source,this.scanner.tokenStart,this.scanner.tokenEnd,"url(")?this.Url():this.Function(this.readSequence,e.recognizer);case u:return this.Url();case a:return r(this.scanner.source,this.scanner.tokenStart,117)&&r(this.scanner.source,this.scanner.tokenStart+1,43)?this.UnicodeRange():this.Identifier();case b:var t=this.scanner.source.charCodeAt(this.scanner.tokenStart);if(47===t||42===t||43===t||45===t)return this.Operator();35===t&&this.error("Hex or identifier is expected",this.scanner.tokenStart+1);}};},{"../../tokenizer":107}],102:[function(e,t,n){t.exports={AtrulePrelude:e("./atrulePrelude"),Selector:e("./selector"),Value:e("./value")};},{"./atrulePrelude":100,"./selector":103,"./value":104}],103:[function(e,t,n){function r(e){switch(this.scanner.tokenType){case p:return this.AttributeSelector();case u:return this.IdSelector();case h:return this.scanner.lookupType(1)===h?this.PseudoElementSelector():this.PseudoClassSelector();case a:return this.TypeSelector();case c:case l:return this.Percentage();case s:this.scanner.source.charCodeAt(this.scanner.tokenStart)===b&&this.error("Identifier is expected",this.scanner.tokenStart+1);break;case i:switch(this.scanner.source.charCodeAt(this.scanner.tokenStart)){case g:case k:case v:return e.space=null,e.ignoreWSAfter=!0,this.Combinator();case f:return this.Combinator();case b:return this.ClassSelector();case m:case y:return this.TypeSelector();case d:return this.IdSelector();}}}var o=e("../../tokenizer").TYPE,i=o.Delim,a=o.Ident,s=o.Dimension,l=o.Percentage,c=o.Number,u=o.Hash,h=o.Colon,p=o.LeftSquareBracket,d=35,m=42,g=43,f=47,b=46,k=62,y=124,v=126;t.exports={getNode:r};},{"../../tokenizer":107}],104:[function(e,t,n){t.exports={getNode:e("./default"),"-moz-element":e("../function/element"),element:e("../function/element"),expression:e("../function/expression"),"var":e("../function/var")};},{"../function/element":41,"../function/expression":42,"../function/var":43,"./default":101}],105:[function(e,t,n){function r(e){return e>=48&&e<=57;}function o(e){return r(e)||e>=65&&e<=70||e>=97&&e<=102;}function i(e){return e>=65&&e<=90;}function a(e){return e>=97&&e<=122;}function s(e){return i(e)||a(e);}function l(e){return e>=128;}function c(e){return s(e)||l(e)||95===e;}function u(e){return c(e)||r(e)||45===e;}function h(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e;}function p(e){return 10===e||13===e||12===e;}function d(e){return p(e)||32===e||9===e;}function m(e,t){return 92===e&&!p(t)&&t!==y;}function g(e,t,n){return 45===e?c(t)||45===t||m(t,n):!!c(e)||92===e&&m(e,t);}function f(e,t,n){return 43===e||45===e?r(t)?2:46===t&&r(n)?3:0:46===e?r(t)?2:0:r(e)?1:0;}function b(e){return 65279===e?1:65534===e?1:0;}function k(e){return e<128?v[e]:k.NameStart;}var y=0,v=new Array(128);k.Eof=128,k.WhiteSpace=130,k.Digit=131,k.NameStart=132,k.NonPrintable=133;for(var x=0;x<v.length;x++){switch(!0){case d(x):v[x]=k.WhiteSpace;break;case r(x):v[x]=k.Digit;break;case c(x):v[x]=k.NameStart;break;case h(x):v[x]=k.NonPrintable;break;default:v[x]=x||k.Eof;}}t.exports={isDigit:r,isHexDigit:o,isUppercaseLetter:i,isLowercaseLetter:a,isLetter:s,isNonAscii:l,isNameStart:c,isName:u,isNonPrintable:h,isNewline:p,isWhiteSpace:d,isValidEscape:m,isIdentifierStart:g,isNumberStart:f,isBOM:b,charCodeCategory:k};},{}],106:[function(e,t,n){var r={EOF:0,Ident:1,Function:2,AtKeyword:3,Hash:4,String:5,BadString:6,Url:7,BadUrl:8,Delim:9,Number:10,Percentage:11,Dimension:12,WhiteSpace:13,CDO:14,CDC:15,Colon:16,Semicolon:17,Comma:18,LeftSquareBracket:19,RightSquareBracket:20,LeftParenthesis:21,RightParenthesis:22,LeftCurlyBracket:23,RightCurlyBracket:24,Comment:25},o=Object.keys(r).reduce(function(e,t){return e[r[t]]=t,e;},{});t.exports={TYPE:r,NAME:o};},{}],107:[function(e,t,n){function r(e,t){function n(t){return t<A?e.charCodeAt(t):0;}function r(){return _=w(e,_),d(n(_),n(_+1),n(_+2))?(B=s.Dimension,void(_=x(e,_))):37===n(_)?(B=s.Percentage,void _++):void(B=s.Number);}function a(){var t=_;return _=x(e,_),b(e,t,_,"url")&&40===n(_)?(_=y(e,_+1),34===n(_)||39===n(_)?(B=s.Function,void(_=t+4)):void f()):40===n(_)?(B=s.Function,void _++):void(B=s.Ident);}function l(t){for(t||(t=n(_++)),B=s.String;_<e.length;_++){var r=e.charCodeAt(_);switch(m(r)){case t:return void _++;case m.Eof:return;case m.WhiteSpace:if(c(r))return _+=k(e,_,r),void(B=s.BadString);break;case 92:if(_===e.length-1)break;var o=n(_+1);c(o)?_+=k(e,_+1,o):h(r,o)&&(_=v(e,_)-1);}}}function f(){for(B=s.Url,_=y(e,_);_<e.length;_++){var t=e.charCodeAt(_);switch(m(t)){case 41:return void _++;case m.Eof:return;case m.WhiteSpace:return _=y(e,_),41===n(_)||_>=e.length?void(_<e.length&&_++):(_=S(e,_),void(B=s.BadUrl));case 34:case 39:case 40:case m.NonPrintable:return _=S(e,_),void(B=s.BadUrl);case 92:if(h(t,n(_+1))){_=v(e,_)-1;break;}return _=S(e,_),void(B=s.BadUrl);}}}t||(t=new o()),e=String(e||"");for(var A=e.length,L=i(t.offsetAndType,A+1),P=i(t.balance,A+1),T=0,E=g(n(0)),_=E,O=0,M=0,R=0;_<A;){var D=e.charCodeAt(_),B=0;switch(P[T]=A,m(D)){case m.WhiteSpace:B=s.WhiteSpace,_=y(e,_+1);break;case 34:l();break;case 35:u(n(_+1))||h(n(_+1),n(_+2))?(B=s.Hash,_=x(e,_+1)):(B=s.Delim,_++);break;case 39:l();break;case 40:B=s.LeftParenthesis,_++;break;case 41:B=s.RightParenthesis,_++;break;case 43:p(D,n(_+1),n(_+2))?r():(B=s.Delim,_++);break;case 44:B=s.Comma,_++;break;case 45:p(D,n(_+1),n(_+2))?r():45===n(_+1)&&62===n(_+2)?(B=s.CDC,_+=3):d(D,n(_+1),n(_+2))?a():(B=s.Delim,_++);break;case 46:p(D,n(_+1),n(_+2))?r():(B=s.Delim,_++);break;case 47:42===n(_+1)?(B=s.Comment,1===(_=e.indexOf("*/",_+2)+2)&&(_=e.length)):(B=s.Delim,_++);break;case 58:B=s.Colon,_++;break;case 59:B=s.Semicolon,_++;break;case 60:33===n(_+1)&&45===n(_+2)&&45===n(_+3)?(B=s.CDO,_+=4):(B=s.Delim,_++);break;case 64:d(n(_+1),n(_+2),n(_+3))?(B=s.AtKeyword,_=x(e,_+1)):(B=s.Delim,_++);break;case 91:B=s.LeftSquareBracket,_++;break;case 92:h(D,n(_+1))?a():(B=s.Delim,_++);break;case 93:B=s.RightSquareBracket,_++;break;case 123:B=s.LeftCurlyBracket,_++;break;case 125:B=s.RightCurlyBracket,_++;break;case m.Digit:r();break;case m.NameStart:a();break;case m.Eof:break;default:B=s.Delim,_++;}switch(B){case O:for(R=M&C,M=P[R],O=M>>z,P[T]=R,P[R++]=T;R<T;R++){P[R]===A&&(P[R]=T);}break;case s.LeftParenthesis:case s.Function:P[T]=M,O=s.RightParenthesis,M=O<<z|T;break;case s.LeftSquareBracket:P[T]=M,O=s.RightSquareBracket,M=O<<z|T;break;case s.LeftCurlyBracket:P[T]=M,O=s.RightCurlyBracket,M=O<<z|T;}L[T++]=B<<z|_;}for(L[T]=s.EOF<<z|_,P[T]=A,P[A]=A;0!==M;){R=M&C,M=P[R],P[R]=A;}return t.source=e,t.firstCharOffset=E,t.offsetAndType=L,t.tokenCount=T,t.balance=P,t.reset(),t.next(),t;}var o=e("../common/TokenStream"),i=e("../common/adopt-buffer"),a=e("./const"),s=a.TYPE,l=e("./char-code-definitions"),c=l.isNewline,u=l.isName,h=l.isValidEscape,p=l.isNumberStart,d=l.isIdentifierStart,m=l.charCodeCategory,g=l.isBOM,f=e("./utils"),b=f.cmpStr,k=f.getNewlineLength,y=f.findWhiteSpaceEnd,v=f.consumeEscaped,x=f.consumeName,w=f.consumeNumber,S=f.consumeBadUrlRemnants,C=16777215,z=24;Object.keys(a).forEach(function(e){r[e]=a[e];}),Object.keys(l).forEach(function(e){r[e]=l[e];}),Object.keys(f).forEach(function(e){r[e]=f[e];}),t.exports=r;},{"../common/TokenStream":5,"../common/adopt-buffer":6,"./char-code-definitions":105,"./const":106,"./utils":108}],108:[function(e,t,n){function r(e,t){return t<e.length?e.charCodeAt(t):0;}function o(e,t,n){return 13===n&&10===r(e,t+1)?2:1;}function i(e,t,n){var r=e.charCodeAt(t);return b(r)&&(r|=32),r===n;}function a(e,t,n,r){if(n-t!==r.length)return!1;if(t<0||n>e.length)return!1;for(var o=t;o<n;o++){var i=e.charCodeAt(o),a=r.charCodeAt(o-t);if(b(i)&&(i|=32),i!==a)return!1;}return!0;}function s(e,t){for(;t>=0&&y(e.charCodeAt(t));t--){;}return t+1;}function l(e,t){for(;t<e.length&&y(e.charCodeAt(t));t++){;}return t;}function c(e,t){for(;t<e.length&&g(e.charCodeAt(t));t++){;}return t;}function u(e,t){if(t+=2,f(r(e,t-1))){for(var n=Math.min(e.length,t+5);t<n&&f(r(e,t));t++){;}var i=r(e,t);y(i)&&(t+=o(e,t,i));}return t;}function h(e,t){for(;t<e.length;t++){var n=e.charCodeAt(t);if(!k(n)){if(!v(n,r(e,t+1)))break;t=u(e,t)-1;}}return t;}function p(e,t){var n=e.charCodeAt(t);if(43!==n&&45!==n||(n=e.charCodeAt(t+=1)),g(n)&&(t=c(e,t+1),n=e.charCodeAt(t)),46===n&&g(e.charCodeAt(t+1))&&(n=e.charCodeAt(t+=2),t=c(e,t)),i(e,t,101)){var r=0;n=e.charCodeAt(t+1),45!==n&&43!==n||(r=1,n=e.charCodeAt(t+2)),g(n)&&(t=c(e,t+1+r+1));}return t;}function d(e,t){for(;t<e.length;t++){var n=e.charCodeAt(t);if(41===n){t++;break;}v(n,r(e,t+1))&&(t=u(e,t));}return t;}var m=e("./char-code-definitions"),g=m.isDigit,f=m.isHexDigit,b=m.isUppercaseLetter,k=m.isName,y=m.isWhiteSpace,v=m.isValidEscape;t.exports={consumeEscaped:u,consumeName:h,consumeNumber:p,consumeBadUrlRemnants:d,cmpChar:i,cmpStr:a,getNewlineLength:o,findWhiteSpaceStart:s,findWhiteSpaceEnd:l};},{"./char-code-definitions":105}],109:[function(e,t,n){var r=e("../common/List");t.exports=function e(t){var n={};for(var o in t){var i=t[o];i&&(Array.isArray(i)||i instanceof r?i=i.map(e):i.constructor===Object&&(i=e(i))),n[o]=i;}return n;};},{"../common/List":2}],110:[function(e,t,n){t.exports=function(e,t){var n=Object.create(SyntaxError.prototype),r=new Error();return n.name=e,n.message=t,Object.defineProperty(n,"stack",{get:function get(){return(r.stack||"").replace(/^(.+\n){1,3}/,e+": "+t+"\n");}}),n;};},{}],111:[function(e,t,n){function r(e,t){return t=t||0,e.length-t>=2&&e.charCodeAt(t)===u&&e.charCodeAt(t+1)===u;}function o(e,t){if(t=t||0,e.length-t>=3&&e.charCodeAt(t)===u&&e.charCodeAt(t+1)!==u){var n=e.indexOf("-",t+2);if(-1!==n)return e.substring(t,n+1);}return"";}function i(e){if(s.call(l,e))return l[e];var t=e.toLowerCase();if(s.call(l,t))return l[e]=l[t];var n=r(t,0),i=n?"":o(t,0);return l[e]=Object.freeze({basename:t.substr(i.length),name:t,vendor:i,prefix:i,custom:n});}function a(e){if(s.call(c,e))return c[e];var t=e,n=e[0];"/"===n?n="/"===e[1]?"//":"/":"_"!==n&&"*"!==n&&"$"!==n&&"#"!==n&&"+"!==n&&"&"!==n&&(n="");var i=r(t,n.length);if(!i&&(t=t.toLowerCase(),s.call(c,t)))return c[e]=c[t];var a=i?"":o(t,n.length),l=t.substr(0,n.length+a.length);return c[e]=Object.freeze({basename:t.substr(l.length),name:t.substr(n.length),hack:n,vendor:a,prefix:l,custom:i});}var s=Object.prototype.hasOwnProperty,l=Object.create(null),c=Object.create(null),u=45;t.exports={keyword:i,property:a,isCustomProperty:r,vendorPrefix:o};},{}],112:[function(e,t,n){function r(e){return"function"==typeof e?e:u;}function o(e,t){return function(n,r,o){n.type===t&&e.call(this,n,r,o);};}function i(e,t){var n=t.structure,r=[];for(var o in n){if(!1!==c.call(n,o)){var i=n[o],a={name:o,type:!1,nullable:!1};Array.isArray(n[o])||(i=[n[o]]);for(var s=0;s<i.length;s++){var l=i[s];null===l?a.nullable=!0:"string"==typeof l?a.type="node":Array.isArray(l)&&(a.type="list");}a.type&&r.push(a);}}return r.length?{context:t.walkContext,fields:r}:null;}function a(e){var t={};for(var n in e.node){if(c.call(e.node,n)){var r=e.node[n];if(!r.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");t[n]=i(n,r);}}return t;}function s(e,t){var n=t?e.fields.slice().reverse():e.fields,r=n.map(function(e){var n,r="node."+e.name;return n="list"===e.type?t?r+".forEachRight(walk);":r+".forEach(walk);":"walk("+r+");",e.nullable&&(n="if ("+r+") {\n    "+n+"}"),n;});return e.context&&(r=[].concat("var old = context."+e.context+";","context."+e.context+" = node;",r,"context."+e.context+" = old;")),new Function("node","context","walk",r.join("\n"));}function l(e){return{Atrule:{StyleSheet:e.StyleSheet,Atrule:e.Atrule,Rule:e.Rule,Block:e.Block},Rule:{StyleSheet:e.StyleSheet,Atrule:e.Atrule,Rule:e.Rule,Block:e.Block},Declaration:{StyleSheet:e.StyleSheet,Atrule:e.Atrule,Rule:e.Rule,Block:e.Block}};}var c=Object.prototype.hasOwnProperty,u=function u(){};t.exports=function(e){var t=a(e),n={},i={};for(var h in t){c.call(t,h)&&null!==t[h]&&(n[h]=s(t[h],!1),i[h]=s(t[h],!0));}var p=l(n),d=l(i);return function(e,a){function s(e,t,n){l.call(m,e,t,n),h.hasOwnProperty(e.type)&&h[e.type](e,m,s),c.call(m,e,t,n);}var l=u,c=u,h=n,m={root:e,stylesheet:null,atrule:null,atrulePrelude:null,rule:null,selector:null,block:null,declaration:null,"function":null};if("function"==typeof a)l=a;else if(a&&(l=r(a.enter),c=r(a.leave),a.reverse&&(h=i),a.visit)){if(p.hasOwnProperty(a.visit))h=a.reverse?d[a.visit]:p[a.visit];else if(!t.hasOwnProperty(a.visit))throw new Error("Bad value `"+a.visit+"` for `visit` option (should be: "+Object.keys(t).join(", ")+")");l=o(l,a.visit),c=o(c,a.visit);}if(l===u&&c===u)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");if(a.reverse){var g=l;l=c,c=g;}s(e);};};},{}],113:[function(e,t,n){function r(){this._array=[],this._set=a?new Map():Object.create(null);}var o=e("./util"),i=Object.prototype.hasOwnProperty,a="undefined"!=typeof Map;r.fromArray=function(e,t){for(var n=new r(),o=0,i=e.length;o<i;o++){n.add(e[o],t);}return n;},r.prototype.size=function(){return a?this._set.size:Object.getOwnPropertyNames(this._set).length;},r.prototype.add=function(e,t){var n=a?e:o.toSetString(e),r=a?this.has(e):i.call(this._set,n),s=this._array.length;r&&!t||this._array.push(e),r||(a?this._set.set(e,s):this._set[n]=s);},r.prototype.has=function(e){if(a)return this._set.has(e);var t=o.toSetString(e);return i.call(this._set,t);},r.prototype.indexOf=function(e){if(a){var t=this._set.get(e);if(t>=0)return t;}else{var n=o.toSetString(e);if(i.call(this._set,n))return this._set[n];}throw new Error('"'+e+'" is not in the set.');},r.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e);},r.prototype.toArray=function(){return this._array.slice();},n.ArraySet=r;},{"./util":122}],114:[function(e,t,n){function r(e){return e<0?1+(-e<<1):0+(e<<1);}function o(e){var t=1==(1&e),n=e>>1;return t?-n:n;}var i=e("./base64");n.encode=function(e){var t,n="",o=r(e);do{t=31&o,o>>>=5,o>0&&(t|=32),n+=i.encode(t);}while(o>0);return n;},n.decode=function(e,t,n){var r,a,s=e.length,l=0,c=0;do{if(t>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(a=i.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&a),a&=31,l+=a<<c,c+=5;}while(r);n.value=o(l),n.rest=t;};},{"./base64":115}],115:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");n.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e);},n.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1;};},{}],116:[function(e,t,n){function r(e,t,o,i,a,s){var l=Math.floor((t-e)/2)+e,c=a(o,i[l],!0);return 0===c?l:c>0?t-l>1?r(l,t,o,i,a,s):s==n.LEAST_UPPER_BOUND?t<i.length?t:-1:l:l-e>1?r(e,l,o,i,a,s):s==n.LEAST_UPPER_BOUND?l:e<0?-1:e;}n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.search=function(e,t,o,i){if(0===t.length)return-1;var a=r(-1,t.length,e,t,o,i||n.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===o(t[a],t[a-1],!0);){--a;}return a;};},{}],117:[function(e,t,n){function r(e,t){var n=e.generatedLine,r=t.generatedLine,o=e.generatedColumn,a=t.generatedColumn;return r>n||r==n&&a>=o||i.compareByGeneratedPositionsInflated(e,t)<=0;}function o(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0};}var i=e("./util");o.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t);},o.prototype.add=function(e){r(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e));},o.prototype.toArray=function(){return this._sorted||(this._array.sort(i.compareByGeneratedPositionsInflated),this._sorted=!0),this._array;},n.MappingList=o;},{"./util":122}],118:[function(e,t,n){function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r;}function o(e,t){return Math.round(e+Math.random()*(t-e));}function i(e,t,n,a){if(n<a){var s=o(n,a),l=n-1;r(e,s,a);for(var c=e[a],u=n;u<a;u++){t(e[u],c)<=0&&(l+=1,r(e,l,u));}r(e,l+1,u);var h=l+1;i(e,t,n,h-1),i(e,t,h+1,a);}}n.quickSort=function(e,t){i(e,t,0,e.length-1);};},{}],119:[function(e,t,n){function r(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new a(t):new o(t);}function o(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=s.getArg(t,"version"),r=s.getArg(t,"sources"),o=s.getArg(t,"names",[]),i=s.getArg(t,"sourceRoot",null),a=s.getArg(t,"sourcesContent",null),l=s.getArg(t,"mappings"),u=s.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);r=r.map(String).map(s.normalize).map(function(e){return i&&s.isAbsolute(i)&&s.isAbsolute(e)?s.relative(i,e):e;}),this._names=c.fromArray(o.map(String),!0),this._sources=c.fromArray(r,!0),this.sourceRoot=i,this.sourcesContent=a,this._mappings=l,this.file=u;}function i(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null;}function a(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=s.getArg(t,"version"),o=s.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new c(),this._names=new c();var i={line:-1,column:0};this._sections=o.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=s.getArg(e,"offset"),n=s.getArg(t,"line"),o=s.getArg(t,"column");if(n<i.line||n===i.line&&o<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=t,{generatedOffset:{generatedLine:n+1,generatedColumn:o+1},consumer:new r(s.getArg(e,"map"))};});}var s=e("./util"),l=e("./binary-search"),c=e("./array-set").ArraySet,u=e("./base64-vlq"),h=e("./quick-sort").quickSort;r.fromSourceMap=function(e){return o.fromSourceMap(e);},r.prototype._version=3,r.prototype.__generatedMappings=null,Object.defineProperty(r.prototype,"_generatedMappings",{get:function get(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings;}}),r.prototype.__originalMappings=null,Object.defineProperty(r.prototype,"_originalMappings",{get:function get(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings;}}),r.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n;},r.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings");},r.GENERATED_ORDER=1,r.ORIGINAL_ORDER=2,r.GREATEST_LOWER_BOUND=1,r.LEAST_UPPER_BOUND=2,r.prototype.eachMapping=function(e,t,n){var o,i=t||null,a=n||r.GENERATED_ORDER;switch(a){case r.GENERATED_ORDER:o=this._generatedMappings;break;case r.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.");}var l=this.sourceRoot;o.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=l&&(t=s.join(l,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)};},this).forEach(e,i);},r.prototype.allGeneratedPositionsFor=function(e){var t=s.getArg(e,"line"),n={source:s.getArg(e,"source"),originalLine:t,originalColumn:s.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=s.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var r=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,l.LEAST_UPPER_BOUND);if(o>=0){var i=this._originalMappings[o];if(void 0===e.column)for(var a=i.originalLine;i&&i.originalLine===a;){r.push({line:s.getArg(i,"generatedLine",null),column:s.getArg(i,"generatedColumn",null),lastColumn:s.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];}else for(var c=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==c;){r.push({line:s.getArg(i,"generatedLine",null),column:s.getArg(i,"generatedColumn",null),lastColumn:s.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];}}return r;},n.SourceMapConsumer=r,o.prototype=Object.create(r.prototype),o.prototype.consumer=r,o.fromSourceMap=function(e){var t=Object.create(o.prototype),n=t._names=c.fromArray(e._names.toArray(),!0),r=t._sources=c.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var a=e._mappings.toArray().slice(),l=t.__generatedMappings=[],u=t.__originalMappings=[],p=0,d=a.length;p<d;p++){var m=a[p],g=new i();g.generatedLine=m.generatedLine,g.generatedColumn=m.generatedColumn,m.source&&(g.source=r.indexOf(m.source),g.originalLine=m.originalLine,g.originalColumn=m.originalColumn,m.name&&(g.name=n.indexOf(m.name)),u.push(g)),l.push(g);}return h(t.__originalMappings,s.compareByOriginalPositions),t;},o.prototype._version=3,Object.defineProperty(o.prototype,"sources",{get:function get(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?s.join(this.sourceRoot,e):e;},this);}}),o.prototype._parseMappings=function(e,t){for(var n,r,o,a,l,c=1,p=0,d=0,m=0,g=0,f=0,b=e.length,k=0,y={},v={},x=[],w=[];k<b;){if(";"===e.charAt(k))c++,k++,p=0;else if(","===e.charAt(k))k++;else{for(n=new i(),n.generatedLine=c,a=k;a<b&&!this._charIsMappingSeparator(e,a);a++){;}if(r=e.slice(k,a),o=y[r])k+=r.length;else{for(o=[];k<a;){u.decode(e,k,v),l=v.value,k=v.rest,o.push(l);}if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");y[r]=o;}n.generatedColumn=p+o[0],p=n.generatedColumn,o.length>1&&(n.source=g+o[1],g+=o[1],n.originalLine=d+o[2],d=n.originalLine,n.originalLine+=1,n.originalColumn=m+o[3],m=n.originalColumn,o.length>4&&(n.name=f+o[4],f+=o[4])),w.push(n),"number"==typeof n.originalLine&&x.push(n);}}h(w,s.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,h(x,s.compareByOriginalPositions),this.__originalMappings=x;},o.prototype._findMapping=function(e,t,n,r,o,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return l.search(e,t,o,i);},o.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue;}}t.lastGeneratedColumn=1/0;}},o.prototype.originalPositionFor=function(e){var t={generatedLine:s.getArg(e,"line"),generatedColumn:s.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",s.compareByGeneratedPositionsDeflated,s.getArg(e,"bias",r.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===t.generatedLine){var i=s.getArg(o,"source",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=s.join(this.sourceRoot,i)));var a=s.getArg(o,"name",null);return null!==a&&(a=this._names.at(a)),{source:i,line:s.getArg(o,"originalLine",null),column:s.getArg(o,"originalColumn",null),name:a};}}return{source:null,line:null,column:null,name:null};},o.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e;});},o.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=s.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=s.urlParse(this.sourceRoot))){var r=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)];}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.');},o.prototype.generatedPositionFor=function(e){var t=s.getArg(e,"source");if(null!=this.sourceRoot&&(t=s.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};t=this._sources.indexOf(t);var n={source:t,originalLine:s.getArg(e,"line"),originalColumn:s.getArg(e,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,s.getArg(e,"bias",r.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===n.source)return{line:s.getArg(i,"generatedLine",null),column:s.getArg(i,"generatedColumn",null),lastColumn:s.getArg(i,"lastGeneratedColumn",null)};}return{line:null,column:null,lastColumn:null};},n.BasicSourceMapConsumer=o,a.prototype=Object.create(r.prototype),a.prototype.constructor=r,a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function get(){for(var e=[],t=0;t<this._sections.length;t++){for(var n=0;n<this._sections[t].consumer.sources.length;n++){e.push(this._sections[t].consumer.sources[n]);}}return e;}}),a.prototype.originalPositionFor=function(e){var t={generatedLine:s.getArg(e,"line"),generatedColumn:s.getArg(e,"column")},n=l.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn;}),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null};},a.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources();});},a.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n],o=r.consumer.sourceContentFor(e,!0);if(o)return o;}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.');},a.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(s.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r){return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)};}}}return{line:null,column:null};},a.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++){for(var r=this._sections[n],o=r.consumer._generatedMappings,i=0;i<o.length;i++){var a=o[i],l=r.consumer._sources.at(a.source);null!==r.consumer.sourceRoot&&(l=s.join(r.consumer.sourceRoot,l)),this._sources.add(l),l=this._sources.indexOf(l);var c=r.consumer._names.at(a.name);this._names.add(c),c=this._names.indexOf(c);var u={source:l,generatedLine:a.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(r.generatedOffset.generatedLine===a.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:c};this.__generatedMappings.push(u),"number"==typeof u.originalLine&&this.__originalMappings.push(u);}}h(this.__generatedMappings,s.compareByGeneratedPositionsDeflated),h(this.__originalMappings,s.compareByOriginalPositions);},n.IndexedSourceMapConsumer=a;},{"./array-set":113,"./base64-vlq":114,"./binary-search":116,"./quick-sort":118,"./util":122}],120:[function(e,t,n){function r(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new a(),this._names=new a(),this._mappings=new s(),this._sourcesContents=null;}var o=e("./base64-vlq"),i=e("./util"),a=e("./array-set").ArraySet,s=e("./mapping-list").MappingList;r.prototype._version=3,r.fromSourceMap=function(e){var t=e.sourceRoot,n=new r({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=i.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r);}),e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&n.setSourceContent(t,r);}),n;},r.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),n=i.getArg(e,"original",null),r=i.getArg(e,"source",null),o=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o});},r.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=i.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null));},r.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file;}var o=this._sourceRoot;null!=o&&(r=i.relative(o,r));var s=new a(),l=new a();this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=n&&(t.source=i.join(n,t.source)),null!=o&&(t.source=i.relative(o,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name));}var c=t.source;null==c||s.has(c)||s.add(c);var u=t.name;null==u||l.has(u)||l.add(u);},this),this._sources=s,this._names=l,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=i.join(n,t)),null!=o&&(t=i.relative(o,t)),this.setSourceContent(t,r));},this);},r.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}));},r.prototype._serializeMappings=function(){for(var e,t,n,r,a=0,s=1,l=0,c=0,u=0,h=0,p="",d=this._mappings.toArray(),m=0,g=d.length;m<g;m++){if(t=d[m],e="",t.generatedLine!==s)for(a=0;t.generatedLine!==s;){e+=";",s++;}else if(m>0){if(!i.compareByGeneratedPositionsInflated(t,d[m-1]))continue;e+=",";}e+=o.encode(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(r=this._sources.indexOf(t.source),e+=o.encode(r-h),h=r,e+=o.encode(t.originalLine-1-c),c=t.originalLine-1,e+=o.encode(t.originalColumn-l),l=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=o.encode(n-u),u=n)),p+=e;}return p;},r.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var n=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null;},this);},r.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e;},r.prototype.toString=function(){return JSON.stringify(this.toJSON());},n.SourceMapGenerator=r;},{"./array-set":113,"./base64-vlq":114,"./mapping-list":117,"./util":122}],121:[function(e,t,n){function r(e,t,n,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==o?null:o,this[s]=!0,null!=r&&this.add(r);}var o=e("./source-map-generator").SourceMapGenerator,i=e("./util"),a=/(\r?\n)/,s="$$$isSourceNode$$$";r.fromStringWithSourceMap=function(e,t,n){function o(e,t){if(null===e||void 0===e.source)s.add(t);else{var o=n?i.join(n,e.source):e.source;s.add(new r(e.originalLine,e.originalColumn,o,t,e.name));}}var s=new r(),l=e.split(a),c=0,u=function u(){function e(){return c<l.length?l[c++]:void 0;}return e()+(e()||"");},h=1,p=0,d=null;return t.eachMapping(function(e){if(null!==d){if(!(h<e.generatedLine)){var t=l[c],n=t.substr(0,e.generatedColumn-p);return l[c]=t.substr(e.generatedColumn-p),p=e.generatedColumn,o(d,n),void(d=e);}o(d,u()),h++,p=0;}for(;h<e.generatedLine;){s.add(u()),h++;}if(p<e.generatedColumn){var t=l[c];s.add(t.substr(0,e.generatedColumn)),l[c]=t.substr(e.generatedColumn),p=e.generatedColumn;}d=e;},this),c<l.length&&(d&&o(d,u()),s.add(l.splice(c).join(""))),t.sources.forEach(function(e){var r=t.sourceContentFor(e);null!=r&&(null!=n&&(e=i.join(n,e)),s.setSourceContent(e,r));}),s;},r.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e);},this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e);}return this;},r.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--){this.prepend(e[t]);}else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e);}return this;},r.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++){t=this.children[n],t[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name});}},r.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++){t.push(this.children[n]),t.push(e);}t.push(this.children[n]),this.children=t;}return this;},r.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this;},r.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t;},r.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++){this.children[t][s]&&this.children[t].walkSourceContents(e);}for(var r=Object.keys(this.sourceContents),t=0,n=r.length;t<n;t++){e(i.fromSetString(r[t]),this.sourceContents[r[t]]);}},r.prototype.toString=function(){var e="";return this.walk(function(t){e+=t;}),e;},r.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new o(e),r=!1,i=null,a=null,s=null,l=null;return this.walk(function(e,o){t.code+=e,null!==o.source&&null!==o.line&&null!==o.column?(i===o.source&&a===o.line&&s===o.column&&l===o.name||n.addMapping({source:o.source,original:{line:o.line,column:o.column},generated:{line:t.line,column:t.column},name:o.name}),i=o.source,a=o.line,s=o.column,l=o.name,r=!0):r&&(n.addMapping({generated:{line:t.line,column:t.column}}),i=null,r=!1);for(var c=0,u=e.length;c<u;c++){10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===u?(i=null,r=!1):r&&n.addMapping({source:o.source,original:{line:o.line,column:o.column},generated:{line:t.line,column:t.column},name:o.name})):t.column++;}}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t);}),{code:t.code,map:n};},n.SourceNode=r;},{"./source-map-generator":120,"./util":122}],122:[function(e,t,n){function r(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.');}function o(e){var t=e.match(b);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null;}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t;}function a(e){var t=e,r=o(e);if(r){if(!r.path)return e;t=r.path;}for(var a,s=n.isAbsolute(t),l=t.split(/\/+/),c=0,u=l.length-1;u>=0;u--){a=l[u],"."===a?l.splice(u,1):".."===a?c++:c>0&&(""===a?(l.splice(u+1,c),c=0):(l.splice(u,2),c--));}return t=l.join("/"),""===t&&(t=s?"/":"."),r?(r.path=t,i(r)):t;}function s(e,t){""===e&&(e="."),""===t&&(t=".");var n=o(t),r=o(e);if(r&&(e=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),i(n);if(n||t.match(k))return t;if(r&&!r.host&&!r.path)return r.host=t,i(r);var s="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return r?(r.path=s,i(r)):s;}function l(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if(e=e.slice(0,r),e.match(/^([^\/]+:\/)?\/*$/))return t;++n;}return Array(n+1).join("../")+t.substr(e.length+1);}function c(e){return e;}function u(e){return p(e)?"$"+e:e;}function h(e){return p(e)?e.slice(1):e;}function p(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--){if(36!==e.charCodeAt(n))return!1;}return!0;}function d(e,t,n){var r=e.source-t.source;return 0!==r?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)||n?r:0!==(r=e.generatedColumn-t.generatedColumn)?r:(r=e.generatedLine-t.generatedLine,0!==r?r:e.name-t.name);}function m(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!==(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=e.source-t.source)?r:0!==(r=e.originalLine-t.originalLine)?r:(r=e.originalColumn-t.originalColumn,0!==r?r:e.name-t.name);}function g(e,t){return e===t?0:e>t?1:-1;}function f(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=g(e.source,t.source))?n:0!==(n=e.originalLine-t.originalLine)?n:(n=e.originalColumn-t.originalColumn,0!==n?n:g(e.name,t.name));}n.getArg=r;var b=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,k=/^data:.+\,.+$/;n.urlParse=o,n.urlGenerate=i,n.normalize=a,n.join=s,n.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(b);},n.relative=l;var y=function(){return!("__proto__"in Object.create(null));}();n.toSetString=y?c:u,n.fromSetString=y?c:h,n.compareByOriginalPositions=d,n.compareByGeneratedPositionsDeflated=m,n.compareByGeneratedPositionsInflated=f;},{}],123:[function(e,t,n){n.SourceMapGenerator=e("./lib/source-map-generator").SourceMapGenerator,n.SourceMapConsumer=e("./lib/source-map-consumer").SourceMapConsumer,n.SourceNode=e("./lib/source-node").SourceNode;},{"./lib/source-map-consumer":119,"./lib/source-map-generator":120,"./lib/source-node":121}]},{},[10])(10);});return module.exports;}.call(void 0);exports.csstree=csstree;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;var _modelLibs=require("./model-libs.js");function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}}function _default(discovery){function generateColor(value){return'hsl('+String(value).split('').reduce(function(r,c){return r+r^c.charCodeAt(0);},0)+', 50%, 85%)';}function parseProdSyntax(entry){entry.definitionSyntax={syntax:null,error:null};try{entry.definitionSyntax.syntax=_modelLibs.csstree.grammar.parse(entry.value);}catch(e){entry.definitionSyntax.error=e.message;}}function parseDefSyntax(entry,key){if(entry.props[key]){if(!entry.definitionSyntax){entry.definitionSyntax={};}var res=entry.definitionSyntax[key]={syntax:null,error:null};try{res.syntax=_modelLibs.csstree.grammar.parse(entry.props[key]);}catch(e){res.error=e.message;}}}discovery.setPrepare(function(data){var colorMap=new Map([['FPWD','#ffbdbd'],['WD','#ffcb88'],['ED','#ffcb88'],['LC','#fde66e'],['CR','#e6ea37'],['PR','#c8e62b'],['REC','#a2d278']]);var specIndex=data.specs.reduce(function(map,item){return map.set(item,item).set(item.id,item);},new Map());discovery.addEntityResolver(function(value){if(value){value=specIndex.get(value)||specIndex.get(value.id);}if(value){return{type:'spec',id:value.id,name:value.props.title,entity:value};}});data.defs.forEach(function(item){item.source.spec=specIndex.get(item.source.spec);item.id=item.source.spec.id+'/'+item.type+'/'+item.props.name;parseDefSyntax(item,'value');parseDefSyntax(item,'newValues');});var defIndex=data.defs.reduce(function(map,item){return map.set(item,item).set(item.id,item).set(item.props,item);},new Map());discovery.addEntityResolver(function(value){if(value){value=defIndex.get(value)||defIndex.get(value.id);}if(value){return{type:'def',id:value.id,name:value.props.name,entity:value};}});data.prods.forEach(function(item){item.source.spec=specIndex.get(item.source.spec);item.id=item.source.spec.id+'/prod/'+item.name;parseProdSyntax(item,'value');});var prodIndex=data.prods.reduce(function(map,item){return map.set(item,item).set(item.id,item);},new Map());discovery.addEntityResolver(function(value){if(value){value=prodIndex.get(value)||prodIndex.get(value.id);}if(value){return{type:'prod',id:value.id,name:'<'+value.name+'>',entity:value};}});data.genericProds=["ident-token","function-token","at-keyword-token","hash-token","string-token","bad-string-token","url-token","bad-url-token","delim-token","number-token","percentage-token","dimension-token","whitespace-token","CDO-token","CDC-token","colon-token","semicolon-token","comma-token","[-token","]-token","(-token",")-token","{-token","}-token","string","ident","custom-ident","custom-property-name","hex-color","id-selector","an-plus-b","urange","declaration-value","any-value","dimension","angle","decibel","frequency","flex","length","resolution","semitones","time","percentage","zero","number","integer"];discovery.addQueryHelpers({isArray:function isArray(value){return Array.isArray(value);},color:function color(value){return colorMap.has(value)?colorMap.get(value):generateColor(value);},syntaxChildren:function syntaxChildren(current){var children=[];if(current){if(current.term){children.push(current.term);}if(current.terms){children.push.apply(children,_toConsumableArray(current.terms));}}return children;}});});}

},{"./model-libs.js":1}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;var _modelLibs=require("./model-libs.js");function _default(discovery){!function(module,exports){discovery.page.define('default',['h1:#.name',{view:'context',data:[{title:'Specs',query:'specs.sort(<props.title>)'},{title:'Definitions',query:'defs'},{title:'Productions',query:'prods'},{title:'Problem syntaxes',query:'defs.[definitionSyntax.value.error or definitionSyntax.newValues.error] +\nprods.[definitionSyntax.error]'}],content:{view:'inline-list',item:'indicator',data:".({\n                label: title,\n                value: query.query(#.data, #).size(),\n                href: href or pageLink('report', { title, query, view })\n            })"}},'html:"<br><br>"',{view:'ul',item:'link:{ text: title, href: pageLink("report", { ..., noedit: true }) }',data:[{title:'Specs and statuses',query:'specs.sort(<props.title>)',view:'{\n    view: \'ol\',\n    limit: false,\n    item: [\'auto-link\', \'badge:{ text: props.status, color: props.status.color() }\']\n}'},{title:'Problem syntaxes',query:'(defs + prods)\n.group(<definitionSyntax.error or definitionSyntax.value.error>).[key]\n',view:'{\n    view: \'list\',\n    item: {\n        view: \'expand\',\n        expanded: true,\n        title: \'pre:key\',\n        content: {\n            view: \'list\',\n            data: \'value\',\n            item: \'def\'\n        }\n    }\n}'},{title:'Missed productions',query:'(defs.definitionSyntax.value.syntax + prods.definitionSyntax.syntax)\n..(syntaxChildren()).[type="Type"].name\n- prods.name\n- genericProds'}]}]);}.call(this);!function(module,exports){discovery.page.define('def',{view:'context',data:'defs.pick(<id = #.id>)',content:["badge:{\n            text: source.spec.props.title,\n            href: source.spec.id.pageLink(\"spec\"),\n            color: \"#fae2ec\"\n        }",'h1:props.name',{view:'key-value',data:'props',value:{view:'switch',content:[{when:'key in ["value", "newValues"]',content:'syntax:value'},{content:'pre:value'}]}},'h5:"Defined in: " + source.spec.file + " on line " + source.line',{view:'context',data:'#.data.defs.[props.name = @.props.name and $ != @].source.spec',content:{view:'context',when:'size()',content:['h5:"Also defined in:"',{view:'ul',item:'auto-link'}]}}]},{resolveLink:'def'});}.call(this);!function(module,exports){discovery.page.define('defs',{view:'context',data:'(defs + prods).[name = #.id]',content:['h1:props.name',{view:'list',item:[{view:'h4',content:['auto-link:source.spec','badge:{ text: type, color: "#cee4ab" }']},{view:'key-value',when:'props',data:'props',value:{view:'switch',content:[{when:'key in ["value", "newValues"]',content:'syntax:value'},{content:'pre:value'}]}},{view:'syntax',when:'type="prod"',data:'value'}]}]});}.call(this);!function(module,exports){discovery.page.define('prod',{view:'context',data:'prods.pick(<id = #.id>)',content:["badge:{\n            text: source.spec.props.title,\n            href: source.spec.id.pageLink(\"spec\"),\n            color: \"#fae2ec\"\n        }",'h1:"<" + name + ">"','syntax:value','h5:"Defined in: " + source.spec.file + " on line " + source.line',{view:'context',data:'#.data.prods.[name = @.name and $ != @].source.spec',content:{view:'context',when:'size()',content:['h5:"Also defined in:"',{view:'ul',item:'auto-link'}]}}]},{resolveLink:'prod'});}.call(this);!function(module,exports){discovery.page.define('spec',{view:'context',data:'specs.pick(<id = #.id>)',content:['h1:props.title',{view:'key-value',data:'props',value:{view:'switch',content:[{when:'key="status"',content:'badge:{ text: value, color: value.color() }'},{when:'value.isArray()',content:{view:'ul',data:'value',item:'pre'}},{content:'pre:value'}]}},{view:'table',data:'$spec:$; #.data.defs.[source.spec = $spec].props',cols:{el:false,type:false,source:false,id:false,name:'auto-link',value:'syntax:value'}}]},{resolveLink:'spec'});}.call(this);!function(module,exports){discovery.view.define('key-value-item',function(el,config,data,context){var _config$key=config.key,key=_config$key===void 0?'text:key':_config$key,_config$value=config.value,value=_config$value===void 0?'struct:value':_config$value;var keyEl=el.appendChild(document.createElement('span'));var valueEl=el.appendChild(document.createElement('span'));keyEl.className='view-key-value-item-key';this.render(keyEl,key,data,context);valueEl.className='view-key-value-item-value';this.render(valueEl,value,data,context);});discovery.view.define('key-value',function(el,config,data,context){var itemConfig=config.itemConfig,key=config.key,value=config.value;var entries=null;if(Array.isArray(data)){entries=data;}else{entries=[];for(var _key in data){if(hasOwnProperty.call(data,_key)){entries.push({key:_key,value:data[_key]});}}}this.renderList(el,this.composeConfig({view:'key-value-item',key:key,value:value},itemConfig),entries,context);});}.call(this);!function(module,exports){discovery.view.define('def',[{view:'block',className:'header',content:['auto-link','badge:{ text: type }']},{view:'block',className:'source',content:['auto-link:source.spec','text:" on line " + source.line']}]);}.call(this);!function(module,exports){discovery.view.define('pre',function(el,config,data,context){var content=config.content;if(content){this.render(el,content,data,context);}else{el.textContent=data;}},{tag:'span'});}.call(this);!function(module,exports){discovery.view.define('sidebar',{view:'tabs',name:'splitBy',tabs:[{value:'byspec',text:'By spec'},{value:'byentry',text:'Index'}],content:{view:'content-filter',content:[{view:'switch',content:[{when:'#.splitBy="byspec"',content:{view:'list',emptyText:'No matches',data:"\n                                specs\n                                .sort(<props.title>)\n                                .($spec: $;{\n                                    ...,\n                                    defs: @.defs\n                                        .[source.spec = $spec and (no #.filter or props.name ~= #.filter)]\n                                        .sort(<props.name>)\n                                })\n                                .[defs.size() or (#.filter and props.title ~= #.filter)]\n                            ",item:{view:'toc-section',header:[{view:'auto-link',content:'text-match:{ text, match: #.filter }'},{view:'pill-badge',data:'{ text: defs.size() }'}],content:{view:'list',emptyText:false&&'No definitions',data:'defs',item:[{view:'auto-link',content:'text-match:{ text, match: #.filter }'},'badge:{ text: type, color: "#d8e1f3" }']}}}},{when:'#.splitBy="byentry"',content:{view:'list',limit:100,data:"\n                                (defs + prods)\n                                    .[no #.filter or name ~= #.filter]\n                                    .group(<name>)\n                                    .({\n                                        id: key,\n                                        type: value.type,\n                                        name: value.name.pick(),\n                                        count: value.size()\n                                    })\n                                    .sort(<name>)\n                            ",item:[{view:'link',data:"{\n                                        text: name,\n                                        href: name.pageLink(\"defs\"),\n                                        match: #.filter\n                                    }",content:'text-match'},{view:'pill-badge',when:'count > 1',data:'{ text: count }'},{view:'inline-list',data:'type',item:'badge:{ text: $, color: "#d8e1f3" }'}]}}]}]}},{tag:false});}.call(this);!function(module,exports){function escapeHtml(str){return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}function markupSyntax(syntax,dict,match){return _modelLibs.csstree.grammar.generate(syntax,function(str,node){if(node.type==='Type'||node.type==='Property'){var entityDescriptor=node.type==='Type'?dict.prods.find(function(e){return e.name===node.name;}):dict.defs.find(function(e){return e.props.name===node.name;});var error=!entityDescriptor;str="<a".concat(entityDescriptor?" href=\"#prod:".concat(entityDescriptor.id,"\""):'').concat(error?' class="error"':'',">").concat(escapeHtml(str),"</a>");}if(match&&match.type===node.type&&match.name===node.name){str="<span class=\"match\">".concat(str,"</span>");}return str;});}discovery.view.define('syntax',function(el,config,data,context){var _ref=data||{},type=_ref.type,match=_ref.match,matchType=_ref.matchType,matchName=_ref.matchName;var _ref2=data||{},syntax=_ref2.syntax;var syntaxHtml='';if(typeof data==='string'){syntax=data;}if(syntax){if(typeof syntax==='string'){try{syntax=_modelLibs.csstree.grammar.parse(syntax);}catch(e){el.textContent=e.message;el.classList.add('parse-error');return;}}syntaxHtml=markupSyntax(syntax,context.data,{type:matchType,name:matchName});}else if(match){syntaxHtml='generic';}el.innerHTML=syntaxHtml;},{tag:'span'});}.call(this);}

},{"./model-libs.js":1}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _default={"name":"Implicit config","mode":"single","model":{"name":"CSSWG drafts index","slug":"default","cache":false}};exports["default"]=_default;

},{}],5:[function(require,module,exports){
"use strict";var _lib=require("../lib.js");var _setup=_interopRequireDefault(require("./gen/setup.js"));var _modelPrepare=_interopRequireDefault(require("./gen/model-prepare.js"));var _modelView=_interopRequireDefault(require("./gen/model-view.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}var discovery=new _lib.App(document.body,_setup["default"].model?{mode:_setup["default"].mode,cache:_setup["default"].model.cache}:{mode:'modelfree'});discovery.apply([_modelView["default"],_modelPrepare["default"]]);if(discovery.mode!=='modelfree'){discovery.loadDataFromUrl('./data.json','data');}else{discovery.renderPage();}

},{"../lib.js":6,"./gen/model-prepare.js":2,"./gen/model-view.js":3,"./gen/setup.js":4}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.utils=exports.router=exports.pages=exports.complexViews=exports.views=exports.App=exports.Widget=void 0;function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj;};}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof2(obj);}var global={};var _module2=undefined;var discovery;var _define2=function define(){var fn=arguments[arguments.length-1];discovery=fn();_define2=undefined;};_define2.amd=true;(function(f){if((typeof exports==="undefined"?"undefined":_typeof2(exports))==="object"&&typeof _module2!=="undefined"){_module2.exports=f();}else if(typeof _define2==="function"&&_define2.amd){_define2([],f);}else{var g;if(typeof window!=="undefined"){g=window;}else if(typeof global!=="undefined"){g=global;}else if(typeof self!=="undefined"){g=self;}else{g=this;}g.discovery=f();}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a;}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r);},p,p.exports,r,e,n,t);}return n[i].exports;}for(var u="function"==typeof require&&require,i=0;i<t.length;i++){o(t[i]);}return o;}return r;}()({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _index=_interopRequireDefault(require("../widget/index.js"));var complexViews=_interopRequireWildcard(require("../views/index-complex.js"));var _router=_interopRequireDefault(require("../core/router.js"));var _dom=require("../core/utils/dom.js");function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}}newObj["default"]=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}var App=function(_Widget){_inherits(App,_Widget);function App(container){var _this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,container,options));_this.mode=options.mode;_this.apply(complexViews);_this.apply(_router["default"]);_this.addBadge('Index',function(){return _this.setPage('default');},function(host){return host.pageId!=='default'&&host.mode!=='modelfree';});_this.addBadge('Make report',function(){return _this.setPage('report');},function(host){return host.pageId!=='report'&&host.mode!=='modelfree';});_this.addBadge('Reload with no cache',function(){return fetch('drop-cache').then(function(){return location.reload();});},function(){return options.cache;});_this.addBadge('Switch model',function(){return location.href='..';},function(host){return host.mode==='multi';});_this.addBadge(function(el){el.classList.add('load-data-badge');el.innerHTML='Load data<input type="file" accept="application/json,.json">';el.lastChild.addEventListener('change',function(e){return _this.loadDataFromEvent(e);});},function(){},function(host){return host.mode==='modelfree';});if(_this.mode==='modelfree'&&_this.dom.container){_this.dom.container.addEventListener('drop',function(e){return _this.loadDataFromEvent(e);},true);_this.dom.container.addEventListener('dragover',function(e){e.stopPropagation();e.preventDefault();},true);}return _this;}_createClass(App,[{key:"setData",value:function setData(data,context){var _this2=this;var setDataPromise=_get(_getPrototypeOf(App.prototype),"setData",this).call(this,data,context);if(this.mode==='modelfree'){setDataPromise.then(function(){var pageHash=_this2.pageHash;_this2.defaultPageId='report';_this2.pageHash=undefined;_this2.setPageHash(pageHash,true);});}return setDataPromise;}},{key:"loadDataFromEvent",value:function loadDataFromEvent(event){var _this3=this;var source=event.dataTransfer||event.target;var file=source&&source.files&&source.files[0];event.stopPropagation();event.preventDefault();if(file.type!=='application/json'){return;}var reader=new FileReader();reader.onload=function(event){var data=JSON.parse(event.target.result);_this3.setData(data,{name:"Discover file: ".concat(file.name),createdAt:new Date(),data:data});};reader.readAsText(file);}},{key:"loadDataFromUrl",value:function loadDataFromUrl(url,dataField){var _this4=this;var loadStartTime=Date.now();var explicitData=typeof url==='string'?undefined:url;this.dom.loadingOverlay.classList.remove('error','done');return fetch(explicitData?'data:application/json,{}':url).then(function(res){console.log("[Discovery] Data loaded in ".concat(Date.now()-loadStartTime,"ms"));_this4.dom.loadingOverlay.innerHTML='Processing data...';return explicitData||res.json();}).then(function(res){if(res.error){throw new Error(res.error);}var data=dataField?res[dataField]:res;var context=_objectSpread({name:'Discovery'},dataField?res:{data:res},{createdAt:dataField&&res.createdAt?new Date(Date.parse(res.createdAt)):new Date()});_this4.setData(data,context);_this4.dom.loadingOverlay.classList.add('done');})["catch"](function(e){_this4.dom.loadingOverlay.classList.add('error');_this4.dom.loadingOverlay.innerHTML='<pre>Data loading error:<br>'+String(e).replace(/^Error:\s*Error:/,'Error:')+'</pre>'+'<button onclick="fetch(\'drop-cache\').then(() => location.reload())">Reload with no cache</button>';console.error('[Discovery] Data load error:',e);});}},{key:"setContainer",value:function setContainer(container){_get(_getPrototypeOf(App.prototype),"setContainer",this).call(this,container);if(this.dom.container){this.dom.container.appendChild(this.dom.loadingOverlay=(0,_dom.createElement)('div','loading-overlay done','Loading...'));}}},{key:"getRenderContext",value:function getRenderContext(){return _objectSpread({},_get(_getPrototypeOf(App.prototype),"getRenderContext",this).call(this),{modelfree:this.mode==='modelfree'});}},{key:"renderPage",value:function renderPage(){_get(_getPrototypeOf(App.prototype),"renderPage",this).call(this);document.title=this.getRenderContext().name||document.title;}}]);return App;}(_index["default"]);exports["default"]=App;},{"../core/router.js":6,"../core/utils/dom.js":10,"../views/index-complex.js":37,"../widget/index.js":63}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _emitter=_interopRequireDefault(require("./emitter.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}var entries=new WeakMap();var Dictionary=function(_Emitter){_inherits(Dictionary,_Emitter);function Dictionary(){var _this;_classCallCheck(this,Dictionary);_this=_possibleConstructorReturn(this,_getPrototypeOf(Dictionary).call(this));entries.set(_assertThisInitialized(_this),Object.create(null));return _this;}_createClass(Dictionary,[{key:"define",value:function define(key,value){entries.get(this)[key]=value;this.emit('define',key,value);}},{key:"isDefined",value:function isDefined(key){return key in entries.get(this);}},{key:"get",value:function get(key){return entries.get(this)[key];}},{key:"names",get:function get(){return Object.keys(entries.get(this)).sort();}}]);return Dictionary;}(_emitter["default"]);exports["default"]=Dictionary;},{"./emitter.js":3}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}var Emitter=function(){function Emitter(){_classCallCheck(this,Emitter);this.listeners=Object.create(null);}_createClass(Emitter,[{key:"on",value:function on(event,callback){this.listeners[event]={callback:callback,next:this.listeners[event]||null};return this;}},{key:"once",value:function once(event,callback){return this.on(event,function wrapper(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}callback.apply(this,args);this.off(event,wrapper);});}},{key:"off",value:function off(event,callback){var cursor=this.listeners[event];var prev=null;while(cursor){if(cursor.callback===callback){cursor.callback=null;if(prev){prev.next=cursor.next;}else{this.listeners[event]=cursor.next;}break;}prev=cursor;cursor=cursor.next;}return this;}},{key:"emit",value:function emit(event){var cursor=this.listeners[event];var hadListeners=false;for(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2];}while(cursor){if(typeof cursor.callback==='function'){cursor.callback.apply(this,args);}hadListeners=true;cursor=cursor.next;}return hadListeners;}}]);return Emitter;}();exports["default"]=Emitter;},{}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _dict=_interopRequireDefault(require("./dict.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}var BUILDIN_NOT_FOUND={name:'not-found',render:function render(el,_ref){var name=_ref.name;el.style.cssText='color:#a00';el.innerText="Page `".concat(name,"` not found");}};var PageRenderer=function(_Dict){_inherits(PageRenderer,_Dict);function PageRenderer(view){var _this;_classCallCheck(this,PageRenderer);_this=_possibleConstructorReturn(this,_getPrototypeOf(PageRenderer).call(this));_this.view=view;_this.lastPage=null;_this.lastPageId=null;return _this;}_createClass(PageRenderer,[{key:"define",value:function define(name,render,options){var _this2=this;_get(_getPrototypeOf(PageRenderer.prototype),"define",this).call(this,name,Object.freeze({name:name,render:typeof render==='function'?render.bind(this.view):function(el,data,context){return _this2.view.render(el,render,data,context);},options:Object.freeze(_objectSpread({},options))}));}},{key:"render",value:function render(prevPageEl,name,data,context){var renderStartTime=Date.now();var page=this.get(name);var rendered;if(!page){page=this.get('not-found')||BUILDIN_NOT_FOUND;data={name:name};}var _ref2=page.options||{},reuseEl=_ref2.reuseEl,init=_ref2.init,_ref2$keepScrollOffse=_ref2.keepScrollOffset,keepScrollOffset=_ref2$keepScrollOffse===void 0?true:_ref2$keepScrollOffse;var pageChanged=this.lastPage!==name;var pageRef=context&&context.id;var pageRefChanged=this.lastPageId!==pageRef;var newPageEl=reuseEl&&!pageChanged?prevPageEl:document.createElement('article');var parentEl=prevPageEl.parentNode;this.lastPage=name;this.lastPageId=pageRef;newPageEl.id=prevPageEl.id;newPageEl.classList.add('page','page-'+name);if(pageChanged&&typeof init==='function'){init(newPageEl);}try{rendered=page.render(newPageEl,data,context);}catch(e){rendered=this.view.render(newPageEl,'alert-danger',String(e)+' (see details in console)');console.error(e);}if(newPageEl!==prevPageEl){parentEl.replaceChild(newPageEl,prevPageEl);}if(pageChanged||pageRefChanged||!keepScrollOffset){parentEl.scrollTop=0;}Promise.resolve(rendered).then(function(){return console.log('[Discovery] Page `'+page.name+'` rendered in '+(Date.now()-renderStartTime)+'ms');});return newPageEl;}}]);return PageRenderer;}(_dict["default"]);exports["default"]=PageRenderer;},{"./dict.js":2}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _dict=_interopRequireDefault(require("./dict.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}var PresetRenderer=function(_Dict){_inherits(PresetRenderer,_Dict);function PresetRenderer(view){var _this;_classCallCheck(this,PresetRenderer);_this=_possibleConstructorReturn(this,_getPrototypeOf(PresetRenderer).call(this));_this.view=view;return _this;}_createClass(PresetRenderer,[{key:"define",value:function define(name,config){var _this2=this;config=JSON.parse(JSON.stringify(config));_get(_getPrototypeOf(PresetRenderer.prototype),"define",this).call(this,name,Object.freeze({name:name,render:function render(el,_,data,context){return _this2.view.render(el,config,data,context);},config:config}));}},{key:"render",value:function render(container,name,data,context){var preset=this.get(name);if(!preset){var errorMsg='Preset `'+name+'` is not found';console.error(errorMsg,name);var el=container.appendChild(document.createElement('div'));el.style.cssText='color:#a00;border:1px dashed #a00;font-size:12px;padding:4px';el.innerText=errorMsg;return Promise.resolve();}return preset.render(container,null,data,context);}}]);return PresetRenderer;}(_dict["default"]);exports["default"]=PresetRenderer;},{"./dict.js":2}],6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.setPageHash(location.hash);discovery.cancelScheduledRender();window.addEventListener('hashchange',function(){return discovery.setPageHash(location.hash);},false);discovery.on('pageHashChange',function(replace){var newPageHash=discovery.pageHash||'#';if(newPageHash==='#'&&!location.hash){return;}if(replace){location.replace(newPageHash);}else{location.hash=newPageHash;}});}},{}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.encode=encode;exports.decode=decode;var chars=[];var b64chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.split('');var charIndex=b64chars.reduce(function(res,item,index){res[item]=index;return res;},{});for(var i=0;i<255;i++){chars[i]=String.fromCharCode(i);}function toUTF8(input){var output='';for(var _i=0;_i<input.length;_i++){var c=input.charCodeAt(_i);if(c<128){output+=chars[c];}else{if(c<2048){output+=chars[c>>6|192]+chars[c&63|128];}else{output+=chars[c>>12|224]+chars[c>>6&63|128]+chars[c&63|128];}}}return output;}function toUTF8Bytes(input){input=toUTF8(input);var output=new Array(input.length);for(var _i2=0;_i2<input.length;_i2++){output[_i2]=input.charCodeAt(_i2);}return output;}function fromUTF8(input){var output='';for(var _i3=0;_i3<input.length;){var c1=input.charCodeAt(_i3++);if(c1<128){output+=String.fromCharCode(c1);}else{var c2=input.charCodeAt(_i3++);if(c1&32){var c3=input.charCodeAt(_i3++);output+=String.fromCharCode((c1&15)<<12|(c2&63)<<6|c3&63);}else{output+=String.fromCharCode((c1&31)<<6|c2&63);}}}return output;}function fromUTF8Bytes(input){return fromUTF8(input.map(function(b){return chars[b];}).join(''));}function encode(input){var output='';if(!Array.isArray(input)){input=toUTF8Bytes(input);}for(var _i4=0;_i4<input.length;){var chr1=input[_i4++];var chr2=input[_i4++];var chr3=input[_i4++];var enc1=chr1>>2;var enc2=(chr1&3)<<4|chr2>>4;var enc3=(chr2&15)<<2|chr3>>6;var enc4=chr3&63;if(chr2==undefined){enc3=enc4=64;}else if(chr3==undefined){enc4=64;}output+=b64chars[enc1]+b64chars[enc2]+b64chars[enc3]+b64chars[enc4];}return output;}function decode(input){var output=[];var enc1;var enc2;var enc3;var enc4;input=input.replace(/[^a-zA-Z0-9\+\/]/g,'');for(var _i5=0;_i5<input.length;){enc1=charIndex[input.charAt(_i5++)];enc2=charIndex[input.charAt(_i5++)];enc3=charIndex[input.charAt(_i5++)];enc4=charIndex[input.charAt(_i5++)];var chr1=enc1<<2|enc2>>4;var chr2=(enc2&15)<<4|enc3>>2;var chr3=(enc3&3)<<6|enc4;output.push(chr1,chr2,chr3);}if(enc3==null||enc3==64){output.pop();}if(enc4==null||enc4==64){output.pop();}return fromUTF8Bytes(output);}},{}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=copyText;var _dom=require("./dom.js");var copyTextBufferEl=(0,_dom.createElement)('div',{style:['position: fixed','overflow: hidden','font-size: 1px','width: 1px','height: 1px','top: 0','left: 0','white-space: pre'].join(';')},['text']);function execCommandFallback(text){var selection=window.getSelection();var range=document.createRange();document.body.appendChild(copyTextBufferEl);copyTextBufferEl.firstChild.nodeValue=text;range.selectNodeContents(copyTextBufferEl);selection.removeAllRanges();selection.addRange(range);try{document.execCommand('copy');}catch(err){console.error(err);}selection.removeAllRanges();copyTextBufferEl.remove();}function copyText(text){if(navigator.clipboard){navigator.clipboard.writeText(text);}else{execCommandFallback(text);}}},{"./dom.js":10}],9:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=defined;function defined(values,fallback){for(var i=0;i<values.length;i++){if(typeof values[i]!=='undefined'){return values[i];}}return fallback;}},{}],10:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.createElement=createElement;exports.createText=createText;exports.createFragment=createFragment;function createElement(tag,attrs,children){var el=document.createElement(tag);if(typeof attrs==='string'){attrs={"class":attrs};}for(var attrName in attrs){if(attrName.startsWith('on')){el.addEventListener(attrName.substr(2),attrs[attrName]);}else{el.setAttribute(attrName,attrs[attrName]);}}if(Array.isArray(children)){children.forEach(function(child){return el.appendChild(child instanceof Node?child:createText(child));});}else if(typeof children==='string'){el.innerHTML=children;}return el;}function createText(text){return document.createTextNode(String(text));}function createFragment(){var fragment=document.createDocumentFragment();for(var _len=arguments.length,children=new Array(_len),_key=0;_key<_len;_key++){children[_key]=arguments[_key];}children.forEach(function(child){return fragment.appendChild(child instanceof Node?child:createText(child));});return fragment;}},{}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.escapeHtml=escapeHtml;function escapeHtml(str){return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}},{}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var base64=_interopRequireWildcard(require("./base64.js"));var _copyText=_interopRequireDefault(require("./copy-text.js"));var dom=_interopRequireWildcard(require("./dom.js"));var html=_interopRequireWildcard(require("./html.js"));var _defined=_interopRequireDefault(require("./defined.js"));var _safeFilterRx=_interopRequireDefault(require("./safe-filter-rx.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}}newObj["default"]=obj;return newObj;}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var _default=_objectSpread({base64:base64,copyText:_copyText["default"]},dom,{},html,{defined:_defined["default"],safeFilterRx:_safeFilterRx["default"]});exports["default"]=_default;},{"./base64.js":7,"./copy-text.js":8,"./defined.js":9,"./dom.js":10,"./html.js":11,"./safe-filter-rx.js":13}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=safeFilterRx;function safeFilterRx(pattern){var flags=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'i';try{return new RegExp('((?:'+pattern+')+)',flags);}catch(e){}return new RegExp('((?:'+pattern.replace(/[\(\)\?\+\*\{\}\\]/g,'\\$&')+')+)',flags);}},{}],14:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _dict=_interopRequireDefault(require("./dict.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}}var STUB_OBJECT=Object.freeze({});function createDefaultConfigErrorView(view){return{name:'config-error',render:function render(el,config){el.className='buildin-view-config-error';el.textContent=config.reason;if('config'in config){var configEl=el.appendChild(document.createElement('span'));configEl.className='show-config';configEl.textContent='show config...';configEl.addEventListener('click',function(){configEl.remove();var buffer=document.createDocumentFragment();view.render(buffer,{view:'struct',expanded:1},config.config).then(function(){el.appendChild(buffer);el.classList.add('expanded');});});}},options:STUB_OBJECT};};function renderDom(renderer,placeholder,config,data,context){var tag=renderer.options.tag;var el=tag===false||tag===null?document.createDocumentFragment():document.createElement(tag||'div');return Promise.resolve(renderer.render(el,config,data,context)).then(function(){if(el.classList){if(renderer.name){el.classList.add("view-".concat(renderer.name));}if(config.className){var classNames=config.className;if(typeof classNames==='string'){el.classList.add(classNames);}else{var _el$classList;if(!Array.isArray(classNames)){classNames=[classNames];}(_el$classList=el.classList).add.apply(_el$classList,_toConsumableArray(classNames.map(function(item){return typeof item==='function'?item(data,context):item;}).filter(Boolean)));}}}placeholder.parentNode.replaceChild(el,placeholder);});}function _render(container,config,data,context){var _this=this;if(Array.isArray(config)){return Promise.all(config.map(function(config){return _render.call(_this,container,config,data,context);}));}var renderer=null;switch(_typeof(config.view)){case'function':renderer={render:config.view,name:false,options:STUB_OBJECT};break;case'string':if(config.view==='render'){renderer={render:function render(el,_,config,context){return _this.render(el,config,data,context);},name:false,options:{tag:false}};}else if(config.view.startsWith('preset/')){var presetName=config.view.substr(7);if(this.host.preset.isDefined(presetName)){renderer={render:this.host.preset.get(presetName).render,name:false,options:{tag:false}};}else{return this.host.preset.render(container,presetName,data,context);}}else{renderer=this.get(config.view);}break;}if(!renderer){var errorMsg=typeof config.view==='string'?'View `'+config.view+'` is not found':'Render is not a function';console.error(errorMsg,config);renderer=this.get('config-error')||this.defaultConfigErrorRenderer;config={reason:errorMsg,config:config};}if(!container){container=document.createDocumentFragment();}if('when'in config===false||this.host.queryBool(config.when,data,context)){var placeholder=container.appendChild(document.createComment(''));return Promise.resolve('data'in config?this.host.query(config.data,data,context):data).then(function(data){return renderDom(renderer,placeholder,config,data,context);})["catch"](function(e){renderDom(_this.get('alert-danger'),placeholder,{},e);console.error(e);});}else{return Promise.resolve();}}var ViewRenderer=function(_Dict){_inherits(ViewRenderer,_Dict);function ViewRenderer(host){var _this2;_classCallCheck(this,ViewRenderer);_this2=_possibleConstructorReturn(this,_getPrototypeOf(ViewRenderer).call(this));_this2.host=host;_this2.defaultConfigErrorRenderer=createDefaultConfigErrorView(_assertThisInitialized(_this2));return _this2;}_createClass(ViewRenderer,[{key:"define",value:function define(name,render,options){var _this3=this;_get(_getPrototypeOf(ViewRenderer.prototype),"define",this).call(this,name,Object.freeze({name:name,render:typeof render==='function'?render.bind(this):function(el,_,data,context){return _this3.render(el,render,data,context);},options:Object.freeze(_objectSpread({},options))}));}},{key:"normalizeConfig",value:function normalizeConfig(config){var _this4=this;if(!config){return null;}if(Array.isArray(config)){return config.reduce(function(res,item){return res.concat(_this4.normalizeConfig(item)||[]);},[]);}if(typeof config==='string'){var _ref=config.match(/^(\S+?):((?:.|\s)+)$/)||[],_ref2=_slicedToArray(_ref,3),prefix=_ref2[1],query=_ref2[2];if(prefix){config={view:prefix,data:query};}else{config={view:config};}}else if(typeof config==='function'){config={view:config};}return config;}},{key:"ensureValidConfig",value:function ensureValidConfig(config){var _this5=this;if(Array.isArray(config)){return config.map(function(item){return _this5.ensureValidConfig(item);});}if(!config||!config.view){return{view:this.defaultConfigErrorRenderer.render,reason:!config?'Config is not a valid value':'Option `view` is missed',config:config};}return config;}},{key:"composeConfig",value:function composeConfig(config,extension){config=this.normalizeConfig(config);extension=this.normalizeConfig(extension);if(config&&extension){return Array.isArray(config)?config.map(function(item){return _objectSpread({},item,{},extension);}):_objectSpread({},config,{},extension);}return config||extension;}},{key:"render",value:function render(container,config,data,context){return _render.call(this,container,this.ensureValidConfig(this.normalizeConfig(config)),data,context);}},{key:"listLimit",value:function listLimit(value,defaultValue){if(value===false){return false;}if(!value||isNaN(value)){return defaultValue;}return Math.max(parseInt(value,10),0)||defaultValue;}},{key:"renderList",value:function renderList(container,itemConfig,data,context){var _this6=this;var offset=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var limit=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var moreContainer=arguments.length>6?arguments[6]:undefined;if(limit===false){limit=data.length;}var result=Promise.all(data.slice(offset,offset+limit).map(function(value,sliceIndex,slice){return _this6.render(container,itemConfig,value,_objectSpread({},context,{index:offset+sliceIndex,array:data,sliceIndex:sliceIndex,slice:slice}));}));this.maybeMoreButtons(moreContainer||container,null,data.length,offset+limit,limit,function(offset,limit){return _this6.renderList(container,itemConfig,data,context,offset,limit,moreContainer);});return result;}},{key:"maybeMoreButtons",value:function maybeMoreButtons(container,beforeEl,count,offset,limit,renderMore){var restCount=count-offset;var buttons=restCount<=0?null:document.createElement('span');if(restCount>limit){this.renderMoreButton(buttons,'Show '+limit+' more...',function(){return renderMore(offset,limit);});}if(restCount>0){this.renderMoreButton(buttons,'Show all the rest '+restCount+' items...',function(){return renderMore(offset,Infinity);});}if(buttons!==null){buttons.className='more-buttons';container.insertBefore(buttons,beforeEl);}return buttons;}},{key:"renderMoreButton",value:function renderMoreButton(container,caption,fn){var moreButton=document.createElement('button');moreButton.className='more-button';moreButton.addEventListener('click',function(){container.remove();fn();});moreButton.innerHTML=caption;container.appendChild(moreButton);}}]);return ViewRenderer;}(_dict["default"]);exports["default"]=ViewRenderer;},{"./dict.js":2}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Widget",{enumerable:true,get:function get(){return _index["default"];}});Object.defineProperty(exports,"App",{enumerable:true,get:function get(){return _index2["default"];}});Object.defineProperty(exports,"router",{enumerable:true,get:function get(){return _router["default"];}});Object.defineProperty(exports,"utils",{enumerable:true,get:function get(){return _index5["default"];}});exports.pages=exports.complexViews=exports.views=void 0;var _index=_interopRequireDefault(require("./widget/index.js"));var _index2=_interopRequireDefault(require("./app/index.js"));var views=_interopRequireWildcard(require("./views/index.js"));exports.views=views;var complexViews=_interopRequireWildcard(require("./views/index-complex.js"));exports.complexViews=complexViews;var pages=_interopRequireWildcard(require("./pages/index.js"));exports.pages=pages;var _router=_interopRequireDefault(require("./core/router.js"));var _index5=_interopRequireDefault(require("./core/utils/index.js"));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}}newObj["default"]=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}},{"./app/index.js":1,"./core/router.js":6,"./core/utils/index.js":12,"./pages/index.js":17,"./views/index-complex.js":37,"./views/index.js":38,"./widget/index.js":63}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.page.define('default',{view:'switch',content:[{when:'#.modelfree',content:[{view:'h1',className:'modelfree',content:['text:"Discovery "','badge:{ text: "model free mode" }']},'html:"<p>Running in <b>model free mode</b>, because no config or no models is set up. Please, read <a href=\\"https://github.com/discoveryjs/discovery/blob/master/README.md\\" href=\\"_blank\\">documention</a> to learn how to set up models."','html:"<p>In this mode you can load a data (JSON), via a button in top right corner or via dropping a file on the page.</p>"']},{content:['h1:#.name',{view:'struct',expanded:1}]}]});}},{}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"default",{enumerable:true,get:function get(){return _default["default"];}});Object.defineProperty(exports,"notFound",{enumerable:true,get:function get(){return _notFound["default"];}});Object.defineProperty(exports,"report",{enumerable:true,get:function get(){return _report["default"];}});var _default=_interopRequireDefault(require("./default.js"));var _notFound=_interopRequireDefault(require("./not-found.js"));var _report=_interopRequireDefault(require("./report.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}},{"./default.js":16,"./not-found.js":18,"./report.js":19}],18:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.page.define('not-found',['alert-warning:"Page \`" + name + "\` not found"']);}},{}],19:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;var base64=_interopRequireWildcard(require("../core/utils/base64.js"));var _dom=require("../core/utils/dom.js");var _html=require("../core/utils/html.js");var _copyText=_interopRequireDefault(require("../core/utils/copy-text.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}}newObj["default"]=obj;return newObj;}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}var defaultViewSource='{\n    view: \'struct\',\n    expanded: 1\n}';var defaultViewPresets=[{name:'Table',content:toFormattedViewSource({view:'table'})},{name:'Auto-link list',content:toFormattedViewSource({view:'ol',item:'auto-link'})},{name:'Signature',content:toFormattedViewSource({view:'signature',expanded:2})}];function toFormattedViewSource(value){return JSON.stringify(value,null,4).replace(/"((?:\\.|[^"])*)"(:?)/g,function(_,content,colon){return colon&&/^[a-z$_][a-z$_\d]*$/i.test(content)?content+colon:"'".concat(content.replace(/\\"/g,'"').replace(/'/g,'\\\''),"'")+colon;});}function valueDescriptor(value){if(Array.isArray(value)){return"Array (".concat(value.length?"".concat(value.length," ").concat(value.length>1?'elements':'element'):'empty',")");}if(value&&_typeof(value)==='object'){var keys=Object.keys(value);return"Object (".concat(keys.length?"".concat(keys.length," ").concat(keys.length>1?'keys':'key'):'empty',")");}return"Scalar (".concat(value==='null'?'null':_typeof(value),")");}function encodeSearchParamPair(name,value){return encodeURIComponent(name)+'='+encodeURIComponent(value);}function ensureString(value,fallback){return typeof value==='string'?value:fallback||'';}function encodeParams(params){var specialParams=['query','view','title','dzen','noedit'];var _ref=typeof params==='string'?{query:params}:params,query=_ref.query,view=_ref.view,title=_ref.title,dzen=_ref.dzen,noedit=_ref.noedit,extra=_ref.extra;var parts=[];if(dzen){parts.push('dzen');}if(noedit){parts.push('noedit');}if(title){parts.push(encodeSearchParamPair('title',title));}if(query){parts.push(encodeSearchParamPair('q',base64.encode(query)));}if(typeof view==='string'){parts.push(view?encodeSearchParamPair('v',base64.encode(view)):'v');}Object.keys(extra||{}).sort().forEach(function(name){if(!specialParams.includes(name)){parts.push(encodeSearchParamPair(name,extra[name]));}});return parts.join('&');}function decodeParams(params){var specialParams=['q','v','title','dzen','noedit'];var decodedParams={title:params.title||'',query:base64.decode(ensureString(params.q,'')),view:'v'in params?base64.decode(ensureString(params.v,'')):undefined,dzen:'dzen'in params,noedit:'noedit'in params};Object.keys(params).forEach(function(name){if(!specialParams.includes(name)){decodedParams[name]=params[name];}});return decodedParams;}function exportReportAsJson(pageParams){var quote=function quote(s){return s.replace(/\\/g,'\\\\').replace(/\t/g,'\\t').replace(/\r/g,'\\r').replace(/\n/g,'\\n').replace(/'/g,'\\\'');};var title=pageParams.title,query=pageParams.query,view=pageParams.view;var res={title:title,query:query,view:view};return"{\n".concat(Object.keys(res).reduce(function(props,k){return props.concat(res[k]?"    ".concat(k,": '").concat(quote(res[k]),"'"):[]);},[]).join(',\n'),"\n}");}function _default(discovery){var expandQueryResults=false;var lastQuery={};var lastView={};var viewPresets=Array.isArray(discovery.options.viewPresets)?defaultViewPresets.concat(discovery.options.viewPresets):defaultViewPresets;function updateParams(delta,replace){return discovery.setPageParams(_objectSpread({},discovery.pageParams,{},delta),replace);}function createPresetTab(name,content){return(0,_dom.createElement)('div',{"class":'tab',onclick:function onclick(){return updateParams({view:content});}},name||'Untitled preset');}var titleInputEl;var dataDateTimeEl;var viewDateTimeEl;var noeditToggleEl;var shareOptionsPopup=new discovery.view.Popup({render:function render(popupEl,_,hide){return discovery.view.render(popupEl,{view:'menu',data:[{text:'Copy link to report',action:function action(){return(0,_copyText["default"])(location);}},{text:'Copy report as JSON',action:function action(){return(0,_copyText["default"])(exportReportAsJson(discovery.pageParams));}}],onClick:function onClick(item){hide();item.action();}});}});var headerEl=(0,_dom.createElement)('div','report-header',[(0,_dom.createElement)('div',{"class":'report-header-text','data-title':'\xA0'},[titleInputEl=(0,_dom.createElement)('input',{placeholder:'Untitled report',oninput:function oninput(e){return updateParams({title:e.target.value},true);},onkeypress:function onkeypress(e){if(event.charCode===13||event.keyCode===13){e.target.blur();}}}),(0,_dom.createElement)('span','timestamp',[dataDateTimeEl=(0,_dom.createElement)('span',null,'&nbsp;'),viewDateTimeEl=(0,_dom.createElement)('span')])]),(0,_dom.createElement)('div','data-query-view-options',[noeditToggleEl=(0,_dom.createElement)('button',{"class":'edit-mode',title:'Toggle edit mode',onclick:function onclick(e){e.target.blur();updateParams({noedit:!discovery.pageParams.noedit});}}),(0,_dom.createElement)('button',{"class":'share',title:'Share ...',onclick:function onclick(_ref2){var target=_ref2.target;target.blur();shareOptionsPopup.show(target);}}),(0,_dom.createElement)('button',{"class":'toggle-fullscreen',title:'Toggle fullscreen mode',onclick:function onclick(e){e.target.blur();updateParams({dzen:!discovery.pageParams.dzen});}})])]);var queryEditorLiveEditEl;var getQuerySuggestions=function getQuerySuggestions(query,offset){return discovery.querySuggestions(query,offset,discovery.data,discovery.context);};var queryEditor=new discovery.view.QueryEditor(getQuerySuggestions).on('change',function(value){return queryEditorLiveEditEl.checked&&updateParams({query:value},true);});var queryEngineInfo=discovery.getQueryEngineInfo();var queryEditorButtonsEl=(0,_dom.createElement)('div','buttons');var queryEditorFormEl=(0,_dom.createElement)('div','query-editor-form',[(0,_dom.createElement)('div','query-editor',[queryEditor.el,(0,_dom.createElement)('div','editor-toolbar',[(0,_dom.createElement)('span','syntax-hint',"Use <a class=\"view-link\" href=\"".concat(queryEngineInfo.link,"\" target=\"_blank\">").concat(queryEngineInfo.name,"</a> ").concat(queryEngineInfo.version||''," syntax for queries")),(0,_dom.createElement)('label',null,[queryEditorLiveEditEl=(0,_dom.createElement)('input',{"class":'live-update',type:'checkbox',checked:true,onchange:function onchange(e){if(e.target.checked){updateParams({query:queryEditor.getValue()},true);}}}),' process on input']),queryEditorButtonsEl])])]);discovery.view.render(queryEditorButtonsEl,{view:'button-primary',content:'text:"Process"',onClick:function onClick(){lastQuery={};updateParams({query:queryEditor.getValue()},true);discovery.scheduleRender('page');}});var queryEditorResultEl=(0,_dom.createElement)('div','data-query-result');var viewSetupEl;var availableViewListEl;var viewModeTabsEls;var viewLiveEditEl;var viewEditor=new discovery.view.ViewEditor(discovery).on('change',function(value){return viewLiveEditEl.checked&&updateParams({view:value},true);});var viewEditorButtonsEl=(0,_dom.createElement)('div','buttons');var viewEditorFormEl=(0,_dom.createElement)('div','view-editor-form',[(0,_dom.createElement)('div','tabs view-mode',viewModeTabsEls=['Default','Custom'].map(function(viewMode){return(0,_dom.createElement)('div',{"class":'tab','data-mode':viewMode.toLowerCase(),onclick:function onclick(){return updateParams({view:viewMode==='Default'?undefined:defaultViewSource},true);}},viewMode);})),(0,_dom.createElement)('div','tabs presets',viewPresets.map(function(_ref3){var name=_ref3.name,content=_ref3.content;return createPresetTab(name,content);})),viewSetupEl=(0,_dom.createElement)('div',{"class":'view-editor',hidden:true},[(0,_dom.createElement)('button',{"class":'view-button formatting',title:'Prettify (input should be a JSON)',onclick:function onclick(){viewEditor.focus();try{var currentText=viewEditor.getValue().trim();var json=new Function('return 0,'+currentText)();updateParams({view:toFormattedViewSource(json)});}catch(e){console.error('[Discovery] Prettify failed',e);}}}),viewEditor.el,(0,_dom.createElement)('div','editor-toolbar',[(0,_dom.createElement)('div','editor-toolbar-view-dict',[(0,_dom.createText)('Available views: '),availableViewListEl=(0,_dom.createElement)('span','editor-toolbar-view-list')]),(0,_dom.createElement)('label',null,[viewLiveEditEl=(0,_dom.createElement)('input',{"class":'live-update',type:'checkbox',checked:true,onchange:function onchange(e){if(e.target.checked){updateParams({view:viewEditor.getValue()},true);}}}),' build on input']),viewEditorButtonsEl])])]);discovery.view.render(viewEditorButtonsEl,{view:'button-primary',content:'text:"Build"',onClick:function onClick(){lastView={};updateParams({view:viewEditor.getValue()},true);discovery.scheduleRender('page');}});var updateAvailableViewList=function updateAvailableViewList(){return availableViewListEl.innerHTML=discovery.view.names.map(function(name){return"<span class=\"view\">".concat(name,"</span>");}).join(', ');};updateAvailableViewList();discovery.view.on('define',updateAvailableViewList);var reportEditFormEl=(0,_dom.createElement)('div',{"class":'report-editor',hidden:true},[queryEditorFormEl,queryEditorResultEl,viewEditorFormEl]);var reportContentEl=(0,_dom.createElement)('div','report-content');discovery.page.define('report',function(el,data,context){var viewMode=typeof context.params.view==='string'?'custom':'default';var pageTitle=context.params.title;var pageQuery=context.params.query;var pageView=context.params.view;var queryTime;var view=null;var results=null;reportEditFormEl.hidden=context.params.noedit;noeditToggleEl.classList.toggle('disabled',context.params.noedit);titleInputEl.parentNode.dataset.title=pageTitle||titleInputEl.placeholder;titleInputEl.value=pageTitle;dataDateTimeEl.innerText=context.createdAt&&typeof context.createdAt.toLocaleString==='function'?'Data collected at '+context.createdAt.toLocaleString().replace(',','')+' | ':'';queryEditor.setValue(pageQuery);viewEditor.setValue(pageView);if(lastQuery.data===data&&lastQuery.query===pageQuery&&lastQuery.context===context){results=lastQuery.results;}else{try{queryTime=Date.now();results=discovery.query(pageQuery,data,context);queryTime=Date.now()-queryTime;viewEditorFormEl.hidden=false;reportContentEl.hidden=false;}catch(e){lastQuery={};queryEditorResultEl.innerHTML='<div class="error">'+(0,_html.escapeHtml)(e.message)+'</div>';viewEditorFormEl.hidden=true;reportContentEl.hidden=true;return;}queryEditorResultEl.innerHTML='';lastQuery={data:data,query:pageQuery,context:context,results:results};discovery.view.render(queryEditorResultEl,{view:'expand',title:"text:\"".concat(valueDescriptor(results)," in ").concat(parseInt(queryTime,10),"ms\""),expanded:expandQueryResults,onToggle:function onToggle(state){return expandQueryResults=state;},content:{view:'struct',expanded:1}},results);}viewSetupEl.hidden=viewMode!=='custom';viewModeTabsEls.forEach(function(el){return el.classList.toggle('active',el.dataset.mode===viewMode);});if(!pageView&&viewMode==='default'){pageView=defaultViewSource;}if(lastView.data!==results||lastView.view!==pageView){reportContentEl.innerHTML='';try{view=Function('return '+(pageView?'0,'+pageView:'null'))();discovery.view.render(reportContentEl,view,results,context);}catch(e){discovery.view.render(reportContentEl,function(el){el.className='view-build-error';el.innerHTML=(0,_html.escapeHtml)(String(e))+'<br>(see details in console)';console.error(e);});}viewDateTimeEl.innerText='View built at '+new Date().toLocaleString().replace(',','');lastView={data:results,view:pageView};}},{reuseEl:true,init:function init(el){[headerEl,reportEditFormEl,reportContentEl].forEach(function(child){el.appendChild(child);});},encodeParams:encodeParams,decodeParams:decodeParams});}},{"../core/utils/base64.js":7,"../core/utils/copy-text.js":8,"../core/utils/dom.js":10,"../core/utils/html.js":11}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){function render(el,config,data,context){var content=config.content;discovery.view.render(el,content||'text',data,context);}discovery.view.define('alert',render);discovery.view.define('alert-success',render);discovery.view.define('alert-danger',render);discovery.view.define('alert-warning',render);}},{}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _default(discovery){discovery.view.define('auto-link',function(el,config,data,context){var content=config.content,fallback=config.fallback,href=config.href;if(!data){return;}var links=discovery.resolveValueLinks(data);var preprocessHref=typeof href==='function'?href:function(value){return value;};var processedHref=links?preprocessHref(links[0].href,data,context):null;if(processedHref){discovery.view.render(el,{view:'link',content:content},_objectSpread({},links[0],{href:processedHref}),context);}else{discovery.view.render(el,fallback||content||'text',data,context);}},{tag:false});}},{}],22:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function maybeFix(el,type,value){if(!value){return;}var prefixEl=el.appendChild(document.createElement('span'));prefixEl.className=type;prefixEl.innerText=value;}function _default(discovery){function render(el,config,data,context){var content=config.content;var _ref=data||{},color=_ref.color,text=_ref.text,href=_ref.href,prefix=_ref.prefix,postfix=_ref.postfix;if(typeof data==='string'){text=data;}el.style.backgroundColor=color;if(href){el.href=href;}maybeFix(el,'prefix',prefix);if(content){discovery.view.render(el,content,data,context);}else{el.appendChild(document.createTextNode(String(text)));}maybeFix(el,'postfix',postfix);}discovery.view.define('badge',render,{tag:'a'});discovery.view.define('pill-badge',render,{tag:'a'});}},{}],23:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('block',function(el,config,data,context){var content=config.content;discovery.view.render(el,content,data,context);});}},{}],24:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){function render(el,config,data,context){var content=config.content,_config$disabled=config.disabled,disabled=_config$disabled===void 0?false:_config$disabled,onClick=config.onClick;var _ref=data||{},_ref$text=_ref.text,text=_ref$text===void 0?'':_ref$text;el.classList.add('view-button');el.disabled=discovery.query(disabled,data,context);el.addEventListener('click',function(){if(typeof onClick==='function'){onClick(el,data,context);}});if(content){discovery.view.render(el,content,data,context);}else{el.innerText=text;}}discovery.view.define('button',render,{tag:'button'});discovery.view.define('button-primary',render,{tag:'button'});discovery.view.define('button-danger',render,{tag:'button'});discovery.view.define('button-warning',render,{tag:'button'});}},{}],25:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;var _highcharts=_interopRequireDefault(require("/gen/highcharts.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _default(discovery){discovery.view.define('chart',function(el,config,data,context){var options=config.options;var label='<b>{point.y}</b> ({point.percentage:.1f}%)';if(!Array.isArray(data)){data=data?[data]:[];}if(data[0]&&!data[0].data){data=[{data:data}];}try{_highcharts["default"].chart(el,_highcharts["default"].merge({chart:{type:'pie',height:'60%'},title:{text:undefined},credits:{enabled:false},tooltip:{pointFormat:label},plotOptions:{pie:{cursor:'pointer',dataLabels:{format:'{point.name} – '+label,useHTMsL:true}}},series:data},options));}catch(e){discovery.view.render(el,{view:'fallback',reason:e.message},data,context);}});}},{"/gen/highcharts.js":65}],26:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;var _defined=_interopRequireDefault(require("../core/utils/defined.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _default(discovery){discovery.view.define('checkbox',function(el,config,data,context){var name=config.name,checked=config.checked,readonly=config.readonly,content=config.content,onInit=config.onInit,onChange=config.onChange;var inputEl=el.appendChild(document.createElement('input'));var renderContent=null;inputEl.type='checkbox';inputEl.checked=(0,_defined["default"])([checked!==undefined?discovery.queryBool(checked,data,context):undefined,context[name]],false);inputEl.readOnly=readonly;inputEl.addEventListener('click',function(e){if(readonly){e.preventDefault();}});inputEl.addEventListener('change',function(){if(typeof onChange==='function'){onChange(inputEl.checked,name);if(renderContent!==null){renderContent();}}});if(typeof onInit==='function'){onInit(inputEl.checked,name);}if(content){var contentEl=el.appendChild(document.createElement('span'));renderContent=function renderContent(){var localContext=name?_objectSpread({},context,_defineProperty({},name,inputEl.checked)):context;contentEl.innerHTML='';discovery.view.render(contentEl,content,data,localContext);};renderContent();}},{tag:'label'});}},{"../core/utils/defined.js":9}],27:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){function render(el,config,data,context){var _config$column=config.column,column=_config$column===void 0?'text':_config$column,columnConfig=config.columnConfig,emptyText=config.emptyText,limit=config.limit;if(emptyText!==false&&emptyText!==''){el.setAttribute('emptyText',emptyText||'Empty');}if(!Array.isArray(data)&&data){data=[data];}if(Array.isArray(data)){discovery.view.renderList(el,this.composeConfig({view:'column',content:column},columnConfig),data,context,0,discovery.view.listLimit(limit,25));}}discovery.view.define('columns',render);discovery.view.define('column',function(el,config,data,context){discovery.view.render(el,config.content,data,context);});}},{}],28:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('content-filter',function(el,config,data,context){var _config$name=config.name,name=_config$name===void 0?'filter':_config$name,_config$type=config.type,type=_config$type===void 0?'regexp':_config$type,placeholder=config.placeholder,content=config.content;discovery.view.render(el,{view:'context',modifiers:{view:'input',name:name,type:type,placeholder:placeholder||'Filter'},content:{view:'block',className:'content',content:content}},data,context);});}},{}],29:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _default(discovery){discovery.view.define('context',function(el,config,data,context){var _this=this;function renderContent(){var container=contentStartMarker.parentNode;var cursor=contentEndMarker.previousSibling;while(cursor&&cursor!==contentStartMarker){cursor=cursor.previousSibling;container.removeChild(cursor.nextSibling);}var buffer=document.createDocumentFragment();discovery.view.render(buffer,content,data,localContext).then(function(){return contentEndMarker.parentNode.insertBefore(buffer,contentEndMarker);});}function updateContext(value,name){if(name){localContext[name]=value;if(inited){renderContent();}}}var localContext=_objectSpread({},context);var contentStartMarker=null;var contentEndMarker=null;var inited=false;var _config$modifiers=config.modifiers,modifiers=_config$modifiers===void 0?[]:_config$modifiers;var content=config.content;if(!Array.isArray(modifiers)){modifiers=[modifiers];}var awaitRender=discovery.view.render(el,modifiers.map(function(item){return _this.composeConfig(item,{onInit:updateContext,onChange:updateContext});}),data,context);contentStartMarker=el.appendChild(document.createComment('context view content start'));contentEndMarker=el.appendChild(document.createComment('context view content end'));awaitRender.then(function(){inited=true;renderContent();});},{tag:false});}},{}],30:[function(require,module,exports){"use strict";var _codemirror=_interopRequireDefault(require("/gen/codemirror.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var HINT_ELEMENT_CLASS='CodeMirror-hint';var ACTIVE_HINT_ELEMENT_CLASS='active';var requestAnimationFrame=window.requestAnimationFrame||function(fn){return setTimeout(fn,1000/60);};var cancelAnimationFrame=window.cancelAnimationFrame||clearTimeout;_codemirror["default"].defineExtension('showHint',function(options){options=_objectSpread({closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:true,container:null},this.options.hintOptions,{},options);var selections=this.listSelections();if(selections.length>1){return;}if(this.somethingSelected()){return;}if(this.state.completionActive){this.state.completionActive.close();}if(!options.hint){return;}this.state.completionActive=new Completion(this,options);this.state.completionActive.update(true);_codemirror["default"].signal(this,'startCompletion',this);});var Completion=function(){function Completion(cm,options){var _this=this;_classCallCheck(this,Completion);this.cm=cm;this.options=options;this.widget=null;this.debounce=0;this.tick=0;this.startPos=this.cm.getCursor('start');this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;cm.on('cursorActivity',this.activityFunc=function(){return _this.cursorActivity();});}_createClass(Completion,[{key:"close",value:function close(){if(!this.active()){return;}this.cm.state.completionActive=null;this.tick=null;this.cm.off('cursorActivity',this.activityFunc);if(this.widget){if(this.data){_codemirror["default"].signal(this.data,'close');}this.widget.close();}_codemirror["default"].signal(this.cm,'endCompletion',this.cm);}},{key:"active",value:function active(){return this.cm.state.completionActive===this;}},{key:"pick",value:function pick(data,idx){var completion=data.list[idx];if(completion.hint){completion.hint(this.cm,data,completion);}else{this.cm.replaceRange(getText(completion),completion.from||data.from,completion.to||data.to,'complete');}_codemirror["default"].signal(data,'pick',completion);this.close();}},{key:"cursorActivity",value:function cursorActivity(){var _this2=this;if(this.debounce){cancelAnimationFrame(this.debounce);this.debounce=0;}var pos=this.cm.getCursor();var line=this.cm.getLine(pos.line);if(pos.line!=this.startPos.line||line.length-pos.ch!=this.startLen-this.startPos.ch||pos.ch<this.startPos.ch||this.cm.somethingSelected()||!pos.ch||this.options.closeCharacters.test(line.charAt(pos.ch-1))){this.close();}else{this.debounce=requestAnimationFrame(function(){return _this2.update();});if(this.widget){this.widget.disable();}}}},{key:"update",value:function update(first){var _this3=this;if(this.tick==null){return;}var myTick=++this.tick;Promise.resolve(this.options.hint(this.cm,this.options)).then(function(data){if(_this3.tick==myTick){_this3.finishUpdate(data,first);}});}},{key:"finishUpdate",value:function finishUpdate(data){if(this.data){_codemirror["default"].signal(this.data,'update');}var picked=this.widget&&this.widget.picked;if(this.widget){this.widget.close();}this.data=data;if(data&&data.list.length){if(picked&&data.list.length==1){this.pick(data,0);}else{this.widget=new Widget(this,data);_codemirror["default"].signal(data,'shown');}}}}]);return Completion;}();;function getText(completion){if(typeof completion=='string'){return completion;}return completion.text;}function getHintElement(hintsElement,el){while(el&&el.parentNode!==hintsElement){el=el.parentNode;}return el;}var Widget=function(){function Widget(completion,data){var _this4=this;_classCallCheck(this,Widget);var cm=completion.cm;var hintsEl=this.hintsEl=document.createElement('ul');this.completion=completion;this.data=data;this.picked=false;this.selectedHint=data.selectedHint||0;hintsEl.className='CodeMirror-hints '+completion.cm.options.theme;(completion.options.container||document.body).appendChild(hintsEl);this.items=data.list.map(function(cur,idx){var el=hintsEl.appendChild(document.createElement('li'));el.className=HINT_ELEMENT_CLASS;if(idx===_this4.selectedHint){el.classList.add(ACTIVE_HINT_ELEMENT_CLASS);}if(cur.render){cur.render(el,data,cur);}else{el.appendChild(document.createTextNode(cur.displayText||getText(cur)));}return el;});cm.addKeyMap(this.keyMap={Up:function Up(){return _this4.changeActive(_this4.selectedHint-1);},Down:function Down(){return _this4.changeActive(_this4.selectedHint+1);},Enter:function Enter(){return _this4.pick();},Tab:function Tab(){return _this4.pick();},Esc:function Esc(){return completion.close();}});if(completion.options.closeOnUnfocus){var closingOnBlur;cm.on('blur',this.onBlur=function(){closingOnBlur=setTimeout(function(){return completion.close();},100);});cm.on('focus',this.onFocus=function(){return clearTimeout(closingOnBlur);});}this.updatePosSize();document.addEventListener('scroll',this.onScroll=function(){return _this4.updatePosSize();},true);_codemirror["default"].on(hintsEl,'mousedown',function(){return setTimeout(function(){return cm.focus();},20);});_codemirror["default"].on(hintsEl,'click',function(e){var el=getHintElement(hintsEl,e.target);var idx=_this4.items.indexOf(el);if(idx!==-1){_this4.changeActive(idx);_this4.pick();}});_codemirror["default"].signal(data,'select',data.list[this.selectedHint],this.items[this.selectedHint]);return true;}_createClass(Widget,[{key:"close",value:function close(){if(this.completion.widget!==this){return;}this.completion.widget=null;this.completion.cm.removeKeyMap(this.keyMap);this.hintsEl.remove();var cm=this.completion.cm;if(this.completion.options.closeOnUnfocus){cm.off('blur',this.onBlur);cm.off('focus',this.onFocus);}document.removeEventListener('scroll',this.onScroll,true);}},{key:"disable",value:function disable(){var _this5=this;this.completion.cm.removeKeyMap(this.keyMap);this.keyMap={Enter:function Enter(){return _this5.picked=true;}};this.completion.cm.addKeyMap(this.keyMap);}},{key:"pick",value:function pick(){this.completion.pick(this.data,this.selectedHint);}},{key:"changeActive",value:function changeActive(idx,avoidWrap){if(idx>=this.items.length){idx=avoidWrap?this.items.length-1:0;}else if(idx<0){idx=avoidWrap?0:this.items.length-1;}var prev=this.items[this.selectedHint];var next=this.items[this.selectedHint=idx];if(next===prev){return;}if(prev){prev.classList.remove(ACTIVE_HINT_ELEMENT_CLASS);}next.classList.add(ACTIVE_HINT_ELEMENT_CLASS);if(next.offsetTop<this.hintsEl.scrollTop){this.hintsEl.scrollTop=next.offsetTop-3;}else if(next.offsetTop+next.offsetHeight>this.hintsEl.scrollTop+this.hintsEl.clientHeight){this.hintsEl.scrollTop=next.offsetTop+next.offsetHeight-this.hintsEl.clientHeight+3;}_codemirror["default"].signal(this.data,'select',this.data.list[this.selectedHint],next);}},{key:"updatePosSize",value:function updatePosSize(){var completion=this.completion,hintsEl=this.hintsEl,data=this.data;var cm=completion.cm;var pos=cm.cursorCoords();var left=pos.left;var top=pos.bottom;hintsEl.style.left=left+'px';hintsEl.style.top=top+'px';var winW=window.innerWidth;var winH=window.innerHeight;var box=hintsEl.getBoundingClientRect();var overlapY=box.bottom-winH;if(overlapY>0){var height=box.bottom-box.top;var curTop=pos.top-(pos.bottom-box.top);if(curTop-height>0){hintsEl.style.top=(top=pos.top-height)+'px';}else if(height>winH){hintsEl.style.height=winH-5+'px';hintsEl.style.top=(top=pos.bottom-box.top)+'px';var cursor=cm.getCursor();if(data.from.ch!=cursor.ch){pos=cm.cursorCoords(cursor);hintsEl.style.left=(left=pos.left)+'px';box=hintsEl.getBoundingClientRect();}}}var overlapX=box.right-winW;if(overlapX>0){if(box.right-box.left>winW){hintsEl.style.width=winW-5+'px';overlapX-=box.right-box.left-winW;}hintsEl.style.left=(left=pos.left-overlapX)+'px';}}}]);return Widget;}();;_codemirror["default"].commands.autocomplete=_codemirror["default"].showHint;_codemirror["default"].defineOption('hintOptions',null);},{"/gen/codemirror.js":64}],31:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;var _dom=require("../core/utils/dom.js");var _html=require("../core/utils/html.js");var _emitter=_interopRequireDefault(require("../core/emitter.js"));var _codemirror=_interopRequireDefault(require("/gen/codemirror.js"));require("./editors-hint.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function renderQueryAutocompleteItem(el,self,_ref){var _ref$entry=_ref.entry,value=_ref$entry.value,current=_ref$entry.current,type=_ref$entry.type;var startChar=current[0];var lastChar=current[current.length-1];var start=startChar==='"'||startChar==="'"?1:0;var end=lastChar==='"'||lastChar==="'"?1:0;var pattern=current.toLowerCase().substring(start,current.length-end);var offset=pattern?value.toLowerCase().indexOf(pattern,value[0]==='"'||value[0]==="'"?1:0):-1;if(offset!==-1){value=(0,_html.escapeHtml)(value.substring(0,offset))+'<span class="match">'+(0,_html.escapeHtml)(value.substr(offset,pattern.length))+'</span>'+(0,_html.escapeHtml)(value.substr(offset+pattern.length));}el.appendChild((0,_dom.createElement)('span','name',value));el.appendChild((0,_dom.createElement)('span','type',type));}var Editor=function(_Emitter){_inherits(Editor,_Emitter);function Editor(autocomplete){var _this;_classCallCheck(this,Editor);_this=_possibleConstructorReturn(this,_getPrototypeOf(Editor).call(this));_this.el=document.createElement('div');_this.el.className='discovery-editor';var cm=(0,_codemirror["default"])(_this.el,{extraKeys:{'Alt-Space':'autocomplete'},mode:'javascript',theme:'neo',indentUnit:0,hintOptions:autocomplete&&{hint:autocomplete,completeSingle:false,closeOnUnfocus:true}});cm.on('change',function(){return _this.emit('change',cm.getValue());});if(autocomplete){cm.on('cursorActivity',function(cm){return cm.state.focused&&cm.showHint(autocomplete);});cm.on('focus',function(cm){return!cm.state.completionActive&&cm.showHint(autocomplete);});}_this.cm=cm;return _this;}_createClass(Editor,[{key:"getValue",value:function getValue(){return this.cm.getValue();}},{key:"setValue",value:function setValue(value){var _this2=this;Promise.resolve().then(function(){return _this2.cm.refresh();});if(typeof value==='string'&&this.getValue()!==value){this.cm.setValue(value||'');}}},{key:"focus",value:function focus(){this.cm.focus();}}]);return Editor;}(_emitter["default"]);var QueryEditor=function(_Editor){_inherits(QueryEditor,_Editor);function QueryEditor(getSuggestions){_classCallCheck(this,QueryEditor);return _possibleConstructorReturn(this,_getPrototypeOf(QueryEditor).call(this,function(cm){var cursor=cm.getCursor();var suggestions=getSuggestions(cm.getValue(),cm.doc.indexFromPos(cursor));if(!suggestions){return;}return{list:suggestions.slice(0,50).map(function(entry){return{entry:entry,text:entry.value,render:renderQueryAutocompleteItem,from:cm.posFromIndex(entry.from),to:cm.posFromIndex(entry.to)};})};}));}return QueryEditor;}(Editor);var ViewEditor=function(_Editor2){_inherits(ViewEditor,_Editor2);function ViewEditor(){_classCallCheck(this,ViewEditor);return _possibleConstructorReturn(this,_getPrototypeOf(ViewEditor).call(this));}return ViewEditor;}(Editor);function _default(discovery){Object.assign(discovery.view,{QueryEditor:QueryEditor,ViewEditor:ViewEditor});}},{"../core/emitter.js":3,"../core/utils/dom.js":10,"../core/utils/html.js":11,"./editors-hint.js":30,"/gen/codemirror.js":64}],32:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('expand',function(el,config,data,context){function renderState(){if(contentEl){contentEl.remove();contentEl=null;}if(expanded){el.classList.add('expanded');contentEl=document.createElement('div');discovery.view.render(contentEl,content,data,context);el.appendChild(contentEl);}else{el.classList.remove('expanded');}}var expanded=config.expanded,title=config.title,content=config.content,onToggle=config.onToggle;var headerEl=el.appendChild(document.createElement('div'));var titleEl=headerEl.appendChild(document.createElement('div'));var triggerEl=headerEl.appendChild(document.createElement('div'));var contentEl=null;expanded=discovery.queryBool(expanded,data,context);headerEl.className='header';triggerEl.className='trigger';headerEl.addEventListener('click',function(){expanded=!expanded;renderState();if(typeof onToggle==='function'){onToggle(expanded);}});discovery.view.render(titleEl,title||{view:'text',data:'"No title"'},data,context);renderState();});}},{}],33:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){function render(el,config,data,context){var content=config.content;discovery.view.render(el,content||'text',data,context);}discovery.view.define('header',render,{tag:'h2'});discovery.view.define('h1',render,{tag:'h1'});discovery.view.define('h2',render,{tag:'h2'});discovery.view.define('h3',render,{tag:'h3'});discovery.view.define('h4',render,{tag:'h4'});discovery.view.define('h5',render,{tag:'h5'});}},{}],34:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('hstack',function(el,config,data,context){var content=config.content;discovery.view.render(el,content,data,context);});}},{}],35:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){var buffer=document.createElement('div');discovery.view.define('html',function(el,config,data){buffer.innerHTML=data;while(buffer.firstChild){el.appendChild(buffer.firstChild);}},{tag:null});}},{}],36:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;var base64=_interopRequireWildcard(require("../core/utils/base64.js"));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}}newObj["default"]=obj;return newObj;}}function _default(discovery){discovery.view.define('image-preview',function(el,config,data){var _ref=data||{},content=_ref.content,binary=_ref.binary,mime=_ref.mime;el.hidden=true;if(/^image\//i.test(mime)){el.hidden=false;if(!binary){content=base64.encode(content);}el.innerHTML="<img src=\"data:".concat(mime,";base64,").concat(content,"\">");}});}},{"../core/utils/base64.js":7}],37:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"chart",{enumerable:true,get:function get(){return _chart["default"];}});Object.defineProperty(exports,"source",{enumerable:true,get:function get(){return _source["default"];}});var _chart=_interopRequireDefault(require("./chart.js"));var _source=_interopRequireDefault(require("./source.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}},{"./chart.js":25,"./source.js":50}],38:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"alerts",{enumerable:true,get:function get(){return _alerts["default"];}});Object.defineProperty(exports,"autoLink",{enumerable:true,get:function get(){return _autoLink["default"];}});Object.defineProperty(exports,"badges",{enumerable:true,get:function get(){return _badges["default"];}});Object.defineProperty(exports,"block",{enumerable:true,get:function get(){return _block["default"];}});Object.defineProperty(exports,"button",{enumerable:true,get:function get(){return _button["default"];}});Object.defineProperty(exports,"checkbox",{enumerable:true,get:function get(){return _checkbox["default"];}});Object.defineProperty(exports,"columns",{enumerable:true,get:function get(){return _columns["default"];}});Object.defineProperty(exports,"contentFilter",{enumerable:true,get:function get(){return _contentFilter["default"];}});Object.defineProperty(exports,"context",{enumerable:true,get:function get(){return _context["default"];}});Object.defineProperty(exports,"editors",{enumerable:true,get:function get(){return _editors["default"];}});Object.defineProperty(exports,"expand",{enumerable:true,get:function get(){return _expand["default"];}});Object.defineProperty(exports,"headers",{enumerable:true,get:function get(){return _headers["default"];}});Object.defineProperty(exports,"hstack",{enumerable:true,get:function get(){return _hstack["default"];}});Object.defineProperty(exports,"html",{enumerable:true,get:function get(){return _html["default"];}});Object.defineProperty(exports,"imagePreview",{enumerable:true,get:function get(){return _imagePreview["default"];}});Object.defineProperty(exports,"indicator",{enumerable:true,get:function get(){return _indicator["default"];}});Object.defineProperty(exports,"input",{enumerable:true,get:function get(){return _input["default"];}});Object.defineProperty(exports,"link",{enumerable:true,get:function get(){return _link["default"];}});Object.defineProperty(exports,"listItem",{enumerable:true,get:function get(){return _listItem["default"];}});Object.defineProperty(exports,"lists",{enumerable:true,get:function get(){return _lists["default"];}});Object.defineProperty(exports,"menu",{enumerable:true,get:function get(){return _menu["default"];}});Object.defineProperty(exports,"menuItem",{enumerable:true,get:function get(){return _menuItem["default"];}});Object.defineProperty(exports,"popup",{enumerable:true,get:function get(){return _popup["default"];}});Object.defineProperty(exports,"section",{enumerable:true,get:function get(){return _section["default"];}});Object.defineProperty(exports,"select",{enumerable:true,get:function get(){return _select["default"];}});Object.defineProperty(exports,"signature",{enumerable:true,get:function get(){return _signature["default"];}});Object.defineProperty(exports,"struct",{enumerable:true,get:function get(){return _struct["default"];}});Object.defineProperty(exports,"switch",{enumerable:true,get:function get(){return _switch["default"];}});Object.defineProperty(exports,"tableCell",{enumerable:true,get:function get(){return _tableCell["default"];}});Object.defineProperty(exports,"tableRow",{enumerable:true,get:function get(){return _tableRow["default"];}});Object.defineProperty(exports,"table",{enumerable:true,get:function get(){return _table["default"];}});Object.defineProperty(exports,"tab",{enumerable:true,get:function get(){return _tab["default"];}});Object.defineProperty(exports,"tabs",{enumerable:true,get:function get(){return _tabs["default"];}});Object.defineProperty(exports,"text",{enumerable:true,get:function get(){return _text["default"];}});Object.defineProperty(exports,"textMatch",{enumerable:true,get:function get(){return _textMatch["default"];}});Object.defineProperty(exports,"tocSection",{enumerable:true,get:function get(){return _tocSection["default"];}});Object.defineProperty(exports,"treeItem",{enumerable:true,get:function get(){return _treeLeaf["default"];}});Object.defineProperty(exports,"tree",{enumerable:true,get:function get(){return _tree["default"];}});var _alerts=_interopRequireDefault(require("./alerts.js"));var _autoLink=_interopRequireDefault(require("./auto-link.js"));var _badges=_interopRequireDefault(require("./badges.js"));var _block=_interopRequireDefault(require("./block.js"));var _button=_interopRequireDefault(require("./button.js"));var _checkbox=_interopRequireDefault(require("./checkbox.js"));var _columns=_interopRequireDefault(require("./columns.js"));var _contentFilter=_interopRequireDefault(require("./content-filter.js"));var _context=_interopRequireDefault(require("./context.js"));var _editors=_interopRequireDefault(require("./editors.js"));var _expand=_interopRequireDefault(require("./expand.js"));var _headers=_interopRequireDefault(require("./headers.js"));var _hstack=_interopRequireDefault(require("./hstack.js"));var _html=_interopRequireDefault(require("./html.js"));var _imagePreview=_interopRequireDefault(require("./image-preview.js"));var _indicator=_interopRequireDefault(require("./indicator.js"));var _input=_interopRequireDefault(require("./input.js"));var _link=_interopRequireDefault(require("./link.js"));var _listItem=_interopRequireDefault(require("./list-item.js"));var _lists=_interopRequireDefault(require("./lists.js"));var _menu=_interopRequireDefault(require("./menu.js"));var _menuItem=_interopRequireDefault(require("./menu-item.js"));var _popup=_interopRequireDefault(require("./popup.js"));var _section=_interopRequireDefault(require("./section.js"));var _select=_interopRequireDefault(require("./select.js"));var _signature=_interopRequireDefault(require("./signature.js"));var _struct=_interopRequireDefault(require("./struct.js"));var _switch=_interopRequireDefault(require("./switch.js"));var _tableCell=_interopRequireDefault(require("./table-cell.js"));var _tableRow=_interopRequireDefault(require("./table-row.js"));var _table=_interopRequireDefault(require("./table.js"));var _tab=_interopRequireDefault(require("./tab.js"));var _tabs=_interopRequireDefault(require("./tabs.js"));var _text=_interopRequireDefault(require("./text.js"));var _textMatch=_interopRequireDefault(require("./text-match.js"));var _tocSection=_interopRequireDefault(require("./toc-section.js"));var _treeLeaf=_interopRequireDefault(require("./tree-leaf.js"));var _tree=_interopRequireDefault(require("./tree.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}},{"./alerts.js":20,"./auto-link.js":21,"./badges.js":22,"./block.js":23,"./button.js":24,"./checkbox.js":26,"./columns.js":27,"./content-filter.js":28,"./context.js":29,"./editors.js":31,"./expand.js":32,"./headers.js":33,"./hstack.js":34,"./html.js":35,"./image-preview.js":36,"./indicator.js":39,"./input.js":40,"./link.js":41,"./list-item.js":42,"./lists.js":43,"./menu-item.js":44,"./menu.js":45,"./popup.js":46,"./section.js":47,"./select.js":48,"./signature.js":49,"./struct.js":51,"./switch.js":52,"./tab.js":53,"./table-cell.js":54,"./table-row.js":55,"./table.js":56,"./tabs.js":57,"./text-match.js":58,"./text.js":59,"./toc-section.js":60,"./tree-leaf.js":61,"./tree.js":62}],39:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('indicator',function(el,config,data,context){var value=config.value,label=config.label;var _ref=data||{},href=_ref.href;var valueEl=el.appendChild(document.createElement('div'));var labelEl=el.appendChild(document.createElement('div'));valueEl.className='value';discovery.view.render(valueEl,value||'text:value',data,context);labelEl.className='label';discovery.view.render(labelEl,label||'text:label',data,context);if(href){el.href=href;}},{tag:'a'});}},{}],40:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;var _defined=_interopRequireDefault(require("../core/utils/defined.js"));var _safeFilterRx=_interopRequireDefault(require("../core/utils/safe-filter-rx.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _default(discovery){var factories={regexp:function regexp(pattern){return pattern?(0,_safeFilterRx["default"])(pattern):null;},text:function text(pattern){return pattern;}};discovery.view.define('input',function(el,config,data,context){var name=config.name,value=config.value,_config$type=config.type,type=_config$type===void 0?'text':_config$type,placeholder=config.placeholder,onInit=config.onInit,onChange=config.onChange,_config$htmlType=config.htmlType,htmlType=_config$htmlType===void 0?'text':_config$htmlType,htmlMin=config.htmlMin,htmlMax=config.htmlMax;var factory=factories[type]||factories.text;var inputEl=el.appendChild(document.createElement('input'));var lastInput=(0,_defined["default"])([value,context[name]],'');inputEl.type=htmlType;inputEl.value=lastInput;inputEl.placeholder=[placeholder||'',factory!==factories.text?'('+type+')':''].filter(Boolean).join(' ');if(typeof htmlMin!=='undefined'){inputEl.min=htmlMin;}if(htmlMax){inputEl.max=htmlMax;}inputEl.addEventListener('input',function(){var newInput=inputEl.value.trim();if(lastInput!==newInput){lastInput=newInput;if(typeof onChange==='function'){onChange(factory(newInput),name);}}});if(typeof onInit==='function'){onInit(factory(inputEl.value.trim()),name);}});}},{"../core/utils/defined.js":9,"../core/utils/safe-filter-rx.js":13}],41:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('link',function(el,config,data,context){var content=config.content;var _ref=data||{},href=_ref.href,text=_ref.text,external=_ref.external;if(typeof data==='string'){href=text=data;}if(!text&&href){text=href;}else if(!href&&text){href=text;}el.href=href;if(external){el.setAttribute('target','_blank');}if(content){discovery.view.render(el,content,data,context);}else{el.appendChild(document.createTextNode(String(text)));}},{tag:'a'});}},{}],42:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('list-item',function(el,config,data,context){var content=config.content;discovery.view.render(el,content,data,context);},{tag:'li'});}},{}],43:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){function render(el,config,data,context){var _config$item=config.item,item=_config$item===void 0?'text':_config$item,itemConfig=config.itemConfig,limit=config.limit,emptyText=config.emptyText;if(emptyText!==false&&emptyText!==''){el.setAttribute('emptyText',emptyText||'Empty list');}if(!Array.isArray(data)&&data){data=[data];}if(Array.isArray(data)){discovery.view.renderList(el,this.composeConfig({view:'list-item',content:item},itemConfig),data,context,0,discovery.view.listLimit(limit,25));}}discovery.view.define('list',render);discovery.view.define('inline-list',render);discovery.view.define('comma-list',render);discovery.view.define('ol',render,{tag:'ol'});discovery.view.define('ul',render,{tag:'ul'});}},{}],44:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('menu-item',function(el,config,data,context){var content=config.content,onClick=config.onClick;var text=data.text,_data$selected=data.selected,selected=_data$selected===void 0?false:_data$selected,_data$disabled=data.disabled,disabled=_data$disabled===void 0?false:_data$disabled;if(disabled){el.classList.add('disabled');}else if(typeof onClick==='function'){el.addEventListener('click',function(){return onClick(data);});}if(selected){el.classList.add('selected');}if(content){discovery.view.render(el,content,data,context);}else{el.innerText=text||'Untitled item';}});}},{}],45:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('menu',function(el,config,data,context){var item=config.item,itemConfig=config.itemConfig,limit=config.limit,emptyText=config.emptyText,onClick=config.onClick;if(emptyText!==false&&emptyText!==''){el.setAttribute('emptyText',emptyText||'No items');}if(Array.isArray(data)){discovery.view.renderList(el,this.composeConfig({view:'menu-item',content:item,onClick:onClick},itemConfig),data,context,0,discovery.view.listLimit(limit,25));}});}},{}],46:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}var _document=document,documentElement=_document.documentElement;var standartsMode=document.compatMode==='CSS1Compat';var openedPopups=[];var hoverPinModes=[false,'popup-hover','trigger-click'];var defaultOptions={hoverTriggers:null,hoverPin:false,render:undefined};function getOffset(element){var top=0;var left=0;if(element&&element.getBoundingClientRect){var relRect=element.getBoundingClientRect();top=-relRect.top;left=-relRect.left;}else{if(standartsMode){top=window.pageYOffset||documentElement.scrollTop;left=window.pageXOffset||documentElement.scrollLeft;}else{var _document2=document,body=_document2.body;if(element!==body){top=body.scrollTop-body.clientTop;left=body.scrollLeft-body.clientLeft;}}}return{left:left,top:top};}function getBoundingRect(element,relElement){var offset=getOffset(relElement);var top=0;var left=0;var right=0;var bottom=0;if(element&&element.getBoundingClientRect){var _element$getBoundingC=element.getBoundingClientRect();top=_element$getBoundingC.top;left=_element$getBoundingC.left;right=_element$getBoundingC.right;bottom=_element$getBoundingC.bottom;}return{top:top+offset.top,left:left+offset.left,right:right+offset.left,bottom:bottom+offset.top,width:right-left,height:bottom-top};}function findTargetRelatedPopup(popup,target){if(popup.el.contains(target)){return popup;}return popup.relatedPopups.reduce(function(res,related){return res||findTargetRelatedPopup(related,target);},null);}function hideIfEventOutside(event){openedPopups.slice().forEach(function(popup){return popup.hideIfEventOutside(event);});}var Popup=function(){function Popup(options){var _this=this;_classCallCheck(this,Popup);this.options=_objectSpread({},defaultOptions,{},options);this.el=document.createElement('div');this.el.className='discovery-view-popup';this.hide=this.hide.bind(this);this.hideTimer;this.lastTriggerEl=null;this.lastHoverTriggerEl=null;this.hoverPinned=false;if(this.options.className){this.el.classList.add(this.options.className);}if(!hoverPinModes.includes(this.options.hoverPin)){console.warn("Bad value for `Popup#options.hoverPin` (should be ".concat(hoverPinModes.join(', '),"):"),this.options.hoverPin);this.options.hoverPin=false;}if(this.options.hoverTriggers){this.el.classList.add('show-on-hover');this.el.dataset.pinMode=this.options.hoverPin||'none';document.addEventListener('mouseenter',function(_ref){var target=_ref.target;if(target===document){return;}var targetRelatedPopup=findTargetRelatedPopup(_this,target);var triggerEl=targetRelatedPopup?targetRelatedPopup.el:target.closest(_this.options.hoverTriggers);if(triggerEl){_this.hideTimer=clearTimeout(_this.hideTimer);if(triggerEl!==_this.lastHoverTriggerEl){if(!targetRelatedPopup||!targetRelatedPopup.hoverPinned){_this.lastHoverTriggerEl=triggerEl;}if(!targetRelatedPopup){_this.hoverPinned=false;_this.el.classList.remove('pinned');_this.show(triggerEl);}}}},true);document.addEventListener('mouseleave',function(_ref2){var target=_ref2.target;if(_this.lastHoverTriggerEl&&_this.lastHoverTriggerEl===target){_this.lastHoverTriggerEl=null;_this.hideTimer=setTimeout(_this.hide,100);}},true);if(this.options.hoverPin==='trigger-click'){document.addEventListener('click',function(event){if(_this.lastHoverTriggerEl&&_this.lastTriggerEl.contains(event.target)){_this.lastHoverTriggerEl=null;_this.hoverPinned=true;_this.el.classList.add('pinned');event.stopPropagation();}},true);}}}_createClass(Popup,[{key:"show",value:function show(triggerEl){var render=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.options.render;var box=getBoundingRect(triggerEl,document.body);var viewport=document.body.getBoundingClientRect();var availHeightTop=box.top-viewport.top-3;var availHeightBottom=viewport.bottom-box.bottom-3;var availWidthLeft=box.right-viewport.left-3;var availWidthRight=viewport.right-box.left-3;if(availHeightTop>availHeightBottom){this.el.style.maxHeight=availHeightTop+'px';this.el.style.top='auto';this.el.style.bottom=viewport.bottom-box.top+'px';this.el.dataset.vTo='top';}else{this.el.style.maxHeight=availHeightBottom+'px';this.el.style.top=box.bottom+'px';this.el.style.bottom='auto';this.el.dataset.vTo='bottom';}if(availWidthLeft>availWidthRight){this.el.style.left='auto';this.el.style.right=viewport.right-box.right+'px';this.el.style.maxWidth=availWidthLeft+'px';this.el.dataset.hTo='left';}else{this.el.style.left=box.left+'px';this.el.style.right='auto';this.el.style.maxWidth=availWidthRight+'px';this.el.dataset.hTo='right';}this.hideTimer=clearTimeout(this.hideTimer);this.relatedPopups.forEach(function(related){return related.hide();});if(typeof render==='function'){this.el.innerHTML='';render(this.el,triggerEl,this.hide);}if(this.lastTriggerEl){this.lastTriggerEl.classList.remove('discovery-view-popup-active');}triggerEl.classList.add('discovery-view-popup-active');this.lastTriggerEl=triggerEl;document.body.appendChild(this.el);if(!this.visible){openedPopups.push(this);window.addEventListener('resize',this.hide);if(openedPopups.length===1){document.addEventListener('scroll',hideIfEventOutside,true);document.addEventListener('click',hideIfEventOutside,true);}}}},{key:"hide",value:function hide(){this.hideTimer=clearTimeout(this.hideTimer);if(this.visible){this.relatedPopups.forEach(function(related){return related.hide();});openedPopups.splice(openedPopups.indexOf(this),1);this.el.remove();if(this.lastTriggerEl){this.lastTriggerEl.classList.remove('discovery-view-popup-active');this.lastTriggerEl=null;}window.removeEventListener('resize',this.hide);if(openedPopups.length===0){document.removeEventListener('scroll',hideIfEventOutside,true);document.removeEventListener('click',hideIfEventOutside,true);}}}},{key:"hideIfEventOutside",value:function hideIfEventOutside(_ref3){var target=_ref3.target;if(this.lastTriggerEl&&this.lastTriggerEl.contains(target)){return;}if(findTargetRelatedPopup(this,target)){return;}this.hide();}},{key:"relatedPopups",get:function get(){var _this2=this;return openedPopups.filter(function(related){return _this2.el.contains(related.lastTriggerEl);});}},{key:"visible",get:function get(){return openedPopups.includes(this);}}]);return Popup;}();function _default(discovery){discovery.view.Popup=Popup;};},{}],47:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('section',function(el,config,data,context){var header=config.header,content=config.content;discovery.view.render(el,[{view:'header',content:header},content],data,context);});}},{}],48:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _default(discovery){var defaultItemRender='text-match:{ text, match: #.filter }';var variantQuery='{ value: $, text: #.selectVariantTextQuery.query($, #) }';var variantsQuery=".(".concat(variantQuery,")");var variantsPopup=new discovery.view.Popup({className:'select-variants'});discovery.view.define('select',function(el,config,data,context){function renderCaption(){el.innerHTML='';if(currentValue!==undefined){discovery.view.render(el,discovery.view.composeConfig({view:'menu-item',data:variantQuery,content:item},itemConfig),currentValue,variantsPopupContext);}}var name=config.name,value=config.value,_config$text=config.text,text=_config$text===void 0?'$':_config$text,placeholder=config.placeholder,_config$resetItem=config.resetItem,resetItem=_config$resetItem===void 0?false:_config$resetItem,_config$item=config.item,item=_config$item===void 0?defaultItemRender:_config$item,itemConfig=config.itemConfig,onInit=config.onInit,onChange=config.onChange;var currentValue=value?discovery.query(value,data,context):context[name];var variantsPopupContext=_objectSpread({},context,{selectCurrentValue:currentValue,selectVariantTextQuery:text,selectResetItem:resetItem===true?{value:undefined,text:''}:resetItem});if(placeholder){el.dataset.placeholder=placeholder;}el.tabIndex=0;el.addEventListener('click',function(){if(variantsPopup.visible){variantsPopup.hide();return;}variantsPopup.show(el,function(popupEl){discovery.view.render(popupEl,{view:'content-filter',data:resetItem?"[{\n                            value: undefined,\n                            text: \"\",\n                            resetItem: true,\n                            ...#.selectResetItem\n                        }] + ".concat(variantsQuery):variantsQuery,content:{view:'menu',data:'.[no #.filter or text~=#.filter or resetItem]',itemConfig:discovery.view.composeConfig({className:[function(data){return data.resetItem?'reset-item':'';},function(data){return data.value===currentValue?'selected':'';}]},itemConfig),item:item,onClick:function onClick(data){variantsPopup.hide();if(currentValue!==data.value){currentValue=data.value;variantsPopupContext=_objectSpread({},variantsPopupContext,{selectCurrentValue:currentValue});renderCaption();if(typeof onChange==='function'){onChange(data.value,name);}}}}},data,variantsPopupContext).then(function(){return popupEl.querySelector('input').focus();});});});if(typeof onInit==='function'){onInit(currentValue,name);}renderCaption();});}},{}],49:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;var _dom=require("../core/utils/dom.js");var _html=require("../core/utils/html.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}var colors=['#7ede78','#f5f061','#f7b28a','#af8af7','#61a3f5','#ef9898','#80ccb4','#b1ae8a','#e290d3','#91d9ea','#bbb'];var signatureTypeOrder=['null','undefined','string','number','bigint','boolean','symbol','function','array','object'];function fixedNum(num,prec){return num.toFixed(prec).replace(/\.?0+$/,'');}function collectObjectMap(value,expanded,objectStat){for(var key in value){if(!hasOwnProperty.call(value,key)){continue;}if(!expanded){objectStat.properties=null;break;}var propMap=void 0;if(key in objectStat.properties){propMap=objectStat.properties[key];propMap.count++;}else{propMap=objectStat.properties[key]={count:1,map:Object.create(null)};}collectStat(value[key],expanded-1,propMap.map);}}function collectStat(value,expanded){var stat=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Object.create(null);var type=value===null?'null':Array.isArray(value)?'array':_typeof(value);switch(type){default:if(type in stat===false){stat[type]=new Map();}stat[type].set(value,(stat[type].get(value)||0)+1);break;case'object':if('object'in stat===false){stat.object=new Map();stat.object.count=0;stat.object.properties=Object.create(null);}stat.object.count++;if(!stat.object.has(value)){stat.object.set(value,1);collectObjectMap(value,expanded,stat.object);}else{stat.object.set(value,stat.object.get(value)+1);}break;case'array':if('array'in stat===false){stat.array=new Map();stat.array.count=0;stat.array.map=Object.create(null);}stat.array.count++;stat.array.set(value,(stat.array.get(value)||0)+1);for(var i=0;i<value.length;i++){collectStat(value[i],expanded,stat.array.map);}break;}return stat;}function getStatCount(stat){var count=0;for(var type in stat){stat[type].forEach(function(occurrences){return count+=occurrences;});}return count;}function getStatCounts(stat){var result=Object.create(null);var _loop=function _loop(type){result[type]=0;stat[type].forEach(function(occurrences){return result[type]+=occurrences;});};for(var type in stat){_loop(type);}return result;}function renderStat(el,stat,elementToData){var path=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];var offset=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'';Object.keys(stat).sort(function(a,b){return signatureTypeOrder.indexOf(a)-signatureTypeOrder.indexOf(b);}).forEach(function(type,idx){if(idx>0){el.appendChild((0,_dom.createText)(' | '));}switch(type){default:{var typeEl=el.appendChild((0,_dom.createElement)('span','type',type));elementToData.set(typeEl,{type:'type',path:path,stat:stat,name:type});break;}case'object':{var values=stat[type];var properties=stat[type].properties;if(properties===null){elementToData.set(el.appendChild((0,_dom.createElement)('span','expand','{…}')),{type:'expand',path:path,map:stat[type],offset:offset});break;}var valuesCount=values.size;var propertyOffset=offset+'    ';var contentEl=el.appendChild((0,_dom.createElement)('span','object',['{',(0,_dom.createElement)('span','collapse')]));elementToData.set(contentEl,{type:'collapse',path:path,map:stat[type],offset:offset});if(valuesCount>1){contentEl.appendChild((0,_dom.createElement)('span','count')).dataset.value=String(valuesCount);}for(var name in properties){var propertyEl=(0,_dom.createElement)('span','property',[name]);var _properties$name=properties[name],count=_properties$name.count,map=_properties$name.map;elementToData.set(propertyEl,{type:'property',path:path,stat:stat,name:name,map:map});contentEl.appendChild((0,_dom.createText)("\n".concat(propertyOffset)));contentEl.appendChild(propertyEl);if(count!==valuesCount){propertyEl.appendChild((0,_dom.createElement)('span','optional','?'));}contentEl.appendChild((0,_dom.createText)(': '));renderStat(contentEl,map,elementToData,path.concat(name),propertyOffset);contentEl.appendChild((0,_dom.createText)(';'));}if(contentEl.lastChild.nodeValue===';'){contentEl.appendChild((0,_dom.createText)("\n".concat(offset)));}contentEl.appendChild((0,_dom.createText)('}'));break;}case'array':el.appendChild((0,_dom.createText)('['));renderStat(el,stat[type].map,elementToData,path,offset);el.appendChild((0,_dom.createText)(']'));break;}});}function renderPropertyDetails(el,data,discovery){var _data$stat$object$pro=data.stat.object.properties[data.name],count=_data$stat$object$pro.count,map=_data$stat$object$pro.map;var total=data.stat.object.count;var output={name:data.name,path:data.path,total:total,count:count,percent:fixedNum(100*count/total,1)+'%'};discovery.view.render(el,[{view:'inline-list',when:'path',className:'path',data:'path'},{view:'h1',className:'property',content:['text:name',{view:'html',when:'count != total',data:"\"<span class=\\\"usage-stat optional\\\">\" + (\n                        \"(in <span class=\\\"num\\\">\" + count + \"</span> of <span class=\\\"num\\\">\" + total + \"</span> objects, <span class=\\\"num\\\">\" + percent + \"</span>)\"\n                    ) + \"</span>\""}]}],output,{});renderTypeStat(el,{map:map,count:count},discovery);}function renderTypeStat(el,_ref,discovery){var map=_ref.map,count=_ref.count;var typeCounts=getStatCounts(map);var typeStat=[];var output={count:count,typeStat:typeStat};var types=signatureTypeOrder.filter(function(type){return type in map;});var acc=0;Object.entries(typeCounts).sort(function(_ref2,_ref3){var _ref4=_slicedToArray(_ref2,2),a=_ref4[1];var _ref5=_slicedToArray(_ref3,2),b=_ref5[1];return a-b;}).reverse().forEach(function(_ref6,idx){var _ref7=_slicedToArray(_ref6,2),name=_ref7[0],val=_ref7[1];acc+=val/count;typeStat.push({name:(0,_html.escapeHtml)(name),count:val,percent:fixedNum(100*val/count,1),color:colors[idx],pie:colors[idx]+' 0, '+colors[idx]+' '+acc+'turn'});});discovery.view.render(el,{view:'block',when:'typeStat.size() > 1',className:'pie-stat',content:[{view:'block',content:{view:'html',data:'"<div class=\\"pie\\" style=\\"--size: 100px; background: conic-gradient('+typeStat.map(function(s){return s.pie;})+')\\"></div>"'}},{view:'block',content:['html:"<span class=\\"list-header\\">Types usage:</span>"',{view:'list',data:'typeStat',item:"html:\n                            \"<span class=\\\"dot\\\" style=\\\"--size: 10px; background-color: \" + color + \"\\\"></span> \" +\n                            \"<span class=\\\"caption\\\">\" + name + \"</span>\" +\n                            \"<span class=\\\"times\\\"> \xD7 \" + count + \" (\" + percent + \"%)</span>\"\n                        "}]}]},output,{});types.forEach(function(name){renderTypeDetails(el,{name:name,stat:map},discovery);});}function renderTypeDetails(el,data,discovery){var stat=data.stat[data.name];var total=getStatCount(data.stat);var renderSections=[];var output=data;switch(data.name){case'number':{var values=[];var sum=0;var count=0;var duplicated=0;var min=Infinity;var max=-Infinity;stat.forEach(function(occurrences,value){values.push({count:occurrences,value:value});sum+=value*occurrences;count+=occurrences;if(occurrences>1){duplicated++;}if(value<min){min=value;}if(value>max){max=value;}});output={count:count,distinct:stat.size,duplicated:duplicated,min:min,max:max,sum:sum,avg:fixedNum(sum/count,3),values:values.sort(function(a,b){return b.count-a.count||a.value-b.value;})};renderSections.push({view:'block',className:'overview-stat',content:"html:\n                    \"range: (min) <span class=\\\"num\\\">\" + min + \"</span> ... \" +\n                    \"<span class=\\\"num\\\">\" + max + \"</span> (max), \" +\n                    \"avg: <span class=\\\"num\\\">\" + avg + \"</span>\"\n                "});break;}default:{var _values=[];var _count=0;var _duplicated=0;stat.forEach(function(occurrences,value){_values.push({count:occurrences,value:value});_count+=occurrences;if(occurrences>1){_duplicated++;}});output={count:_count,distinct:stat.size,duplicated:_duplicated,values:data.name==='object'||data.name==='array'?_values.sort(function(a,b){return b.count-a.count;}):_values.sort(function(a,b){return b.count-a.count||a.value>b.value||-(a.value<b.value);})};break;}}if(data.name!=='undefined'&&data.name!=='null'){renderSections.unshift({view:'block',className:'overview-stat',content:['html:"<span class=\\"num\\">" + count + "</span> values, "',{view:'switch',content:[{when:'count = distinct',content:'text:"all unique, no duplicates"'},{content:['html:"<span class=\\"num\\">" + distinct + "</span> unique, "','html:duplicated = distinct ? "all occur more than once" : "<span class=\\"num\\">" + duplicated + "</span> occur more than once"']}]}]});if(output.values&&output.values.length>1&&output.duplicated&&data.name!=='object'&&data.name!=='array'){var maxSegmentsCount=output.values.length===10?10:Math.min(9,output.values.length);var duplicateCount=0;var segments=[];for(var i=0,acc=0;i<maxSegmentsCount;i++){var _output$values$i=output.values[i],_count2=_output$values$i.count,value=_output$values$i.value;duplicateCount+=_count2;acc+=_count2/output.count;segments.push({name:(0,_html.escapeHtml)(String(value)),count:_count2,percent:fixedNum(100*_count2/output.count,1),color:colors[i],pie:colors[i]+' 0, '+colors[i]+' '+acc+'turn'});}if(segments.length){var _count3=output.count-duplicateCount;if(_count3>0){segments.push({name:'...',count:_count3,percent:fixedNum(100*_count3/output.count,1),color:colors[segments.length],pie:colors[segments.length]+' 0, '+colors[segments.length]+' 1turn'});}renderSections.push({view:'block',className:'pie-stat',data:segments,content:[{view:'block',content:{view:'html',data:'"<div class=\\"pie\\" style=\\"--size: 100px; background: conic-gradient('+segments.map(function(s){return s.pie;})+')\\"></div>"'}},{view:'block',content:['html:"<span class=\\"list-header\\">Dominators:</span>"',{view:'list',item:"html:\n                                        \"<span class=\\\"dot\\\" style=\\\"--size: 10px; background-color: \" + color + \"\\\"></span> \" +\n                                        \"<span class=\\\"caption\\\" title=\\\"\" + name + \"\\\">\" + name + \"</span>\" +\n                                        \"<span class=\\\"times\\\"> \xD7 \" + count + \" (\" + percent + \"%)</span>\"\n                                    "}]}]});}}if(data.name==='number'||data.name==='string'){renderSections.push({view:'content-filter',name:'filter',content:{view:'menu',data:'values.[no #.filter or value~=#.filter].sort(<value>)',item:[{view:'block',className:'caption',content:'text-match:{ text: value, match: #.filter }'},{view:'block',when:'count > 1',className:'count',content:'text:" × " + count'}]}});}if(data.name==='object'){renderSections.push({view:'list',className:'struct-list',data:'values',item:['struct:value',{view:'block',when:'count > 1',className:'count',content:'text:" × " + count'}]});}if(data.name==='array'&&Object.keys(stat.map).length){renderSections.push({view:'block',className:'array-types',content:function content(el){return renderTypeStat(el,stat,discovery);}});}}discovery.view.render(el,[{view:'inline-list',when:'path',className:'path',data:'path'},{view:'h1',className:'type',content:['text:name',"html:\"<span class=\\\"usage-stat\\\">\" + (\n                    count = total\n                        ? \"only this type is used\"\n                        : \"used in <span class=\\\"num\\\">\" + count + \"</span> of <span class=\\\"num\\\">\" + total + \"</span> cases (<span class=\\\"num\\\">\" + percent + \"</span>)\"\n                ) + \"</span>\""]}].concat(renderSections),_objectSpread({name:data.name,path:data.path,total:total,percent:fixedNum(100*output.count/total,1)+'%'},output),{});}function _default(discovery){var elementToData=new WeakMap();var clickHandler=function clickHandler(_ref8){var target=_ref8.target;var activeEl=target.closest("\n            .view-signature .expand,\n            .view-signature .collapse\n        ");if(!activeEl){return;}if(activeEl.classList.contains('collapse')){activeEl=activeEl.parentNode;}var data=elementToData.get(activeEl);if(data){var path=data.path,map=data.map,offset=data.offset;var fragment=(0,_dom.createFragment)();if(map.properties===null){map.properties=Object.create(null);map.forEach(function(_,value){return collectObjectMap(value,1,map);});}else{map.properties=null;}renderStat(fragment,{object:map},elementToData,path,offset);activeEl.replaceWith(fragment);}};document.addEventListener('click',clickHandler,false);new discovery.view.Popup({className:'signature-details',hoverPin:'trigger-click',hoverTriggers:"\n            .view-signature .property,\n            .view-signature .type\n        ",render:function render(popupEl,triggerEl){var data=elementToData.get(triggerEl);switch(data.type){case'property':return renderPropertyDetails(popupEl,data,discovery);case'type':return renderTypeDetails(popupEl,data,discovery);}}});discovery.view.define('signature',function(el,config,data){var expanded=config.expanded;var stat=collectStat(data,expanded);renderStat(el,stat,elementToData);});}},{"../core/utils/dom.js":10,"../core/utils/html.js":11}],50:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;var _hitext=_interopRequireDefault(require("/gen/hitext.js"));var _hitextPrismjs=_interopRequireDefault(require("/gen/hitext-prismjs.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var maxSourceSizeToHighlight=100*1024;var mimeToSyntax={'application/javascript':'javascript','application/x-httpd-php':'php','application/xml':'xml','application/json':'json','text/html':'html','text/css':'css','text/stylus':'stylus','text/yaml':'yaml','image/svg+xml':'svg'};function classNames(options,defaultClassNames){var customClassName=options&&options.className;var classNames=[defaultClassNames,Array.isArray(customClassName)?customClassName.join(' '):typeof customClassName==='string'?customClassName:false].filter(Boolean).join(' ');return classNames?" class=\"".concat(classNames,"\""):'';}var printer=_hitext["default"].printer.html.fork(_hitextPrismjs["default"].printer.html).fork({hooks:_objectSpread({},_hitext["default"].printer.html.hooks,{link:{open:function open(options){return"<a href=\"".concat(options.href,"\"").concat(classNames(options)).concat(options.marker?" data-marker=\"".concat(options.marker,"\""):'',">");},close:function close(){return'</a>';}},spotlight:{open:function open(options){return"<span ".concat(classNames(options,'spotlight')).concat(options.marker?" data-marker=\"".concat(options.marker,"\""):'',">");},close:function close(){return'</span>';}}})});function _default(discovery){discovery.view.define('source',function(el,config,data){var decorators=[];var mime=data.mime,binary=data.binary,size=data.size,syntax=data.syntax,content=data.content,refs=data.refs,error=data.error,disabled=data.disabled;if(disabled){el.classList.add('disabled');el.innerText=error;return;}if(error){el.classList.add('error');el.innerText=error;return;}if(content.length<maxSourceSizeToHighlight&&(syntax||mimeToSyntax.hasOwnProperty(mime))){decorators.push(function(source,addRange){(0,_hitextPrismjs["default"])(syntax||mimeToSyntax[mime])(source,addRange);});}if(Array.isArray(refs)){decorators.push(function(source,addRange){return refs.forEach(function(ref){if(ref.range){addRange(ref.type||'spotlight',ref.range[0],ref.range[1],ref);}});});}if(binary){el.innerHTML='Binary content'+(typeof size==='number'?' ('+size+' bytes)':'');}else{el.innerHTML='<div class="lines">'+content.split(/\r\n?|\n/g).map(function(_,idx){return'<span>'+(idx+1)+'</span>';}).join('')+'</div>'+_hitext["default"].decorate(content,decorators,printer);}});}},{"/gen/hitext-prismjs.js":66,"/gen/hitext.js":67}],51:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;var _html=require("../core/utils/html.js");var _dom=require("../core/utils/dom.js");var _copyText=_interopRequireDefault(require("../core/utils/copy-text.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}}var hasOwnProperty=Object.prototype.hasOwnProperty;var toString=Object.prototype.toString;var expandedItemsLimit=50;var collapedItemsLimit=4;var maxStringLength=150;var maxLinearStringLength=50;var urlRx=/^(?:https?:)?\/\/(?:[a-z0-9]+(?:\.[a-z0-9]+)+|\d+(?:\.\d+){3})(?:\:\d+)?(?:\/\S*?)?$/i;var stringValueProto=(0,_dom.createFragment)('"',(0,_dom.createElement)('span','struct-collapse-value'),(0,_dom.createElement)('span','value-actions'),(0,_dom.createElement)('span','string-as-text-toggle'),(0,_dom.createElement)('span','string-length'),(0,_dom.createElement)('br'),(0,_dom.createElement)('span','string-text-wrapper',[(0,_dom.createElement)('span','string-text')]),'"');var arrayValueProto=_dom.createFragment.apply(void 0,['['].concat(_toConsumableArray(createActionButtons()),[']']));var objectValueProto=_dom.createFragment.apply(void 0,['{'].concat(_toConsumableArray(createActionButtons()),['}']));var entryProtoEl=(0,_dom.createElement)('div','entry-line');var valueProtoEl=(0,_dom.createElement)('span','value');var objectKeyProtoEl=(0,_dom.createElement)('span','label',['\xA0 \xA0 ',(0,_dom.createElement)('span','property'),':\xA0']);function createActionButtons(){return[(0,_dom.createElement)('span','struct-collapse-value'),(0,_dom.createElement)('span','show-signature'),(0,_dom.createElement)('span','value-actions')];}function token(type,str){return"<span class=\"".concat(type,"\">").concat(str,"</span>");}function more(num){return token('more',"\u2026".concat(num," more\u2026"));}function value2htmlString(value,linear){switch(_typeof(value)){case'boolean':case'undefined':return token('keyword',value);case'number':case'bigint':{var str=String(value);if(str.length>3){str=str.replace(/\..+$|\B(?=(\d{3})+(\D|$))/g,function(m){return m||'<span class="num-delim"></span>';});}return token('number',str);}case'symbol':return token('symbol',value);case'function':return'ƒn';case'string':{var maxLength=linear?maxLinearStringLength:maxStringLength;if(value.length>maxLength+15){return token('string',(0,_html.escapeHtml)(JSON.stringify(value.substr(0,maxLength))).replace(/"$/,more(value.length-maxLength)+'"'));}var _str=(0,_html.escapeHtml)(JSON.stringify(value));return token('string',!linear&&(value[0]==='h'||value[0]==='/')&&urlRx.test(value)?"\"<a href=\"".concat((0,_html.escapeHtml)(value),"\">").concat(_str.substr(1,_str.length-2),"</a>\""):_str);}case'object':{if(value===null){return token('keyword','null');}switch(toString.call(value)){case'[object Array]':{var _content=value.slice(0,collapedItemsLimit).map(function(val){return value2htmlString(val,true);});if(value.length>collapedItemsLimit){_content.push("".concat(more(value.length-collapedItemsLimit)," "));}return"[".concat(_content.join(', '),"]");}case'[object Date]':return token('date',value);case'[object RegExp]':return token('regexp',value);}if(linear){for(var key in value){if(hasOwnProperty.call(value,key)){return'{…}';}}return'{}';}var content=[];var count=0;for(var _key in value){if(hasOwnProperty.call(value,_key)){if(count<collapedItemsLimit){content.push("".concat(token('property',_key),": ").concat(value2htmlString(value[_key],true)));}count++;}}if(count>collapedItemsLimit){content.push(more(count-collapedItemsLimit));}return content.length?"{ ".concat(content.join(', ')," }"):'{}';}default:return"unknown type \"".concat(_typeof(value),"\"");}}function isValueExpandable(value){if(Array.isArray(value)){return value.length>0;}if(typeof value==='string'&&(value.length>maxStringLength||/[\r\n\f\t]/.test(value))){return true;}if(value&&toString.call(value)==='[object Object]'){for(var key in value){if(hasOwnProperty.call(value,key)){return true;}}}return false;}function appendText(el,text){el.appendChild(document.createTextNode(text));}function _default(discovery){function collapseValue(el){var data=elementToData.get(el);el.classList.add('struct-expand-value');el.innerHTML=value2htmlString(data);}function expandValue(el,expandLimit){var data=elementToData.get(el);el.classList.remove('struct-expand-value');if(Array.isArray(data)){el.innerHTML='';el.appendChild(arrayValueProto.cloneNode(true));renderEntries(el,el.lastChild,Object.entries(data),function(entryEl,key,value){renderValue(entryEl,value,expandLimit);});}else if(typeof data==='string'){el.innerHTML='';el.appendChild(stringValueProto.cloneNode(true));var stringValueEl=el.lastChild.previousSibling;var text=JSON.stringify(data);appendText(stringValueEl.firstChild,text.slice(1,-1));appendText(stringValueEl.previousSibling,"length: ".concat(text.length," chars"));}else{el.innerHTML='';el.appendChild(objectValueProto.cloneNode(true));renderEntries(el,el.lastChild,Object.entries(data),function(entryEl,key,value){renderObjectKey(entryEl,key);renderValue(entryEl,value,expandLimit);});}}function renderObjectKey(container,name){var objectKeyEl=objectKeyProtoEl.cloneNode(true);appendText(objectKeyEl.firstElementChild,name);container.appendChild(objectKeyEl);}function renderValueLinks(container,value){var links=discovery.resolveValueLinks(value);if(Array.isArray(links)){links.forEach(function(_ref){var type=_ref.type,href=_ref.href;return container.appendChild((0,_dom.createElement)('a',{href:href,"class":'view-struct-auto-link'},[type]));});}}function renderValue(container,value,expandLimit){var expandable=isValueExpandable(value);var valueEl=valueProtoEl.cloneNode(true);if(expandable&&typeof value!=='string'&&expandLimit){elementToData.set(valueEl,value);container.classList.add('struct-expanded-value');expandValue(valueEl,expandLimit-1);}else{if(expandable){elementToData.set(valueEl,value);valueEl.classList.add('struct-expand-value');}valueEl.innerHTML=value2htmlString(value);}renderValueLinks(container,value);container.appendChild(valueEl);}function renderEntries(container,beforeEl,entries,renderEntryContent){var offset=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var limit=arguments.length>5&&arguments[5]!==undefined?arguments[5]:expandedItemsLimit;var lastIndex=entries.length-offset-1;entries.slice(offset,offset+limit).forEach(function(_ref2,index){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];var el=entryProtoEl.cloneNode(true);renderEntryContent(el,key,value);if(index!==lastIndex){appendText(el,',');}container.insertBefore(el,beforeEl);});discovery.view.maybeMoreButtons(container,beforeEl,entries.length,offset+limit,limit,function(offset,limit){return renderEntries(container,beforeEl,entries,renderEntryContent,offset,limit);});}function formatSize(size){if(!size){return'';}return', '+String(size.length).replace(/\B(?=(\d{3})+$)/g,'<span class="num-delim"></span>')+' bytes';}var elementToData=new WeakMap();var structViewRoots=new WeakSet();var valueActionsPopup=new discovery.view.Popup({className:'view-struct-actions-popup',render:function render(popupEl,triggerEl){var value=elementToData.get(triggerEl.parentNode);var actions=[];if(typeof value==='string'){actions=[{text:'Copy as quoted string',action:function action(){return(0,_copyText["default"])(JSON.stringify(value));}},{text:'Copy as unquoted string',action:function action(){return(0,_copyText["default"])(JSON.stringify(value).slice(1,-1));}},{text:'Copy a value (unescaped)',action:function action(){return(0,_copyText["default"])(value);}}];}else{var error=false;var stringifiedJson;try{stringifiedJson=JSON.stringify(value);}catch(e){error='Can\'t be copied: '+e.message;}actions=[{text:'Copy as JSON (formatted)',error:error,disabled:Boolean(error),action:function action(){return(0,_copyText["default"])(JSON.stringify(value,null,4));}},{text:"Copy as JSON (compact".concat(formatSize(stringifiedJson),")"),error:error,disabled:Boolean(error),action:function action(){return(0,_copyText["default"])(stringifiedJson);}}];}discovery.view.render(popupEl,{view:'menu',onClick:function onClick(item){valueActionsPopup.hide();item.action();},item:['html:text',{view:'block',className:'error',when:'error',content:'text:error'}]},actions);}});var clickHandler=function clickHandler(_ref4){var target=_ref4.target;var cursor=target.closest("\n            .view-struct.struct-expand,\n            .view-struct .struct-expand-value,\n            .view-struct .struct-collapse-value,\n            .view-struct .string-as-text-toggle,\n            .view-struct .value-actions\n        ");if(!cursor){return;}if(cursor.classList.contains('struct-expand')){cursor.classList.remove('struct-expand');expandValue(cursor.lastChild,0);}else if(cursor.classList.contains('struct-expand-value')){expandValue(cursor,0);cursor.parentNode.classList.add('struct-expanded-value');if(structViewRoots.has(cursor.parentNode)){cursor.parentNode.classList.remove('struct-expand');}}else if(cursor.classList.contains('struct-collapse-value')){cursor=cursor.parentNode;collapseValue(cursor);cursor.parentNode.classList.remove('struct-expanded-value');if(structViewRoots.has(cursor.parentNode)){cursor.parentNode.classList.add('struct-expand');}}else if(cursor.classList.contains('string-as-text-toggle')){var stringTextNode=cursor.parentNode.querySelector('.string-text').firstChild;stringTextNode.nodeValue=cursor.parentNode.classList.toggle('string-value-as-text')?JSON.parse("\"".concat(stringTextNode.nodeValue,"\"")):JSON.stringify(stringTextNode.nodeValue).slice(1,-1);}else if(cursor.classList.contains('value-actions')){valueActionsPopup.show(cursor);}};document.addEventListener('click',clickHandler,false);new discovery.view.Popup({hoverPin:'popup-hover',hoverTriggers:'.view-struct .show-signature',render:function render(popupEl,triggerEl){var data=elementToData.get(triggerEl.parentNode);discovery.view.render(popupEl,{view:'signature',expanded:2},data);}});discovery.view.define('struct',function(el,config,data){var expanded=config.expanded;var expandable=isValueExpandable(data);structViewRoots.add(el);renderValue(el,data,expanded);if(expandable&&!expanded){el.classList.add('struct-expand');}});return function(){document.removeEventListener('click',clickHandler,false);};}},{"../core/utils/copy-text.js":8,"../core/utils/dom.js":10,"../core/utils/html.js":11}],52:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('switch',function(el,config,data,context){var content=config.content;var renderConfig='alert-warning:"No case choosen"';if(Array.isArray(content)){for(var i=0;i<content.length;i++){var branch=content[i];if(branch&&discovery.queryBool(branch.when||true,data,context)){renderConfig='data'in branch?{view:'context',data:branch.data,content:branch.content}:branch.content;break;}}}discovery.view.render(el,renderConfig,data,context);},{tag:false});}},{}],53:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('tab',function(el,config,data,context){var content=config.content,active=config.active,onClick=config.onClick;var text=data.text,value=data.value;if(typeof onClick==='function'){el.addEventListener('click',function(){return onClick(value);});}if(active){el.classList.add('active');}if(content){discovery.view.render(el,content,data,context);}else{el.innerText=text||value;}});}},{}],54:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}var defaultDetailsRender={view:'struct',expanded:1};function defaultCellRender(el,data){if(Array.isArray(data)){el.className='details complex';el.innerText=data.length?'[…]':'[]';return;}if(data&&_typeof(data)==='object'){el.className='details complex';for(var k in data){if(Object.prototype.hasOwnProperty.call(data,k)){el.innerText='{…}';return;}}el.innerText='{}';return;}if(data===undefined){el.innerText='';return;}if(typeof data==='number'){el.className='number';}el.innerText=data;}function _default(discovery){discovery.view.define('table-cell',function(el,config,data,context){var content=config.content,details=config.details;if(content){discovery.view.render(el,content,data,context);}else{defaultCellRender(el,data);}if(details){el.classList.add('details');}if(el.classList.contains('details')){el.addEventListener('click',function(e){var node=e.target;if(node===el){var rowEl=node.parentNode;var bodyEl=rowEl.parentNode;var currentDetailsEl=Array.from(bodyEl.querySelectorAll('.view-table-cell.details-expanded')).find(function(td){return td.parentNode.parentNode===bodyEl;});var detailsEl=null;if(currentDetailsEl){var currentDetailsRowEl=currentDetailsEl.parentNode;currentDetailsEl.classList.remove('details-expanded');if(currentDetailsEl===el){rowEl.parentNode.removeChild(rowEl.nextSibling);return;}if(currentDetailsRowEl!==rowEl){currentDetailsRowEl.parentNode.removeChild(currentDetailsRowEl.nextSibling);}else{detailsEl=rowEl.nextSibling.firstChild;detailsEl.innerHTML='';}}if(detailsEl===null){detailsEl=rowEl.parentNode.insertBefore(document.createElement('tr'),rowEl.nextSibling).appendChild(document.createElement('td'));detailsEl.parentNode.className='view-table-cell-details-content';detailsEl.colSpan=1000;}el.classList.add('details-expanded');discovery.view.render(detailsEl,details||defaultDetailsRender,data,context);}});}},{tag:'td'});}},{}],55:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _default(discovery){discovery.view.define('table-row',function(el,config,data,context){var cols=config.cols;if(Array.isArray(cols)){cols.forEach(function(col,index){return discovery.view.render(el,col,data,_objectSpread({},context,{colIndex:index}));});}},{tag:'tr'});}},{}],56:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var hasOwnProperty=Object.prototype.hasOwnProperty;var self=function self(data){return data;};function configFromName(name){return{header:name,view:'table-cell',data:function data(obj){return obj[name];}};}function resolveColConfig(config){return typeof config==='string'?{data:self,content:config}:_objectSpread({data:self},config);}function _default(discovery){discovery.view.define('table',function(el,config,data,context){var cols=config.cols,rowConfig=config.rowConfig,limit=config.limit;var colsMap=cols&&_typeof(cols)==='object'?cols:{};var scalarCol=false;if(!Array.isArray(data)&&data){data=[data];}var headEl=el.appendChild(document.createElement('thead'));var bodyEl=el.appendChild(document.createElement('tbody'));var moreEl=el.appendChild(document.createElement('tbody')).appendChild(document.createElement('tr')).appendChild(document.createElement('td'));if(Array.isArray(cols)){cols=cols.map(function(def,idx){return typeof def==='string'?configFromName(def):_objectSpread({header:'col'+idx,view:'table-cell',data:self},def);});}else if(Array.isArray(data)){var colNames=new Set();cols=[];data.forEach(function(item){if(item&&_typeof(item)==='object'){for(var key in item){colNames.add(key);}}else{scalarCol=true;}});Object.keys(colsMap).forEach(function(name){return colsMap[name]?colNames.add(name):colNames["delete"](name);});if(scalarCol){cols.push({header:'[value]',view:'table-cell',data:function data(_data){return String(_data);}});}colNames.forEach(function(name){return cols.push(_objectSpread({},configFromName(name),{},hasOwnProperty.call(colsMap,name)?resolveColConfig(colsMap[name]):null));});}else{console.warn('config.cols and data is not an array, no way to build a table');return;}cols.forEach(function(col){return headEl.appendChild(document.createElement('th')).innerText=col.header;});moreEl.colSpan=cols.length;discovery.view.renderList(bodyEl,this.composeConfig({view:'table-row',cols:cols},rowConfig),data,context,0,discovery.view.listLimit(limit,25),moreEl);});}},{}],57:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _default(discovery){discovery.view.define('tabs',function(el,config,data,context){function renderContent(value){var handler=inited?onChange:onInit;if(currentValue===value){return;}var renderContext=beforeTabs||afterTabs||content?_objectSpread({},context,_defineProperty({},name,value)):null;currentValue=value;inited=true;if(Array.isArray(tabs)){tabsEl.innerHTML='';if(beforeTabs){beforeTabsEl.innerHTML='';discovery.view.render(beforeTabsEl,beforeTabs,data,renderContext);tabsEl.appendChild(beforeTabsEl);}tabs.forEach(function(tab){return discovery.view.render(tabsEl,discovery.view.composeConfig({view:'tab',active:tab.value===currentValue,content:tab.content,onClick:renderContent},tabConfig),tab,context);});if(afterTabs){afterTabsEl.innerHTML='';discovery.view.render(afterTabsEl,afterTabs,data,renderContext);tabsEl.appendChild(afterTabsEl);}}if(content){contentEl.innerHTML='';discovery.view.render(contentEl,content,data,renderContext);}if(typeof handler==='function'){handler(currentValue,name);}}var content=config.content,beforeTabs=config.beforeTabs,afterTabs=config.afterTabs,tabConfig=config.tabConfig,onInit=config.onInit,onChange=config.onChange;var name=config.name,tabs=config.tabs;var tabsEl=el.appendChild(document.createElement('div'));var contentEl=null;var beforeTabsEl=null;var afterTabsEl=null;var inited=false;var currentValue=NaN;var initValue='value'in config?config.value:name in context?context[name]:undefined;tabsEl.className='view-tabs-buttons';if(beforeTabs){beforeTabsEl=document.createElement('div');beforeTabsEl.className='view-tabs-buttons-before';}if(afterTabs){afterTabsEl=document.createElement('div');afterTabsEl.className='view-tabs-buttons-after';}if(content){contentEl=el.appendChild(document.createElement('div'));contentEl.className='view-tabs-content';}if(typeof name!=='string'){name='filter';}if(Array.isArray(tabs)){tabs=tabs.map(function(tab){var type=_typeof(tab);if(type==='string'||type==='number'||type==='boolean'){tab={value:tab};}if(initValue===undefined||tab.active){initValue=tab.value;}return tab;});}else{tabs=[];}renderContent(initValue);});}},{}],58:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;var toString=Object.prototype.toString;function _default(discovery){var matchWrapperEl=document.createElement('span');matchWrapperEl.className='view-text-match';discovery.view.define('text-match',function(el,config,data){var text=data.text,match=data.match;var parts=toString.call(match)==='[object RegExp]'?String(text).split(match):[String(text)];parts.forEach(function(text,idx){if(text!==''){var container=el;if(idx%2){container=container.appendChild(matchWrapperEl.cloneNode());}container.appendChild(document.createTextNode(text));}});},{tag:false});}},{}],59:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('text',function(el,config,data){el.appendChild(document.createTextNode(String(data)));},{tag:false});}},{}],60:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){discovery.view.define('toc-section',function(el,config,data,context){var header=config.header,content=config.content;discovery.view.render(el,[{view:'block',className:'header',content:header},{view:'block',className:'content',content:content}],data,context);},{tag:'section'});}},{}],61:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;var _dom=require("../core/utils/dom.js");function _default(discovery){var elementToData=new WeakMap();var clickHandler=function clickHandler(_ref){var target=_ref.target;var toggleEl=target.closest('.view-tree-leaf-toggle');if(toggleEl){var state=elementToData.get(toggleEl);var expanded=!toggleEl.parentNode.classList.toggle('collapsed');if(typeof state.render==='function'){state.render();}if(typeof state.onToggle==='function'){state.onToggle(expanded,toggleEl.parentNode,state.data,state.context);}}};document.addEventListener('click',clickHandler,false);discovery.view.define('tree-leaf',function(el,config,data,context){var _this=this;var expanded=config.expanded,content=config.content,itemConfig=config.itemConfig,_config$collapsible=config.collapsible,collapsible=_config$collapsible===void 0?true:_config$collapsible,last=config.last,hasChildren=config.hasChildren,children=config.children,limit=config.limit,onToggle=config.onToggle;var toggleEl=el.appendChild((0,_dom.createElement)('span','view-tree-leaf-toggle'));var contentEl=el.appendChild((0,_dom.createElement)('span','view-tree-leaf-content'));var childrenData=null;var hasChildrenEl=hasChildren;if(last){el.classList.add('last');}if(!collapsible){el.classList.add('non-collapsible');}this.render(contentEl,content,data,context);if(children){childrenData=discovery.query(children,data,context);hasChildrenEl=Array.isArray(childrenData)&&childrenData.length>0;}if(hasChildrenEl){var childrenEl=el.appendChild((0,_dom.createElement)('ul','view-tree-leaf-children'));var state={data:data,context:context,onToggle:onToggle,render:null};var renderChildren=function renderChildren(data,expanded){if(typeof expanded==='number'){expanded--;}_this.renderList(childrenEl,_this.composeConfig({view:'tree-leaf',expanded:expanded,itemConfig:itemConfig,content:content,collapsible:collapsible,children:children,limit:limit,onToggle:onToggle},itemConfig),data,context,0,_this.listLimit(limit,25));};el.classList.add('has-children');elementToData.set(toggleEl,state);if(typeof expanded==='function'?expanded(data,context):expanded){if(childrenData){renderChildren(childrenData,expanded);}}else{el.classList.add('collapsed');if(childrenData){state.render=function(){state.render=null;renderChildren(childrenData,expanded||1);};}}}},{tag:'li'});}},{"../core/utils/dom.js":10}],62:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _default(discovery){function renderTreeLines(container,renderElStack,leafBaseConfig,data,context,offset,limit){if(limit===false){limit=data.length;}data.slice(offset,offset+limit).reduce(function(pipeline,entry){return pipeline.then(function(){var targetContainer=renderElStack[0];return discovery.view.render(targetContainer,_objectSpread({},leafBaseConfig,{expanded:entry.expanded,last:entry.last,hasChildren:entry.hasChildren,children:entry.children}),entry.data,context).then(function(){if(entry.expanded&&entry.hasChildren){var _container=targetContainer.lastChild.querySelector('.view-tree-leaf-children');_container.classList.add('incomplete');renderElStack.unshift(_container);}else{while(entry.shift--){renderElStack.shift().classList.remove('incomplete');}}});});},Promise.resolve()).then(function(){return discovery.view.maybeMoreButtons(container,null,data.length,offset+limit,limit,function(offset,limit){return renderTreeLines(container,renderElStack,leafBaseConfig,data,context,offset,limit);});});}function buildTreeLines(data,context,childrenGetter,expanded){function processChildren(array,expanded){var popCount=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;array.forEach(function(data,index,array){var children=discovery.query(childrenGetter,data,context);var hasChildren=Array.isArray(children)&&children.length>0;var last=index===array.length-1;var leafExpanded=visited.has(data)?0:typeof expanded==='function'?expanded(data,context):expanded;visited.add(data);leafs.push({data:data,expanded:leafExpanded,last:last,hasChildren:hasChildren,children:leafExpanded?null:childrenGetter,shift:last&&(!leafExpanded||!hasChildren)?popCount+1:0});if(hasChildren&&leafExpanded){processChildren(children,typeof expanded==='number'?expanded-1:expanded,last?popCount+1:0);}});}var leafs=[];var visited=new Set();processChildren(data,expanded);return leafs;}discovery.view.define('tree',function render(el,config,data,context){var children=config.children,_config$item=config.item,item=_config$item===void 0?'text':_config$item,itemConfig=config.itemConfig,collapsible=config.collapsible,emptyText=config.emptyText,onToggle=config.onToggle;var expanded=config.expanded,limit=config.limit,_config$limitLines=config.limitLines,limitLines=_config$limitLines===void 0?true:_config$limitLines;if(emptyText!==false&&emptyText!==''){el.setAttribute('emptyText',emptyText||'Empty tree');}if(!Array.isArray(data)&&data){data=[data];}if(Array.isArray(data)){limit=discovery.view.listLimit(limit,25);limitLines=discovery.view.listLimit(limitLines,25);expanded=typeof expanded==='function'?expanded:discovery.view.listLimit(expanded,1);if(limitLines){var lines=buildTreeLines(data,context,children,expanded);var leafBaseConfig=this.composeConfig({view:'tree-leaf',itemConfig:itemConfig,content:item,collapsible:collapsible,onToggle:onToggle},itemConfig);renderTreeLines(el,[el],leafBaseConfig,lines,context,0,limitLines);}else{this.renderList(el,this.composeConfig({view:'tree-leaf',itemConfig:itemConfig,content:item,collapsible:collapsible,expanded:expanded,children:children,limit:limit,onToggle:onToggle},itemConfig),data,context,0,limit);}}},{tag:'ul'});}},{}],63:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _emitter=_interopRequireDefault(require("../core/emitter.js"));var _view=_interopRequireDefault(require("../core/view.js"));var _preset=_interopRequireDefault(require("../core/preset.js"));var _page=_interopRequireDefault(require("../core/page.js"));var views=_interopRequireWildcard(require("../views/index.js"));var pages=_interopRequireWildcard(require("../pages/index.js"));var _dom=require("../core/utils/dom.js");var _jora=_interopRequireDefault(require("/gen/jora.js"));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}}newObj["default"]=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}var lastSetDataPromise=new WeakMap();var lastQuerySuggestionsStat=new WeakMap();var renderScheduler=new WeakMap();function defaultEncodeParams(params){return new URLSearchParams(params).toString();}function defaultDecodeParams(value){return value;}function getPageMethod(instance,pageId,name,fallback){var page=instance.page.get(pageId);return page&&typeof page.options[name]==='function'?page.options[name]:fallback;}function extractValueLinkResolver(host,pageId){var resolveLink=host.page.get(pageId).options.resolveLink;if(!resolveLink){return;}switch(_typeof(resolveLink)){case'string':var _resolveLink$split=resolveLink.split(':'),_resolveLink$split2=_slicedToArray(_resolveLink$split,2),type=_resolveLink$split2[0],_resolveLink$split2$=_resolveLink$split2[1],ref=_resolveLink$split2$===void 0?'id':_resolveLink$split2$;return function(entity){if(entity&&entity.type===type){return{type:pageId,text:entity.name,href:host.encodePageHash(pageId,entity[ref])};}};case'function':return function(entity,value,data,context){if(!value){return;}var link=resolveLink(entity,value,data,context);if(link){return{type:pageId,text:typeof link==='string'?link:pageId,href:host.encodePageHash(pageId,link)};}};default:console.warn("[Discovery] Page '".concat(pageId,"' has a bad value for resolveLink:"),resolveLink);}}function _apply(fn,host){if(typeof fn==='function'){fn.call(window,host);}}function equal(a,b){if(a===b){return true;}for(var key in a){if(hasOwnProperty.call(a,key)){if(!hasOwnProperty.call(b,key)||a[key]!==b[key]){return false;}}}for(var _key in b){if(hasOwnProperty.call(b,_key)){if(!hasOwnProperty.call(a,_key)||a[_key]!==b[_key]){return false;}}}return true;}function fuzzyStringCmp(a,b){var startChar=a[0];var lastChar=a[a.length-1];var start=startChar==='"'||startChar==="'"?1:0;var end=lastChar==='"'||lastChar==="'"?1:0;return b.toLowerCase().indexOf(a.toLowerCase().substring(start,a.length-end),b[0]==='"'||b[0]==="'")!==-1;}var Widget=function(_Emitter){_inherits(Widget,_Emitter);function Widget(container,options){var _this;_classCallCheck(this,Widget);_this=_possibleConstructorReturn(this,_getPrototypeOf(Widget).call(this));_this.options=options||{};_this.view=new _view["default"](_assertThisInitialized(_this));_this.preset=new _preset["default"](_this.view);_this.page=new _page["default"](_this.view);_this.page.on('define',function(name){return _this.addValueLinkResolver(extractValueLinkResolver(_assertThisInitialized(_this),name));});_this.entityResolvers=[];_this.linkResolvers=[];_this.prepare=function(data){return data;};_this.defaultPageId=_this.options.defaultPageId||'default';_this.pageId=_this.defaultPageId;_this.pageRef=null;_this.pageParams={};_this.pageHash=_this.encodePageHash(_this.pageId,_this.pageRef,_this.pageParams);_this.scheduledRenderPage=null;_this.badges=[];_this.dom={};_this.queryExtensions={query:function query(){var _this2;return(_this2=_this).query.apply(_this2,arguments);},pageLink:function pageLink(pageRef,pageId,pageParams){return _this.encodePageHash(pageId,pageRef,pageParams);}};_this.apply(views);_this.apply(pages);_this.setContainer(container);return _this;}_createClass(Widget,[{key:"apply",value:function apply(extensions){var _this3=this;if(Array.isArray(extensions)){extensions.forEach(function(extension){return _apply(extension,_this3);});}else if(typeof extensions==='function'){_apply(extensions,this);}else if(extensions){this.apply(Object.values(extensions));}else{console.error('Bad type of extension:',extensions);}}},{key:"setPrepare",value:function setPrepare(fn){if(typeof fn!=='function'){throw new Error('An argument should be a function');}this.prepare=fn;}},{key:"setData",value:function setData(data){var _this4=this;var context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var setDataPromise=Promise.resolve(this.prepare(data,function(value){return data=value;})).then(function(){var lastPromise=lastSetDataPromise.get(_this4);if(lastPromise!==setDataPromise){throw new Error('Prevented by another setData()');}_this4.data=data;_this4.context=context;_this4.emit('data');});lastSetDataPromise.set(this,setDataPromise);setDataPromise.then(function(){_this4.scheduleRender('sidebar');_this4.scheduleRender('page');});return setDataPromise;}},{key:"addEntityResolver",value:function addEntityResolver(fn){this.entityResolvers.push(fn);}},{key:"resolveEntity",value:function resolveEntity(value){for(var i=0;i<this.entityResolvers.length;i++){var entity=this.entityResolvers[i](value);if(entity){return entity;}}}},{key:"addValueLinkResolver",value:function addValueLinkResolver(resolver){if(typeof resolver==='function'){this.linkResolvers.push(resolver);}}},{key:"resolveValueLinks",value:function resolveValueLinks(value){var result=[];var type=_typeof(value);if(value&&(type==='object'||type==='string')){var entity=this.resolveEntity(value);for(var i=0;i<this.linkResolvers.length;i++){var link=this.linkResolvers[i](entity,value,this.data,this.context);if(link){result.push(link);}}}return result.length?result:null;}},{key:"query",value:function query(_query,data,context){switch(_typeof(_query)){case'function':return _query(data,context);case'string':return(0,_jora["default"])(_query,{methods:this.queryExtensions})(data,context);default:return _query;}}},{key:"queryBool",value:function queryBool(){try{return _jora["default"].buildin.bool(this.query.apply(this,arguments));}catch(e){return false;}}},{key:"querySuggestions",value:function querySuggestions(query,offset,data,context){var typeOrder=['property','value','method'];var suggestions;try{var stat=lastQuerySuggestionsStat.get(this);if(!stat||stat.query!==query||stat.data!==data||stat.context!==context){var options={methods:this.queryExtensions,tolerant:true,stat:true};lastQuerySuggestionsStat.set(this,stat=Object.assign((0,_jora["default"])(query,options)(data,context),{query:query,data:data,context:context}));}suggestions=stat.suggestion(offset);if(suggestions){return suggestions.filter(function(item){return item.value!==item.current&&fuzzyStringCmp(item.current,item.value);}).sort(function(a,b){var at=typeOrder.indexOf(a.type);var bt=typeOrder.indexOf(b.type);return at-bt||(a.value<b.value?-1:1);});}}catch(e){console.error(e);return;}}},{key:"getQueryEngineInfo",value:function getQueryEngineInfo(){return{name:'jora',version:_jora["default"].version,link:'https://github.com/lahmatiy/jora'};}},{key:"addQueryHelpers",value:function addQueryHelpers(extensions){Object.assign(this.queryExtensions,extensions);}},{key:"setContainer",value:function setContainer(container){var _this5=this;var containerEl=container||null;if(containerEl){this.dom.container=containerEl;containerEl.classList.add('discovery');containerEl.appendChild(this.dom.sidebar=(0,_dom.createElement)('nav','discovery-sidebar'));containerEl.appendChild((0,_dom.createElement)('main','discovery-content',[this.dom.badges=(0,_dom.createElement)('div','discovery-content-badges'),this.dom.pageContent=(0,_dom.createElement)('article')]));this.badges.forEach(function(badge){return _this5.dom.badges.appendChild(badge.el);});}else{for(var key in this.dom){this.dom[key]=null;}}}},{key:"addBadge",value:function addBadge(caption,action,visible){var badge={el:document.createElement('div'),visible:typeof visible==='function'?visible:function(){return true;}};badge.el.className='badge';badge.el.addEventListener('click',action);badge.el.hidden=!badge.visible(this);if(typeof caption==='function'){caption(badge.el);}else{badge.el.innerHTML=caption;}if(this.dom.badges){this.dom.badges.appendChild(badge.el);}this.badges.push(badge);return badge;}},{key:"scheduleRender",value:function scheduleRender(subject){var _this6=this;if(!renderScheduler.has(this)){var subjects=new Set();renderScheduler.set(this,subjects);Promise.resolve().then(function(){renderScheduler["delete"](_this6);if(subjects.has('sidebar')){_this6.renderSidebar();}if(subjects.has('page')){_this6.renderPage();}});}renderScheduler.get(this).add(subject);}},{key:"cancelScheduledRender",value:function cancelScheduledRender(subject){var sheduledRenders=renderScheduler.get(this);if(sheduledRenders){if(subject){sheduledRenders["delete"](subject);}else{sheduledRenders.clear();}}}},{key:"getRenderContext",value:function getRenderContext(){return _objectSpread({page:this.pageId,id:this.pageRef,params:this.pageParams},this.context);}},{key:"renderSidebar",value:function renderSidebar(){if(renderScheduler.has(this)){renderScheduler.get(this)["delete"]('sidebar');}if(this.view.isDefined('sidebar')){var renderStartTime=Date.now();this.dom.sidebar.innerHTML='';this.view.render(this.dom.sidebar,'sidebar',this.data,this.getRenderContext()).then(function(){return console.log("[Discovery] Sidebar rendered in ".concat(Date.now()-renderStartTime,"ms"));});}}},{key:"encodePageHash",value:function encodePageHash(pageId,pageRef,pageParams){var encodeParams=getPageMethod(this,pageId,'encodeParams',defaultEncodeParams);var encodedParams=encodeParams(pageParams||{});return"#".concat(pageId!==this.defaultPageId?pageId:'').concat(typeof pageRef==='string'&&pageRef||typeof pageRef==='number'?':'+pageRef:'').concat(encodedParams?'&'+encodedParams:'');}},{key:"decodePageHash",value:function decodePageHash(hash){var parts=hash.substr(1).split('&');var _split=(parts.shift()||'').split(':'),_split2=_slicedToArray(_split,2),pageId=_split2[0],pageRef=_split2[1];var decodeParams=getPageMethod(this,pageId||this.defaultPageId,'decodeParams',defaultDecodeParams);var pageParams=decodeParams(_toConsumableArray(new URLSearchParams(parts.join('&'))).reduce(function(map,_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];map[key]=value||true;return map;},{}));return{pageId:pageId||this.defaultPageId,pageRef:pageRef,pageParams:pageParams};}},{key:"getPageOption",value:function getPageOption(name,fallback){var page=this.page.get(this.pageId);return page&&name in page.options?page.options[name]:fallback;}},{key:"setPage",value:function setPage(pageId,pageRef,pageParams){var replace=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;return this.setPageHash(this.encodePageHash(pageId||this.defaultPageId,pageRef,pageParams),replace);}},{key:"setPageParams",value:function setPageParams(pageParams){var replace=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return this.setPageHash(this.encodePageHash(this.pageId,this.pageRef,pageParams),replace);}},{key:"setPageHash",value:function setPageHash(hash){var replace=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(hash!==this.pageHash){var _this$decodePageHash=this.decodePageHash(hash),pageId=_this$decodePageHash.pageId,pageRef=_this$decodePageHash.pageRef,pageParams=_this$decodePageHash.pageParams;var changed=this.pageId!==pageId||this.pageRef!==pageRef||!equal(this.pageParams,pageParams);this.pageHash=hash;if(changed){this.pageId=pageId;this.pageRef=pageRef;this.pageParams=pageParams;this.scheduleRender('page');this.emit('pageHashChange',replace);}return changed;}return false;}},{key:"renderPage",value:function renderPage(){var _this7=this;if(renderScheduler.has(this)){renderScheduler.get(this)["delete"]('page');}this.dom.pageContent=this.page.render(this.dom.pageContent,this.pageId,this.data,this.getRenderContext());this.badges.forEach(function(badge){return badge.el.hidden=!badge.visible(_this7);});if(this.pageParams.dzen){this.dom.container.dataset.dzen=true;}else{delete this.dom.container.dataset.dzen;}}}]);return Widget;}(_emitter["default"]);exports["default"]=Widget;},{"../core/emitter.js":3,"../core/page.js":4,"../core/preset.js":5,"../core/utils/dom.js":10,"../core/view.js":14,"../pages/index.js":17,"../views/index.js":38,"/gen/jora.js":68}],64:[function(require,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}var global={};var _module=undefined;var CodeMirror;var _define=function define(){var fn=arguments[arguments.length-1];CodeMirror=fn();_define=undefined;};_define.amd=true;(function(global,factory){(typeof exports==="undefined"?"undefined":_typeof(exports))==='object'&&typeof _module!=='undefined'?_module.exports=factory():typeof _define==='function'&&_define.amd?_define(factory):global.CodeMirror=factory();})(void 0,function(){'use strict';var userAgent=navigator.userAgent;var platform=navigator.platform;var gecko=/gecko\/\d/i.test(userAgent);var ie_upto10=/MSIE \d/.test(userAgent);var ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent);var edge=/Edge\/(\d+)/.exec(userAgent);var ie=ie_upto10||ie_11up||edge;var ie_version=ie&&(ie_upto10?document.documentMode||6:+(edge||ie_11up)[1]);var webkit=!edge&&/WebKit\//.test(userAgent);var qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(userAgent);var chrome=!edge&&/Chrome\//.test(userAgent);var presto=/Opera\//.test(userAgent);var safari=/Apple Computer/.test(navigator.vendor);var mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent);var phantom=/PhantomJS/.test(userAgent);var ios=!edge&&/AppleWebKit/.test(userAgent)&&/Mobile\/\w+/.test(userAgent);var android=/Android/.test(userAgent);var mobile=ios||android||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);var mac=ios||/Mac/.test(platform);var chromeOS=/\bCrOS\b/.test(userAgent);var windows=/win/i.test(platform);var presto_version=presto&&userAgent.match(/Version\/(\d*\.\d*)/);if(presto_version){presto_version=Number(presto_version[1]);}if(presto_version&&presto_version>=15){presto=false;webkit=true;}var flipCtrlCmd=mac&&(qtwebkit||presto&&(presto_version==null||presto_version<12.11));var captureRightClick=gecko||ie&&ie_version>=9;function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*");}var rmClass=function rmClass(node,cls){var current=node.className;var match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:"");}};function removeChildren(e){for(var count=e.childNodes.length;count>0;--count){e.removeChild(e.firstChild);}return e;}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e);}function elt(tag,content,className,style){var e=document.createElement(tag);if(className){e.className=className;}if(style){e.style.cssText=style;}if(typeof content=="string"){e.appendChild(document.createTextNode(content));}else if(content){for(var i=0;i<content.length;++i){e.appendChild(content[i]);}}return e;}function eltP(tag,content,className,style){var e=elt(tag,content,className,style);e.setAttribute("role","presentation");return e;}var range;if(document.createRange){range=function range(node,start,end,endNode){var r=document.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r;};}else{range=function range(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode);}catch(e){return r;}r.collapse(true);r.moveEnd("character",end);r.moveStart("character",start);return r;};}function contains(parent,child){if(child.nodeType==3){child=child.parentNode;}if(parent.contains){return parent.contains(child);}do{if(child.nodeType==11){child=child.host;}if(child==parent){return true;}}while(child=child.parentNode);}function activeElt(){var activeElement;try{activeElement=document.activeElement;}catch(e){activeElement=document.body||null;}while(activeElement&&activeElement.shadowRoot&&activeElement.shadowRoot.activeElement){activeElement=activeElement.shadowRoot.activeElement;}return activeElement;}function addClass(node,cls){var current=node.className;if(!classTest(cls).test(current)){node.className+=(current?" ":"")+cls;}}function joinClasses(a,b){var as=a.split(" ");for(var i=0;i<as.length;i++){if(as[i]&&!classTest(as[i]).test(b)){b+=" "+as[i];}}return b;}var selectInput=function selectInput(node){node.select();};if(ios){selectInput=function selectInput(node){node.selectionStart=0;node.selectionEnd=node.value.length;};}else if(ie){selectInput=function selectInput(node){try{node.select();}catch(_e){}};}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args);};}function copyObj(obj,target,overwrite){if(!target){target={};}for(var prop in obj){if(obj.hasOwnProperty(prop)&&(overwrite!==false||!target.hasOwnProperty(prop))){target[prop]=obj[prop];}}return target;}function countColumn(string,end,tabSize,startIndex,startValue){if(end==null){end=string.search(/[^\s\u00a0]/);if(end==-1){end=string.length;}}for(var i=startIndex||0,n=startValue||0;;){var nextTab=string.indexOf("\t",i);if(nextTab<0||nextTab>=end){return n+(end-i);}n+=nextTab-i;n+=tabSize-n%tabSize;i=nextTab+1;}}var Delayed=function Delayed(){this.id=null;};Delayed.prototype.set=function(ms,f){clearTimeout(this.id);this.id=setTimeout(f,ms);};function indexOf(array,elt){for(var i=0;i<array.length;++i){if(array[i]==elt){return i;}}return-1;}var scrollerGap=30;var Pass={toString:function toString(){return"CodeMirror.Pass";}};var sel_dontScroll={scroll:false},sel_mouse={origin:"*mouse"},sel_move={origin:"+move"};function findColumn(string,goal,tabSize){for(var pos=0,col=0;;){var nextTab=string.indexOf("\t",pos);if(nextTab==-1){nextTab=string.length;}var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal){return pos+Math.min(skipped,goal-col);}col+=nextTab-pos;col+=tabSize-col%tabSize;pos=nextTab+1;if(col>=goal){return pos;}}}var spaceStrs=[""];function spaceStr(n){while(spaceStrs.length<=n){spaceStrs.push(lst(spaceStrs)+" ");}return spaceStrs[n];}function lst(arr){return arr[arr.length-1];}function map(array,f){var out=[];for(var i=0;i<array.length;i++){out[i]=f(array[i],i);}return out;}function insertSorted(array,value,score){var pos=0,priority=score(value);while(pos<array.length&&score(array[pos])<=priority){pos++;}array.splice(pos,0,value);}function nothing(){}function createObj(base,props){var inst;if(Object.create){inst=Object.create(base);}else{nothing.prototype=base;inst=new nothing();}if(props){copyObj(props,inst);}return inst;}var nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function isWordCharBasic(ch){return /\w/.test(ch)||ch>"\x80"&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch));}function isWordChar(ch,helper){if(!helper){return isWordCharBasic(ch);}if(helper.source.indexOf("\\w")>-1&&isWordCharBasic(ch)){return true;}return helper.test(ch);}function isEmpty(obj){for(var n in obj){if(obj.hasOwnProperty(n)&&obj[n]){return false;}}return true;}var extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch);}function skipExtendingChars(str,pos,dir){while((dir<0?pos>0:pos<str.length)&&isExtendingChar(str.charAt(pos))){pos+=dir;}return pos;}function findFirst(pred,from,to){var dir=from>to?-1:1;for(;;){if(from==to){return from;}var midF=(from+to)/2,mid=dir<0?Math.ceil(midF):Math.floor(midF);if(mid==from){return pred(mid)?from:to;}if(pred(mid)){to=mid;}else{from=mid+dir;}}}function iterateBidiSections(order,from,to,f){if(!order){return f(from,to,"ltr",0);}var found=false;for(var i=0;i<order.length;++i){var part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(Math.max(part.from,from),Math.min(part.to,to),part.level==1?"rtl":"ltr",i);found=true;}}if(!found){f(from,to,"ltr");}}var bidiOther=null;function getBidiPartAt(order,ch,sticky){var found;bidiOther=null;for(var i=0;i<order.length;++i){var cur=order[i];if(cur.from<ch&&cur.to>ch){return i;}if(cur.to==ch){if(cur.from!=cur.to&&sticky=="before"){found=i;}else{bidiOther=i;}}if(cur.from==ch){if(cur.from!=cur.to&&sticky!="before"){found=i;}else{bidiOther=i;}}}return found!=null?found:bidiOther;}var bidiOrdering=function(){var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var arabicTypes="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function charType(code){if(code<=0xf7){return lowTypes.charAt(code);}else if(0x590<=code&&code<=0x5f4){return"R";}else if(0x600<=code&&code<=0x6f9){return arabicTypes.charAt(code-0x600);}else if(0x6ee<=code&&code<=0x8ac){return"r";}else if(0x2000<=code&&code<=0x200b){return"w";}else if(code==0x200c){return"b";}else{return"L";}}var bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;function BidiSpan(level,from,to){this.level=level;this.from=from;this.to=to;}return function(str,direction){var outerType=direction=="ltr"?"L":"R";if(str.length==0||direction=="ltr"&&!bidiRE.test(str)){return false;}var len=str.length,types=[];for(var i=0;i<len;++i){types.push(charType(str.charCodeAt(i)));}for(var i$1=0,prev=outerType;i$1<len;++i$1){var type=types[i$1];if(type=="m"){types[i$1]=prev;}else{prev=type;}}for(var i$2=0,cur=outerType;i$2<len;++i$2){var type$1=types[i$2];if(type$1=="1"&&cur=="r"){types[i$2]="n";}else if(isStrong.test(type$1)){cur=type$1;if(type$1=="r"){types[i$2]="R";}}}for(var i$3=1,prev$1=types[0];i$3<len-1;++i$3){var type$2=types[i$3];if(type$2=="+"&&prev$1=="1"&&types[i$3+1]=="1"){types[i$3]="1";}else if(type$2==","&&prev$1==types[i$3+1]&&(prev$1=="1"||prev$1=="n")){types[i$3]=prev$1;}prev$1=type$2;}for(var i$4=0;i$4<len;++i$4){var type$3=types[i$4];if(type$3==","){types[i$4]="N";}else if(type$3=="%"){var end=void 0;for(end=i$4+1;end<len&&types[end]=="%";++end){}var replace=i$4&&types[i$4-1]=="!"||end<len&&types[end]=="1"?"1":"N";for(var j=i$4;j<end;++j){types[j]=replace;}i$4=end-1;}}for(var i$5=0,cur$1=outerType;i$5<len;++i$5){var type$4=types[i$5];if(cur$1=="L"&&type$4=="1"){types[i$5]="L";}else if(isStrong.test(type$4)){cur$1=type$4;}}for(var i$6=0;i$6<len;++i$6){if(isNeutral.test(types[i$6])){var end$1=void 0;for(end$1=i$6+1;end$1<len&&isNeutral.test(types[end$1]);++end$1){}var before=(i$6?types[i$6-1]:outerType)=="L";var after=(end$1<len?types[end$1]:outerType)=="L";var replace$1=before==after?before?"L":"R":outerType;for(var j$1=i$6;j$1<end$1;++j$1){types[j$1]=replace$1;}i$6=end$1-1;}}var order=[],m;for(var i$7=0;i$7<len;){if(countsAsLeft.test(types[i$7])){var start=i$7;for(++i$7;i$7<len&&countsAsLeft.test(types[i$7]);++i$7){}order.push(new BidiSpan(0,start,i$7));}else{var pos=i$7,at=order.length;for(++i$7;i$7<len&&types[i$7]!="L";++i$7){}for(var j$2=pos;j$2<i$7;){if(countsAsNum.test(types[j$2])){if(pos<j$2){order.splice(at,0,new BidiSpan(1,pos,j$2));}var nstart=j$2;for(++j$2;j$2<i$7&&countsAsNum.test(types[j$2]);++j$2){}order.splice(at,0,new BidiSpan(2,nstart,j$2));pos=j$2;}else{++j$2;}}if(pos<i$7){order.splice(at,0,new BidiSpan(1,pos,i$7));}}}if(direction=="ltr"){if(order[0].level==1&&(m=str.match(/^\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length));}if(lst(order).level==1&&(m=str.match(/\s+$/))){lst(order).to-=m[0].length;order.push(new BidiSpan(0,len-m[0].length,len));}}return direction=="rtl"?order.reverse():order;};}();function getOrder(line,direction){var order=line.order;if(order==null){order=line.order=bidiOrdering(line.text,direction);}return order;}var noHandlers=[];var on=function on(emitter,type,f){if(emitter.addEventListener){emitter.addEventListener(type,f,false);}else if(emitter.attachEvent){emitter.attachEvent("on"+type,f);}else{var map$$1=emitter._handlers||(emitter._handlers={});map$$1[type]=(map$$1[type]||noHandlers).concat(f);}};function getHandlers(emitter,type){return emitter._handlers&&emitter._handlers[type]||noHandlers;}function off(emitter,type,f){if(emitter.removeEventListener){emitter.removeEventListener(type,f,false);}else if(emitter.detachEvent){emitter.detachEvent("on"+type,f);}else{var map$$1=emitter._handlers,arr=map$$1&&map$$1[type];if(arr){var index=indexOf(arr,f);if(index>-1){map$$1[type]=arr.slice(0,index).concat(arr.slice(index+1));}}}}function signal(emitter,type){var handlers=getHandlers(emitter,type);if(!handlers.length){return;}var args=Array.prototype.slice.call(arguments,2);for(var i=0;i<handlers.length;++i){handlers[i].apply(null,args);}}function signalDOMEvent(cm,e,override){if(typeof e=="string"){e={type:e,preventDefault:function preventDefault(){this.defaultPrevented=true;}};}signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore;}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(!arr){return;}var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]);for(var i=0;i<arr.length;++i){if(indexOf(set,arr[i])==-1){set.push(arr[i]);}}}function hasHandler(emitter,type){return getHandlers(emitter,type).length>0;}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f);};ctor.prototype.off=function(type,f){off(this,type,f);};}function e_preventDefault(e){if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}}function e_stopPropagation(e){if(e.stopPropagation){e.stopPropagation();}else{e.cancelBubble=true;}}function e_defaultPrevented(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false;}function e_stop(e){e_preventDefault(e);e_stopPropagation(e);}function e_target(e){return e.target||e.srcElement;}function e_button(e){var b=e.which;if(b==null){if(e.button&1){b=1;}else if(e.button&2){b=3;}else if(e.button&4){b=2;}}if(mac&&e.ctrlKey&&b==1){b=3;}return b;}var dragAndDrop=function(){if(ie&&ie_version<9){return false;}var div=elt('div');return"draggable"in div||"dragDrop"in div;}();var zwspSupported;function zeroWidthElement(measure){if(zwspSupported==null){var test=elt("span","\u200B");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")]));if(measure.firstChild.offsetHeight!=0){zwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!(ie&&ie_version<8);}}var node=zwspSupported?elt("span","\u200B"):elt("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");node.setAttribute("cm-text","");return node;}var badBidiRects;function hasBadBidiRects(measure){if(badBidiRects!=null){return badBidiRects;}var txt=removeChildrenAndAdd(measure,document.createTextNode("A\u062EA"));var r0=range(txt,0,1).getBoundingClientRect();var r1=range(txt,1,2).getBoundingClientRect();removeChildren(measure);if(!r0||r0.left==r0.right){return false;}return badBidiRects=r1.right-r0.right<3;}var splitLinesAuto="\n\nb".split(/\n/).length!=3?function(string){var pos=0,result=[],l=string.length;while(pos<=l){var nl=string.indexOf("\n",pos);if(nl==-1){nl=string.length;}var line=string.slice(pos,string.charAt(nl-1)=="\r"?nl-1:nl);var rt=line.indexOf("\r");if(rt!=-1){result.push(line.slice(0,rt));pos+=rt+1;}else{result.push(line);pos=nl+1;}}return result;}:function(string){return string.split(/\r\n?|\n/);};var hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd;}catch(e){return false;}}:function(te){var range$$1;try{range$$1=te.ownerDocument.selection.createRange();}catch(e){}if(!range$$1||range$$1.parentElement()!=te){return false;}return range$$1.compareEndPoints("StartToEnd",range$$1)!=0;};var hasCopyEvent=function(){var e=elt("div");if("oncopy"in e){return true;}e.setAttribute("oncopy","return;");return typeof e.oncopy=="function";}();var badZoomedRects=null;function hasBadZoomedRects(measure){if(badZoomedRects!=null){return badZoomedRects;}var node=removeChildrenAndAdd(measure,elt("span","x"));var normal=node.getBoundingClientRect();var fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1;}var modes={},mimeModes={};function defineMode(name,mode){if(arguments.length>2){mode.dependencies=Array.prototype.slice.call(arguments,2);}modes[name]=mode;}function defineMIME(mime,spec){mimeModes[mime]=spec;}function resolveMode(spec){if(typeof spec=="string"&&mimeModes.hasOwnProperty(spec)){spec=mimeModes[spec];}else if(spec&&typeof spec.name=="string"&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if(typeof found=="string"){found={name:found};}spec=createObj(found,spec);spec.name=found.name;}else if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec)){return resolveMode("application/xml");}else if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(spec)){return resolveMode("application/json");}if(typeof spec=="string"){return{name:spec};}else{return spec||{name:"null"};}}function getMode(options,spec){spec=resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory){return getMode(options,"text/plain");}var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts){if(!exts.hasOwnProperty(prop)){continue;}if(modeObj.hasOwnProperty(prop)){modeObj["_"+prop]=modeObj[prop];}modeObj[prop]=exts[prop];}}modeObj.name=spec.name;if(spec.helperType){modeObj.helperType=spec.helperType;}if(spec.modeProps){for(var prop$1 in spec.modeProps){modeObj[prop$1]=spec.modeProps[prop$1];}}return modeObj;}var modeExtensions={};function extendMode(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts);}function copyState(mode,state){if(state===true){return state;}if(mode.copyState){return mode.copyState(state);}var nstate={};for(var n in state){var val=state[n];if(val instanceof Array){val=val.concat([]);}nstate[n]=val;}return nstate;}function innerMode(mode,state){var info;while(mode.innerMode){info=mode.innerMode(state);if(!info||info.mode==mode){break;}state=info.state;mode=info.mode;}return info||{mode:mode,state:state};}function startState(mode,a1,a2){return mode.startState?mode.startState(a1,a2):true;}var StringStream=function StringStream(string,tabSize,lineOracle){this.pos=this.start=0;this.string=string;this.tabSize=tabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;this.lineOracle=lineOracle;};StringStream.prototype.eol=function(){return this.pos>=this.string.length;};StringStream.prototype.sol=function(){return this.pos==this.lineStart;};StringStream.prototype.peek=function(){return this.string.charAt(this.pos)||undefined;};StringStream.prototype.next=function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++);}};StringStream.prototype.eat=function(match){var ch=this.string.charAt(this.pos);var ok;if(typeof match=="string"){ok=ch==match;}else{ok=ch&&(match.test?match.test(ch):match(ch));}if(ok){++this.pos;return ch;}};StringStream.prototype.eatWhile=function(match){var start=this.pos;while(this.eat(match)){}return this.pos>start;};StringStream.prototype.eatSpace=function(){var this$1=this;var start=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this$1.pos;}return this.pos>start;};StringStream.prototype.skipToEnd=function(){this.pos=this.string.length;};StringStream.prototype.skipTo=function(ch){var found=this.string.indexOf(ch,this.pos);if(found>-1){this.pos=found;return true;}};StringStream.prototype.backUp=function(n){this.pos-=n;};StringStream.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start;}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0);};StringStream.prototype.indentation=function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0);};StringStream.prototype.match=function(pattern,consume,caseInsensitive){if(typeof pattern=="string"){var cased=function cased(str){return caseInsensitive?str.toLowerCase():str;};var substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(consume!==false){this.pos+=pattern.length;}return true;}}else{var match=this.string.slice(this.pos).match(pattern);if(match&&match.index>0){return null;}if(match&&consume!==false){this.pos+=match[0].length;}return match;}};StringStream.prototype.current=function(){return this.string.slice(this.start,this.pos);};StringStream.prototype.hideFirstChars=function(n,inner){this.lineStart+=n;try{return inner();}finally{this.lineStart-=n;}};StringStream.prototype.lookAhead=function(n){var oracle=this.lineOracle;return oracle&&oracle.lookAhead(n);};StringStream.prototype.baseToken=function(){var oracle=this.lineOracle;return oracle&&oracle.baseToken(this.pos);};function getLine(doc,n){n-=doc.first;if(n<0||n>=doc.size){throw new Error("There is no line "+(n+doc.first)+" in the document.");}var chunk=doc;while(!chunk.lines){for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break;}n-=sz;}}return chunk.lines[n];}function getBetween(doc,start,end){var out=[],n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line){text=text.slice(0,end.ch);}if(n==start.line){text=text.slice(start.ch);}out.push(text);++n;});return out;}function getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text);});return out;}function updateLineHeight(line,height){var diff=height-line.height;if(diff){for(var n=line;n;n=n.parent){n.height+=diff;}}}function lineNo(line){if(line.parent==null){return null;}var cur=line.parent,no=indexOf(cur.lines,line);for(var chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent){for(var i=0;;++i){if(chunk.children[i]==cur){break;}no+=chunk.children[i].chunkSize();}}return no+cur.first;}function _lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i$1=0;i$1<chunk.children.length;++i$1){var child=chunk.children[i$1],ch=child.height;if(h<ch){chunk=child;continue outer;}h-=ch;n+=child.chunkSize();}return n;}while(!chunk.lines);var i=0;for(;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh){break;}h-=lh;}return n+i;}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size;}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber));}function Pos(line,ch,sticky){if(sticky===void 0)sticky=null;if(!(this instanceof Pos)){return new Pos(line,ch,sticky);}this.line=line;this.ch=ch;this.sticky=sticky;}function cmp(a,b){return a.line-b.line||a.ch-b.ch;}function equalCursorPos(a,b){return a.sticky==b.sticky&&cmp(a,b)==0;}function copyPos(x){return Pos(x.line,x.ch);}function maxPos(a,b){return cmp(a,b)<0?b:a;}function minPos(a,b){return cmp(a,b)<0?a:b;}function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1));}function _clipPos(doc,pos){if(pos.line<doc.first){return Pos(doc.first,0);}var last=doc.first+doc.size-1;if(pos.line>last){return Pos(last,getLine(doc,last).text.length);}return clipToLen(pos,getLine(doc,pos.line).text.length);}function clipToLen(pos,linelen){var ch=pos.ch;if(ch==null||ch>linelen){return Pos(pos.line,linelen);}else if(ch<0){return Pos(pos.line,0);}else{return pos;}}function clipPosArray(doc,array){var out=[];for(var i=0;i<array.length;i++){out[i]=_clipPos(doc,array[i]);}return out;}var SavedContext=function SavedContext(state,lookAhead){this.state=state;this.lookAhead=lookAhead;};var Context=function Context(doc,state,line,lookAhead){this.state=state;this.doc=doc;this.line=line;this.maxLookAhead=lookAhead||0;this.baseTokens=null;this.baseTokenPos=1;};Context.prototype.lookAhead=function(n){var line=this.doc.getLine(this.line+n);if(line!=null&&n>this.maxLookAhead){this.maxLookAhead=n;}return line;};Context.prototype.baseToken=function(n){var this$1=this;if(!this.baseTokens){return null;}while(this.baseTokens[this.baseTokenPos]<=n){this$1.baseTokenPos+=2;}var type=this.baseTokens[this.baseTokenPos+1];return{type:type&&type.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n};};Context.prototype.nextLine=function(){this.line++;if(this.maxLookAhead>0){this.maxLookAhead--;}};Context.fromSaved=function(doc,saved,line){if(saved instanceof SavedContext){return new Context(doc,copyState(doc.mode,saved.state),line,saved.lookAhead);}else{return new Context(doc,copyState(doc.mode,saved),line);}};Context.prototype.save=function(copy){var state=copy!==false?copyState(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new SavedContext(state,this.maxLookAhead):state;};function highlightLine(cm,line,context,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,context,function(end,style){return st.push(end,style);},lineClasses,forceToEnd);var state=context.state;var loop=function loop(o){context.baseTokens=st;var overlay=cm.state.overlays[o],i=1,at=0;context.state=true;runMode(cm,line.text,overlay.mode,context,function(end,style){var start=i;while(at<end){var i_end=st[i];if(i_end>end){st.splice(i,1,end,st[i+1],i_end);}i+=2;at=Math.min(end,i_end);}if(!style){return;}if(overlay.opaque){st.splice(start,i-start,end,"overlay "+style);i=start+2;}else{for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"overlay "+style;}}},lineClasses);context.state=state;context.baseTokens=null;context.baseTokenPos=1;};for(var o=0;o<cm.state.overlays.length;++o){loop(o);}return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null};}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var context=getContextBefore(cm,lineNo(line));var resetState=line.text.length>cm.options.maxHighlightLength&&copyState(cm.doc.mode,context.state);var result=highlightLine(cm,line,context);if(resetState){context.state=resetState;}line.stateAfter=context.save(!resetState);line.styles=result.styles;if(result.classes){line.styleClasses=result.classes;}else if(line.styleClasses){line.styleClasses=null;}if(updateFrontier===cm.doc.highlightFrontier){cm.doc.modeFrontier=Math.max(cm.doc.modeFrontier,++cm.doc.highlightFrontier);}}return line.styles;}function getContextBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState){return new Context(doc,true,n);}var start=findStartLine(cm,n,precise);var saved=start>doc.first&&getLine(doc,start-1).stateAfter;var context=saved?Context.fromSaved(doc,saved,start):new Context(doc,startState(doc.mode),start);doc.iter(start,n,function(line){processLine(cm,line.text,context);var pos=context.line;line.stateAfter=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo?context.save():null;context.nextLine();});if(precise){doc.modeFrontier=context.line;}return context;}function processLine(cm,text,context,startAt){var mode=cm.doc.mode;var stream=new StringStream(text,cm.options.tabSize,context);stream.start=stream.pos=startAt||0;if(text==""){callBlankLine(mode,context.state);}while(!stream.eol()){readToken(mode,stream,context.state);stream.start=stream.pos;}}function callBlankLine(mode,state){if(mode.blankLine){return mode.blankLine(state);}if(!mode.innerMode){return;}var inner=innerMode(mode,state);if(inner.mode.blankLine){return inner.mode.blankLine(inner.state);}}function readToken(mode,stream,state,inner){for(var i=0;i<10;i++){if(inner){inner[0]=innerMode(mode,state).mode;}var style=mode.token(stream,state);if(stream.pos>stream.start){return style;}}throw new Error("Mode "+mode.name+" failed to advance stream.");}var Token=function Token(stream,type,state){this.start=stream.start;this.end=stream.pos;this.string=stream.current();this.type=type||null;this.state=state;};function takeToken(cm,pos,precise,asArray){var doc=cm.doc,mode=doc.mode,style;pos=_clipPos(doc,pos);var line=getLine(doc,pos.line),context=getContextBefore(cm,pos.line,precise);var stream=new StringStream(line.text,cm.options.tabSize,context),tokens;if(asArray){tokens=[];}while((asArray||stream.pos<pos.ch)&&!stream.eol()){stream.start=stream.pos;style=readToken(mode,stream,context.state);if(asArray){tokens.push(new Token(stream,style,copyState(doc.mode,context.state)));}}return asArray?tokens:new Token(stream,style,context.state);}function extractLineClasses(type,output){if(type){for(;;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass){break;}type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";if(output[prop]==null){output[prop]=lineClass[2];}else if(!new RegExp("(?:^|\s)"+lineClass[2]+"(?:$|\s)").test(output[prop])){output[prop]+=" "+lineClass[2];}}}return type;}function runMode(cm,text,mode,context,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;if(flattenSpans==null){flattenSpans=cm.options.flattenSpans;}var curStart=0,curStyle=null;var stream=new StringStream(text,cm.options.tabSize,context),style;var inner=cm.options.addModeClass&&[null];if(text==""){extractLineClasses(callBlankLine(mode,context.state),lineClasses);}while(!stream.eol()){if(stream.pos>cm.options.maxHighlightLength){flattenSpans=false;if(forceToEnd){processLine(cm,text,context,stream.pos);}stream.pos=text.length;style=null;}else{style=extractLineClasses(readToken(mode,stream,context.state,inner),lineClasses);}if(inner){var mName=inner[0].name;if(mName){style="m-"+(style?mName+" "+style:mName);}}if(!flattenSpans||curStyle!=style){while(curStart<stream.start){curStart=Math.min(stream.start,curStart+5000);f(curStart,curStyle);}curStyle=style;}stream.start=stream.pos;}while(curStart<stream.pos){var pos=Math.min(stream.pos,curStart+5000);f(pos,curStyle);curStart=pos;}}function findStartLine(cm,n,precise){var minindent,minline,doc=cm.doc;var lim=precise?-1:n-(cm.doc.mode.innerMode?1000:100);for(var search=n;search>lim;--search){if(search<=doc.first){return doc.first;}var line=getLine(doc,search-1),after=line.stateAfter;if(after&&(!precise||search+(after instanceof SavedContext?after.lookAhead:0)<=doc.modeFrontier)){return search;}var indented=countColumn(line.text,null,cm.options.tabSize);if(minline==null||minindent>indented){minline=search-1;minindent=indented;}}return minline;}function retreatFrontier(doc,n){doc.modeFrontier=Math.min(doc.modeFrontier,n);if(doc.highlightFrontier<n-10){return;}var start=doc.first;for(var line=n-1;line>start;line--){var saved=getLine(doc,line).stateAfter;if(saved&&(!(saved instanceof SavedContext)||line+saved.lookAhead<n)){start=line+1;break;}}doc.highlightFrontier=Math.min(doc.highlightFrontier,start);}var sawReadOnlySpans=false,sawCollapsedSpans=false;function seeReadOnlySpans(){sawReadOnlySpans=true;}function seeCollapsedSpans(){sawCollapsedSpans=true;}function MarkedSpan(marker,from,to){this.marker=marker;this.from=from;this.to=to;}function getMarkedSpanFor(spans,marker){if(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if(span.marker==marker){return span;}}}}function removeMarkedSpan(spans,span){var r;for(var i=0;i<spans.length;++i){if(spans[i]!=span){(r||(r=[])).push(spans[i]);}}return r;}function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];span.marker.attachLine(line);}function markedSpansBefore(old,startCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker;var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&marker.type=="bookmark"&&(!isInsert||!span.marker.insertLeft)){var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to));}}}return nw;}function markedSpansAfter(old,endCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker;var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&marker.type=="bookmark"&&(!isInsert||span.marker.insertLeft)){var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,span.to==null?null:span.to-endCh));}}}return nw;}function stretchSpansOverChange(doc,change){if(change.full){return null;}var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans;var oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast){return null;}var startCh=change.from.ch,endCh=change.to.ch,isInsert=cmp(change.from,change.to)==0;var first=markedSpansBefore(oldFirst,startCh,isInsert);var last=markedSpansAfter(oldLast,endCh,isInsert);var sameLine=change.text.length==1,offset=lst(change.text).length+(sameLine?startCh:0);if(first){for(var i=0;i<first.length;++i){var span=first[i];if(span.to==null){var found=getMarkedSpanFor(last,span.marker);if(!found){span.to=startCh;}else if(sameLine){span.to=found.to==null?null:found.to+offset;}}}}if(last){for(var i$1=0;i$1<last.length;++i$1){var span$1=last[i$1];if(span$1.to!=null){span$1.to+=offset;}if(span$1.from==null){var found$1=getMarkedSpanFor(first,span$1.marker);if(!found$1){span$1.from=offset;if(sameLine){(first||(first=[])).push(span$1);}}}else{span$1.from+=offset;if(sameLine){(first||(first=[])).push(span$1);}}}}if(first){first=clearEmptySpans(first);}if(last&&last!=first){last=clearEmptySpans(last);}var newMarkers=[first];if(!sameLine){var gap=change.text.length-2,gapMarkers;if(gap>0&&first){for(var i$2=0;i$2<first.length;++i$2){if(first[i$2].to==null){(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i$2].marker,null,null));}}}for(var i$3=0;i$3<gap;++i$3){newMarkers.push(gapMarkers);}newMarkers.push(last);}return newMarkers;}function clearEmptySpans(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if(span.from!=null&&span.from==span.to&&span.marker.clearWhenEmpty!==false){spans.splice(i--,1);}}if(!spans.length){return null;}return spans;}function removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;if(mark.readOnly&&(!markers||indexOf(markers,mark)==-1)){(markers||(markers=[])).push(mark);}}}});if(!markers){return null;}var parts=[{from:from,to:to}];for(var i=0;i<markers.length;++i){var mk=markers[i],m=mk.find(0);for(var j=0;j<parts.length;++j){var p=parts[j];if(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0){continue;}var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);if(dfrom<0||!mk.inclusiveLeft&&!dfrom){newParts.push({from:p.from,to:m.from});}if(dto>0||!mk.inclusiveRight&&!dto){newParts.push({from:m.to,to:p.to});}parts.splice.apply(parts,newParts);j+=newParts.length-3;}}return parts;}function detachMarkedSpans(line){var spans=line.markedSpans;if(!spans){return;}for(var i=0;i<spans.length;++i){spans[i].marker.detachLine(line);}line.markedSpans=null;}function attachMarkedSpans(line,spans){if(!spans){return;}for(var i=0;i<spans.length;++i){spans[i].marker.attachLine(line);}line.markedSpans=spans;}function extraLeft(marker){return marker.inclusiveLeft?-1:0;}function extraRight(marker){return marker.inclusiveRight?1:0;}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(lenDiff!=0){return lenDiff;}var aPos=a.find(),bPos=b.find();var fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp){return-fromCmp;}var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp){return toCmp;}return b.id-a.id;}function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps){for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&(start?sp.from:sp.to)==null&&(!found||compareCollapsedMarkers(found,sp.marker)<0)){found=sp.marker;}}}return found;}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,true);}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,false);}function collapsedSpanAround(line,ch){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps){for(var i=0;i<sps.length;++i){var sp=sps[i];if(sp.marker.collapsed&&(sp.from==null||sp.from<ch)&&(sp.to==null||sp.to>ch)&&(!found||compareCollapsedMarkers(found,sp.marker)<0)){found=sp.marker;}}}return found;}function conflictingCollapsedRange(doc,lineNo$$1,from,to,marker){var line=getLine(doc,lineNo$$1);var sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var i=0;i<sps.length;++i){var sp=sps[i];if(!sp.marker.collapsed){continue;}var found=sp.marker.find(0);var fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker);var toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0){continue;}if(fromCmp<=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.to,from)>=0:cmp(found.to,from)>0)||fromCmp>=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.from,to)<=0:cmp(found.from,to)<0)){return true;}}}}function visualLine(line){var merged;while(merged=collapsedSpanAtStart(line)){line=merged.find(-1,true).line;}return line;}function visualLineEnd(line){var merged;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;}return line;}function visualLineContinued(line){var merged,lines;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;(lines||(lines=[])).push(line);}return lines;}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);if(line==vis){return lineN;}return lineNo(vis);}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine()){return lineN;}var line=getLine(doc,lineN),merged;if(!lineIsHidden(doc,line)){return lineN;}while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;}return lineNo(line)+1;}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed){continue;}if(sp.from==null){return true;}if(sp.marker.widgetNode){continue;}if(sp.from==0&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp)){return true;}}}}function lineIsHiddenInner(doc,line,span){if(span.to==null){var end=span.marker.find(1,true);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker));}if(span.marker.inclusiveRight&&span.to==line.text.length){return true;}for(var sp=void 0,i=0;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(sp.to==null||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp)){return true;}}}function _heightAtLine(lineObj){lineObj=visualLine(lineObj);var h=0,chunk=lineObj.parent;for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i];if(line==lineObj){break;}else{h+=line.height;}}for(var p=chunk.parent;p;chunk=p,p=chunk.parent){for(var i$1=0;i$1<p.children.length;++i$1){var cur=p.children[i$1];if(cur==chunk){break;}else{h+=cur.height;}}}return h;}function lineLength(line){if(line.height==0){return 0;}var len=line.text.length,merged,cur=line;while(merged=collapsedSpanAtStart(cur)){var found=merged.find(0,true);cur=found.from.line;len+=found.from.ch-found.to.ch;}cur=line;while(merged=collapsedSpanAtEnd(cur)){var found$1=merged.find(0,true);len-=cur.text.length-found$1.from.ch;cur=found$1.to.line;len+=cur.text.length-found$1.to.ch;}return len;}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=true;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line;}});}var Line=function Line(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1;};Line.prototype.lineNo=function(){return lineNo(this);};eventMixin(Line);function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter){line.stateAfter=null;}if(line.styles){line.styles=null;}if(line.order!=null){line.order=null;}detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height){updateLineHeight(line,estHeight);}}function cleanUpLine(line){line.parent=null;detachMarkedSpans(line);}var styleToClassCache={},styleToClassCacheWithMode={};function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style)){return null;}var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&"));}function buildLineContent(cm,lineView){var content=eltP("span",null,null,webkit?"padding-right: .1px":null);var builder={pre:eltP("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:cm,trailingSpace:false,splitSpaces:cm.getOption("lineWrapping")};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order=void 0;builder.pos=0;builder.addToken=buildToken;if(hasBadBidiRects(cm.display.measure)&&(order=getOrder(line,cm.doc.direction))){builder.addToken=buildTokenBadBidi(builder.addToken,order);}builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));if(line.styleClasses){if(line.styleClasses.bgClass){builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"");}if(line.styleClasses.textClass){builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||"");}}if(builder.map.length==0){builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)));}if(i==0){lineView.measure.map=builder.map;lineView.measure.cache={};}else{(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({});}}if(webkit){var last=builder.content.lastChild;if(/\bcm-tab\b/.test(last.className)||last.querySelector&&last.querySelector(".cm-tab")){builder.content.className="cm-tab-wrap-hack";}}signal(cm,"renderLine",cm,lineView.line,builder.pre);if(builder.pre.className){builder.textClass=joinClasses(builder.pre.className,builder.textClass||"");}return builder;}function defaultSpecialCharPlaceholder(ch){var token=elt("span","\u2022","cm-invalidchar");token.title="\\u"+ch.charCodeAt(0).toString(16);token.setAttribute("aria-label",token.title);return token;}function buildToken(builder,text,style,startStyle,endStyle,css,attributes){if(!text){return;}var displayText=builder.splitSpaces?splitSpaces(text,builder.trailingSpace):text;var special=builder.cm.state.specialChars,mustWrap=false;var content;if(!special.test(text)){builder.col+=text.length;content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie&&ie_version<9){mustWrap=true;}builder.pos+=text.length;}else{content=document.createDocumentFragment();var pos=0;while(true){special.lastIndex=pos;var m=special.exec(text);var skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));if(ie&&ie_version<9){content.appendChild(elt("span",[txt]));}else{content.appendChild(txt);}builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped;}if(!m){break;}pos+=skipped+1;var txt$1=void 0;if(m[0]=="\t"){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;txt$1=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));txt$1.setAttribute("role","presentation");txt$1.setAttribute("cm-text","\t");builder.col+=tabWidth;}else if(m[0]=="\r"||m[0]=="\n"){txt$1=content.appendChild(elt("span",m[0]=="\r"?"\u240D":"\u2424","cm-invalidchar"));txt$1.setAttribute("cm-text",m[0]);builder.col+=1;}else{txt$1=builder.cm.options.specialCharPlaceholder(m[0]);txt$1.setAttribute("cm-text",m[0]);if(ie&&ie_version<9){content.appendChild(elt("span",[txt$1]));}else{content.appendChild(txt$1);}builder.col+=1;}builder.map.push(builder.pos,builder.pos+1,txt$1);builder.pos++;}}builder.trailingSpace=displayText.charCodeAt(text.length-1)==32;if(style||startStyle||endStyle||mustWrap||css){var fullStyle=style||"";if(startStyle){fullStyle+=startStyle;}if(endStyle){fullStyle+=endStyle;}var token=elt("span",[content],fullStyle,css);if(attributes){for(var attr in attributes){if(attributes.hasOwnProperty(attr)&&attr!="style"&&attr!="class"){token.setAttribute(attr,attributes[attr]);}}}return builder.content.appendChild(token);}builder.content.appendChild(content);}function splitSpaces(text,trailingBefore){if(text.length>1&&!/  /.test(text)){return text;}var spaceBefore=trailingBefore,result="";for(var i=0;i<text.length;i++){var ch=text.charAt(i);if(ch==" "&&spaceBefore&&(i==text.length-1||text.charCodeAt(i+1)==32)){ch="\xA0";}result+=ch;spaceBefore=ch==" ";}return result;}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,css,attributes){style=style?style+" cm-force-border":"cm-force-border";var start=builder.pos,end=start+text.length;for(;;){var part=void 0;for(var i=0;i<order.length;i++){part=order[i];if(part.to>start&&part.from<=start){break;}}if(part.to>=end){return inner(builder,text,style,startStyle,endStyle,css,attributes);}inner(builder,text.slice(0,part.to-start),style,startStyle,null,css,attributes);startStyle=null;text=text.slice(part.to-start);start=part.to;}};}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;if(widget){builder.map.push(builder.pos,builder.pos+size,widget);}if(!ignoreWidget&&builder.cm.display.input.needsContentAttribute){if(!widget){widget=builder.content.appendChild(document.createElement("span"));}widget.setAttribute("cm-marker",marker.id);}if(widget){builder.cm.display.input.setUneditable(widget);builder.content.appendChild(widget);}builder.pos+=size;builder.trailingSpace=false;}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(!spans){for(var i$1=1;i$1<styles.length;i$1+=2){builder.addToken(builder,allText.slice(at,at=styles[i$1]),interpretTokenStyle(styles[i$1+1],builder.cm.options));}return;}var len=allText.length,pos=0,i=1,text="",style,css;var nextChange=0,spanStyle,spanEndStyle,spanStartStyle,collapsed,attributes;for(;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=css="";attributes=null;collapsed=null;nextChange=Infinity;var foundBookmarks=[],endStyles=void 0;for(var j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;if(m.type=="bookmark"&&sp.from==pos&&m.widgetNode){foundBookmarks.push(m);}else if(sp.from<=pos&&(sp.to==null||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)){if(sp.to!=null&&sp.to!=pos&&nextChange>sp.to){nextChange=sp.to;spanEndStyle="";}if(m.className){spanStyle+=" "+m.className;}if(m.css){css=(css?css+";":"")+m.css;}if(m.startStyle&&sp.from==pos){spanStartStyle+=" "+m.startStyle;}if(m.endStyle&&sp.to==nextChange){(endStyles||(endStyles=[])).push(m.endStyle,sp.to);}if(m.title){(attributes||(attributes={})).title=m.title;}if(m.attributes){for(var attr in m.attributes){(attributes||(attributes={}))[attr]=m.attributes[attr];}}if(m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0)){collapsed=sp;}}else if(sp.from>pos&&nextChange>sp.from){nextChange=sp.from;}}if(endStyles){for(var j$1=0;j$1<endStyles.length;j$1+=2){if(endStyles[j$1+1]==nextChange){spanEndStyle+=" "+endStyles[j$1];}}}if(!collapsed||collapsed.from==pos){for(var j$2=0;j$2<foundBookmarks.length;++j$2){buildCollapsedSpan(builder,0,foundBookmarks[j$2]);}}if(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(collapsed.to==null?len+1:collapsed.to)-pos,collapsed.marker,collapsed.from==null);if(collapsed.to==null){return;}if(collapsed.to==pos){collapsed=false;}}}if(pos>=len){break;}var upto=Math.min(len,nextChange);while(true){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",css,attributes);}if(end>=upto){text=text.slice(upto-pos);pos=upto;break;}pos=end;spanStartStyle="";}text=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder.cm.options);}}}function LineView(doc,line,lineN){this.line=line;this.rest=visualLineContinued(line);this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line);}function buildViewArray(cm,from,to){var array=[],nextPos;for(var pos=from;pos<to;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view);}return array;}var operationGroup=null;function pushOperation(op){if(operationGroup){operationGroup.ops.push(op);}else{op.ownsGroup=operationGroup={ops:[op],delayedCallbacks:[]};}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++){callbacks[i].call(null);}for(var j=0;j<group.ops.length;j++){var op=group.ops[j];if(op.cursorActivityHandlers){while(op.cursorActivityCalled<op.cursorActivityHandlers.length){op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm);}}}}while(i<callbacks.length);}function finishOperation(op,endCb){var group=op.ownsGroup;if(!group){return;}try{fireCallbacksForOps(group);}finally{operationGroup=null;endCb(group);}}var orphanDelayedCallbacks=null;function signalLater(emitter,type){var arr=getHandlers(emitter,type);if(!arr.length){return;}var args=Array.prototype.slice.call(arguments,2),list;if(operationGroup){list=operationGroup.delayedCallbacks;}else if(orphanDelayedCallbacks){list=orphanDelayedCallbacks;}else{list=orphanDelayedCallbacks=[];setTimeout(fireOrphanDelayed,0);}var loop=function loop(i){list.push(function(){return arr[i].apply(null,args);});};for(var i=0;i<arr.length;++i){loop(i);}}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i){delayed[i]();}}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0;j<lineView.changes.length;j++){var type=lineView.changes[j];if(type=="text"){updateLineText(cm,lineView);}else if(type=="gutter"){updateLineGutter(cm,lineView,lineN,dims);}else if(type=="class"){updateLineClasses(cm,lineView);}else if(type=="widget"){updateLineWidgets(cm,lineView,dims);}}lineView.changes=null;}function ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt("div",null,null,"position: relative");if(lineView.text.parentNode){lineView.text.parentNode.replaceChild(lineView.node,lineView.text);}lineView.node.appendChild(lineView.text);if(ie&&ie_version<8){lineView.node.style.zIndex=2;}}return lineView.node;}function updateLineBackground(cm,lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls){cls+=" CodeMirror-linebackground";}if(lineView.background){if(cls){lineView.background.className=cls;}else{lineView.background.parentNode.removeChild(lineView.background);lineView.background=null;}}else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild);cm.display.input.setUneditable(lineView.background);}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built;}return buildLineContent(cm,lineView);}function updateLineText(cm,lineView){var cls=lineView.text.className;var built=getLineContent(cm,lineView);if(lineView.text==lineView.node){lineView.node=built.pre;}lineView.text.parentNode.replaceChild(built.pre,lineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(cm,lineView);}else if(cls){lineView.text.className=cls;}}function updateLineClasses(cm,lineView){updateLineBackground(cm,lineView);if(lineView.line.wrapClass){ensureLineWrapped(lineView).className=lineView.line.wrapClass;}else if(lineView.node!=lineView.text){lineView.node.className="";}var textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||"";}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null;}if(lineView.gutterBackground){lineView.node.removeChild(lineView.gutterBackground);lineView.gutterBackground=null;}if(lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+lineView.line.gutterClass,"left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px");cm.display.input.setUneditable(lineView.gutterBackground);wrap.insertBefore(lineView.gutterBackground,lineView.text);}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap$1=ensureLineWrapped(lineView);var gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px");cm.display.input.setUneditable(gutterWrap);wrap$1.insertBefore(gutterWrap,lineView.text);if(lineView.line.gutterClass){gutterWrap.className+=" "+lineView.line.gutterClass;}if(cm.options.lineNumbers&&(!markers||!markers["CodeMirror-linenumbers"])){lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+"px"));}if(markers){for(var k=0;k<cm.display.gutterSpecs.length;++k){var id=cm.display.gutterSpecs[k].className,found=markers.hasOwnProperty(id)&&markers[id];if(found){gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"));}}}}}function updateLineWidgets(cm,lineView,dims){if(lineView.alignable){lineView.alignable=null;}for(var node=lineView.node.firstChild,next=void 0;node;node=next){next=node.nextSibling;if(node.className=="CodeMirror-linewidget"){lineView.node.removeChild(node);}}insertLineWidgets(cm,lineView,dims);}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass){lineView.bgClass=built.bgClass;}if(built.textClass){lineView.textClass=built.textClass;}updateLineClasses(cm,lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node;}function insertLineWidgets(cm,lineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,true);if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,false);}}}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(!line.widgets){return;}var wrap=ensureLineWrapped(lineView);for(var i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");if(!widget.handleMouseEvents){node.setAttribute("cm-ignore-events","true");}positionLineWidget(widget,node,lineView,dims);cm.display.input.setUneditable(node);if(allowAbove&&widget.above){wrap.insertBefore(node,lineView.gutter||lineView.text);}else{wrap.appendChild(node);}signalLater(widget,"redraw");}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px";if(!widget.coverGutter){width-=dims.gutterTotalWidth;node.style.paddingLeft=dims.gutterTotalWidth+"px";}node.style.width=width+"px";}if(widget.coverGutter){node.style.zIndex=5;node.style.position="relative";if(!widget.noHScroll){node.style.marginLeft=-dims.gutterTotalWidth+"px";}}}function widgetHeight(widget){if(widget.height!=null){return widget.height;}var cm=widget.doc.cm;if(!cm){return 0;}if(!contains(document.body,widget.node)){var parentStyle="position: relative;";if(widget.coverGutter){parentStyle+="margin-left: -"+cm.display.gutters.offsetWidth+"px;";}if(widget.noHScroll){parentStyle+="width: "+cm.display.wrapper.clientWidth+"px;";}removeChildrenAndAdd(cm.display.measure,elt("div",[widget.node],null,parentStyle));}return widget.height=widget.node.parentNode.offsetHeight;}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode){if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==display.sizer&&n!=display.mover){return true;}}}function paddingTop(display){return display.lineSpace.offsetTop;}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight;}function paddingH(display){if(display.cachedPaddingH){return display.cachedPaddingH;}var e=removeChildrenAndAdd(display.measure,elt("pre","x","CodeMirror-line-like"));var style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;var data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};if(!isNaN(data.left)&&!isNaN(data.right)){display.cachedPaddingH=data;}return data;}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth;}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth;}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight;}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping;var curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;var rects=lineView.text.firstChild.getClientRects();for(var i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];if(Math.abs(cur.bottom-next.bottom)>2){heights.push((cur.bottom+next.top)/2-rect.top);}}}heights.push(rect.bottom-rect.top);}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line){return{map:lineView.measure.map,cache:lineView.measure.cache};}for(var i=0;i<lineView.rest.length;i++){if(lineView.rest[i]==line){return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};}}for(var i$1=0;i$1<lineView.rest.length;i$1++){if(lineNo(lineView.rest[i$1])>lineN){return{map:lineView.measure.maps[i$1],cache:lineView.measure.caches[i$1],before:true};}}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line);var view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view;}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias);}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo){return cm.display.view[findViewIndex(cm,lineN)];}var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size){return ext;}}function prepareMeasureForLine(cm,line){var lineN=lineNo(line);var view=findViewForLine(cm,lineN);if(view&&!view.text){view=null;}else if(view&&view.changes){updateLineForChanges(cm,view,lineN,getDimensions(cm));cm.curOp.forceUpdate=true;}if(!view){view=updateExternalMeasurement(cm,line);}var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:false};}function measureCharPrepared(cm,prepared,ch,bias,varHeight){if(prepared.before){ch=-1;}var key=ch+(bias||""),found;if(prepared.cache.hasOwnProperty(key)){found=prepared.cache[key];}else{if(!prepared.rect){prepared.rect=prepared.view.text.getBoundingClientRect();}if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=true;}found=measureCharInner(cm,prepared,ch,bias);if(!found.bogus){prepared.cache[key]=found;}}return{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom};}var nullRect={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(map$$1,ch,bias){var node,start,end,collapse,mStart,mEnd;for(var i=0;i<map$$1.length;i+=3){mStart=map$$1[i];mEnd=map$$1[i+1];if(ch<mStart){start=0;end=1;collapse="left";}else if(ch<mEnd){start=ch-mStart;end=start+1;}else if(i==map$$1.length-3||ch==mEnd&&map$$1[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd){collapse="right";}}if(start!=null){node=map$$1[i+2];if(mStart==mEnd&&bias==(node.insertLeft?"left":"right")){collapse=bias;}if(bias=="left"&&start==0){while(i&&map$$1[i-2]==map$$1[i-3]&&map$$1[i-1].insertLeft){node=map$$1[(i-=3)+2];collapse="left";}}if(bias=="right"&&start==mEnd-mStart){while(i<map$$1.length-3&&map$$1[i+3]==map$$1[i+4]&&!map$$1[i+5].insertLeft){node=map$$1[(i+=3)+2];collapse="right";}}break;}}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd};}function getUsefulRect(rects,bias){var rect=nullRect;if(bias=="left"){for(var i=0;i<rects.length;i++){if((rect=rects[i]).left!=rect.right){break;}}}else{for(var i$1=rects.length-1;i$1>=0;i$1--){if((rect=rects[i$1]).left!=rect.right){break;}}}return rect;}function measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias);var node=place.node,start=place.start,end=place.end,collapse=place.collapse;var rect;if(node.nodeType==3){for(var i$1=0;i$1<4;i$1++){while(start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start))){--start;}while(place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end))){++end;}if(ie&&ie_version<9&&start==0&&end==place.coverEnd-place.coverStart){rect=node.parentNode.getBoundingClientRect();}else{rect=getUsefulRect(range(node,start,end).getClientRects(),bias);}if(rect.left||rect.right||start==0){break;}end=start;start=start-1;collapse="right";}if(ie&&ie_version<11){rect=maybeUpdateRectForZooming(cm.display.measure,rect);}}else{if(start>0){collapse=bias="right";}var rects;if(cm.options.lineWrapping&&(rects=node.getClientRects()).length>1){rect=rects[bias=="right"?rects.length-1:0];}else{rect=node.getBoundingClientRect();}}if(ie&&ie_version<9&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];if(rSpan){rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom};}else{rect=nullRect;}}var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top;var mid=(rtop+rbot)/2;var heights=prepared.view.measure.heights;var i=0;for(;i<heights.length-1;i++){if(mid<heights[i]){break;}}var top=i?heights[i-1]:0,bot=heights[i];var result={left:(collapse=="right"?rect.right:rect.left)-prepared.rect.left,right:(collapse=="left"?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right){result.bogus=true;}if(!cm.options.singleCursorHeightPerLine){result.rtop=rtop;result.rbottom=rbot;}return result;}function maybeUpdateRectForZooming(measure,rect){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure)){return rect;}var scaleX=screen.logicalXDPI/screen.deviceXDPI;var scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY};}function clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){lineView.measure.caches[i]={};}}}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++){clearLineMeasurementCacheFor(cm.display.view[i]);}}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping){cm.display.maxLineChanged=true;}cm.display.lineNumChars=null;}function pageScrollX(){if(chrome&&android){return-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft));}return window.pageXOffset||(document.documentElement||document.body).scrollLeft;}function pageScrollY(){if(chrome&&android){return-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop));}return window.pageYOffset||(document.documentElement||document.body).scrollTop;}function widgetTopHeight(lineObj){var height=0;if(lineObj.widgets){for(var i=0;i<lineObj.widgets.length;++i){if(lineObj.widgets[i].above){height+=widgetHeight(lineObj.widgets[i]);}}}return height;}function intoCoordSystem(cm,lineObj,rect,context,includeWidgets){if(!includeWidgets){var height=widgetTopHeight(lineObj);rect.top+=height;rect.bottom+=height;}if(context=="line"){return rect;}if(!context){context="local";}var yOff=_heightAtLine(lineObj);if(context=="local"){yOff+=paddingTop(cm.display);}else{yOff-=cm.display.viewOffset;}if(context=="page"||context=="window"){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+(context=="window"?0:pageScrollY());var xOff=lOff.left+(context=="window"?0:pageScrollX());rect.left+=xOff;rect.right+=xOff;}rect.top+=yOff;rect.bottom+=yOff;return rect;}function fromCoordSystem(cm,coords,context){if(context=="div"){return coords;}var left=coords.left,top=coords.top;if(context=="page"){left-=pageScrollX();top-=pageScrollY();}else if(context=="local"||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left;top+=localBox.top;}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top};}function _charCoords(cm,pos,context,lineObj,bias){if(!lineObj){lineObj=getLine(cm.doc,pos.line);}return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context);}function _cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure){preparedMeasure=prepareMeasureForLine(cm,lineObj);}function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);if(right){m.left=m.right;}else{m.right=m.left;}return intoCoordSystem(cm,lineObj,m,context);}var order=getOrder(lineObj,cm.doc.direction),ch=pos.ch,sticky=pos.sticky;if(ch>=lineObj.text.length){ch=lineObj.text.length;sticky="before";}else if(ch<=0){ch=0;sticky="after";}if(!order){return get(sticky=="before"?ch-1:ch,sticky=="before");}function getBidi(ch,partPos,invert){var part=order[partPos],right=part.level==1;return get(invert?ch-1:ch,right!=invert);}var partPos=getBidiPartAt(order,ch,sticky);var other=bidiOther;var val=getBidi(ch,partPos,sticky=="before");if(other!=null){val.other=getBidi(ch,other,sticky!="before");}return val;}function estimateCoords(cm,pos){var left=0;pos=_clipPos(cm.doc,pos);if(!cm.options.lineWrapping){left=charWidth(cm.display)*pos.ch;}var lineObj=getLine(cm.doc,pos.line);var top=_heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height};}function PosWithInfo(line,ch,sticky,outside,xRel){var pos=Pos(line,ch,sticky);pos.xRel=xRel;if(outside){pos.outside=outside;}return pos;}function _coordsChar(cm,x,y){var doc=cm.doc;y+=cm.display.viewOffset;if(y<0){return PosWithInfo(doc.first,0,null,-1,-1);}var lineN=_lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last){return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,null,1,1);}if(x<0){x=0;}var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y);var collapsed=collapsedSpanAround(lineObj,found.ch+(found.xRel>0||found.outside>0?1:0));if(!collapsed){return found;}var rangeEnd=collapsed.find(1);if(rangeEnd.line==lineN){return rangeEnd;}lineObj=getLine(doc,lineN=rangeEnd.line);}}function wrappedLineExtent(cm,lineObj,preparedMeasure,y){y-=widgetTopHeight(lineObj);var end=lineObj.text.length;var begin=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch-1).bottom<=y;},end,0);end=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch).top>y;},begin,end);return{begin:begin,end:end};}function wrappedLineExtentChar(cm,lineObj,preparedMeasure,target){if(!preparedMeasure){preparedMeasure=prepareMeasureForLine(cm,lineObj);}var targetTop=intoCoordSystem(cm,lineObj,measureCharPrepared(cm,preparedMeasure,target),"line").top;return wrappedLineExtent(cm,lineObj,preparedMeasure,targetTop);}function boxIsAfter(box,x,y,left){return box.bottom<=y?false:box.top>y?true:(left?box.left:box.right)>x;}function coordsCharInner(cm,lineObj,lineNo$$1,x,y){y-=_heightAtLine(lineObj);var preparedMeasure=prepareMeasureForLine(cm,lineObj);var widgetHeight$$1=widgetTopHeight(lineObj);var begin=0,end=lineObj.text.length,ltr=true;var order=getOrder(lineObj,cm.doc.direction);if(order){var part=(cm.options.lineWrapping?coordsBidiPartWrapped:coordsBidiPart)(cm,lineObj,lineNo$$1,preparedMeasure,order,x,y);ltr=part.level!=1;begin=ltr?part.from:part.to-1;end=ltr?part.to:part.from-1;}var chAround=null,boxAround=null;var ch=findFirst(function(ch){var box=measureCharPrepared(cm,preparedMeasure,ch);box.top+=widgetHeight$$1;box.bottom+=widgetHeight$$1;if(!boxIsAfter(box,x,y,false)){return false;}if(box.top<=y&&box.left<=x){chAround=ch;boxAround=box;}return true;},begin,end);var baseX,sticky,outside=false;if(boxAround){var atLeft=x-boxAround.left<boxAround.right-x,atStart=atLeft==ltr;ch=chAround+(atStart?0:1);sticky=atStart?"after":"before";baseX=atLeft?boxAround.left:boxAround.right;}else{if(!ltr&&(ch==end||ch==begin)){ch++;}sticky=ch==0?"after":ch==lineObj.text.length?"before":measureCharPrepared(cm,preparedMeasure,ch-(ltr?1:0)).bottom+widgetHeight$$1<=y==ltr?"after":"before";var coords=_cursorCoords(cm,Pos(lineNo$$1,ch,sticky),"line",lineObj,preparedMeasure);baseX=coords.left;outside=y<coords.top?-1:y>=coords.bottom?1:0;}ch=skipExtendingChars(lineObj.text,ch,1);return PosWithInfo(lineNo$$1,ch,sticky,outside,x-baseX);}function coordsBidiPart(cm,lineObj,lineNo$$1,preparedMeasure,order,x,y){var index=findFirst(function(i){var part=order[i],ltr=part.level!=1;return boxIsAfter(_cursorCoords(cm,Pos(lineNo$$1,ltr?part.to:part.from,ltr?"before":"after"),"line",lineObj,preparedMeasure),x,y,true);},0,order.length-1);var part=order[index];if(index>0){var ltr=part.level!=1;var start=_cursorCoords(cm,Pos(lineNo$$1,ltr?part.from:part.to,ltr?"after":"before"),"line",lineObj,preparedMeasure);if(boxIsAfter(start,x,y,true)&&start.top>y){part=order[index-1];}}return part;}function coordsBidiPartWrapped(cm,lineObj,_lineNo,preparedMeasure,order,x,y){var ref=wrappedLineExtent(cm,lineObj,preparedMeasure,y);var begin=ref.begin;var end=ref.end;if(/\s/.test(lineObj.text.charAt(end-1))){end--;}var part=null,closestDist=null;for(var i=0;i<order.length;i++){var p=order[i];if(p.from>=end||p.to<=begin){continue;}var ltr=p.level!=1;var endX=measureCharPrepared(cm,preparedMeasure,ltr?Math.min(end,p.to)-1:Math.max(begin,p.from)).right;var dist=endX<x?x-endX+1e9:endX-x;if(!part||closestDist>dist){part=p;closestDist=dist;}}if(!part){part=order[order.length-1];}if(part.from<begin){part={from:begin,to:part.to,level:part.level};}if(part.to>end){part={from:part.from,to:end,level:part.level};}return part;}var measureText;function textHeight(display){if(display.cachedTextHeight!=null){return display.cachedTextHeight;}if(measureText==null){measureText=elt("pre",null,"CodeMirror-line-like");for(var i=0;i<49;++i){measureText.appendChild(document.createTextNode("x"));measureText.appendChild(elt("br"));}measureText.appendChild(document.createTextNode("x"));}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;if(height>3){display.cachedTextHeight=height;}removeChildren(display.measure);return height||1;}function charWidth(display){if(display.cachedCharWidth!=null){return display.cachedCharWidth;}var anchor=elt("span","xxxxxxxxxx");var pre=elt("pre",[anchor],"CodeMirror-line-like");removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;if(width>2){display.cachedCharWidth=width;}return width||10;}function getDimensions(cm){var d=cm.display,left={},width={};var gutterLeft=d.gutters.clientLeft;for(var n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i){var id=cm.display.gutterSpecs[i].className;left[id]=n.offsetLeft+n.clientLeft+gutterLeft;width[id]=n.clientWidth;}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth};}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left;}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping;var perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line)){return 0;}var widgetsHeight=0;if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].height){widgetsHeight+=line.widgets[i].height;}}}if(wrapping){return widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th;}else{return widgetsHeight+th;}};}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height){updateLineHeight(line,estHeight);}});}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&e_target(e).getAttribute("cm-not-content")=="true"){return null;}var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left;y=e.clientY-space.top;}catch(e){return null;}var coords=_coordsChar(cm,x,y),line;if(forRect&&coords.xRel==1&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff));}return coords;}function findViewIndex(cm,n){if(n>=cm.display.viewTo){return null;}n-=cm.display.viewFrom;if(n<0){return null;}var view=cm.display.view;for(var i=0;i<view.length;i++){n-=view[i].size;if(n<0){return i;}}}function regChange(cm,from,to,lendiff){if(from==null){from=cm.doc.first;}if(to==null){to=cm.doc.first+cm.doc.size;}if(!lendiff){lendiff=0;}var display=cm.display;if(lendiff&&to<display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>from)){display.updateLineNumbers=from;}cm.curOp.viewChanged=true;if(from>=display.viewTo){if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo){resetView(cm);}}else if(to<=display.viewFrom){if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom){resetView(cm);}else{display.viewFrom+=lendiff;display.viewTo+=lendiff;}}else if(from<=display.viewFrom&&to>=display.viewTo){resetView(cm);}else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=lendiff;}else{resetView(cm);}}else if(to>=display.viewTo){var cut$1=viewCuttingPoint(cm,from,from,-1);if(cut$1){display.view=display.view.slice(0,cut$1.index);display.viewTo=cut$1.lineN;}else{resetView(cm);}}else{var cutTop=viewCuttingPoint(cm,from,from,-1);var cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff;}else{resetView(cm);}}var ext=display.externalMeasured;if(ext){if(to<ext.lineN){ext.lineN+=lendiff;}else if(from<ext.lineN+ext.size){display.externalMeasured=null;}}}function regLineChange(cm,line,type){cm.curOp.viewChanged=true;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size){display.externalMeasured=null;}if(line<display.viewFrom||line>=display.viewTo){return;}var lineView=display.view[findViewIndex(cm,line)];if(lineView.node==null){return;}var arr=lineView.changes||(lineView.changes=[]);if(indexOf(arr,type)==-1){arr.push(type);}}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0;}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN),diff,view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size){return{index:index,lineN:newN};}var n=cm.display.viewFrom;for(var i=0;i<index;i++){n+=view[i].size;}if(n!=oldN){if(dir>0){if(index==view.length-1){return null;}diff=n+view[index].size-oldN;index++;}else{diff=n-oldN;}oldN+=diff;newN+=diff;}while(visualLineNo(cm.doc,newN)!=newN){if(index==(dir<0?0:view.length-1)){return null;}newN+=dir*view[index-(dir<0?1:0)].size;index+=dir;}return{index:index,lineN:newN};}function adjustView(cm,from,to){var display=cm.display,view=display.view;if(view.length==0||from>=display.viewTo||to<=display.viewFrom){display.view=buildViewArray(cm,from,to);display.viewFrom=from;}else{if(display.viewFrom>from){display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view);}else if(display.viewFrom<from){display.view=display.view.slice(findViewIndex(cm,from));}display.viewFrom=from;if(display.viewTo<to){display.view=display.view.concat(buildViewArray(cm,display.viewTo,to));}else if(display.viewTo>to){display.view=display.view.slice(0,findViewIndex(cm,to));}}display.viewTo=to;}function countDirtyView(cm){var view=cm.display.view,dirty=0;for(var i=0;i<view.length;i++){var lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes)){++dirty;}}return dirty;}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection());}function prepareSelection(cm,primary){if(primary===void 0)primary=true;var doc=cm.doc,result={};var curFragment=result.cursors=document.createDocumentFragment();var selFragment=result.selection=document.createDocumentFragment();for(var i=0;i<doc.sel.ranges.length;i++){if(!primary&&i==doc.sel.primIndex){continue;}var range$$1=doc.sel.ranges[i];if(range$$1.from().line>=cm.display.viewTo||range$$1.to().line<cm.display.viewFrom){continue;}var collapsed=range$$1.empty();if(collapsed||cm.options.showCursorWhenSelecting){drawSelectionCursor(cm,range$$1.head,curFragment);}if(!collapsed){drawSelectionRange(cm,range$$1,selFragment);}}return result;}function drawSelectionCursor(cm,head,output){var pos=_cursorCoords(cm,head,"div",null,null,!cm.options.singleCursorHeightPerLine);var cursor=output.appendChild(elt("div","\xA0","CodeMirror-cursor"));cursor.style.left=pos.left+"px";cursor.style.top=pos.top+"px";cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px";if(pos.other){var otherCursor=output.appendChild(elt("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="";otherCursor.style.left=pos.other.left+"px";otherCursor.style.top=pos.other.top+"px";otherCursor.style.height=(pos.other.bottom-pos.other.top)*.85+"px";}}function cmpCoords(a,b){return a.top-b.top||a.left-b.left;}function drawSelectionRange(cm,range$$1,output){var display=cm.display,doc=cm.doc;var fragment=document.createDocumentFragment();var padding=paddingH(cm.display),leftSide=padding.left;var rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right;var docLTR=doc.direction=="ltr";function add(left,top,width,bottom){if(top<0){top=0;}top=Math.round(top);bottom=Math.round(bottom);fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px;\n                             top: "+top+"px; width: "+(width==null?rightSide-left:width)+"px;\n                             height: "+(bottom-top)+"px"));}function drawForLine(line,fromArg,toArg){var lineObj=getLine(doc,line);var lineLen=lineObj.text.length;var start,end;function coords(ch,bias){return _charCoords(cm,Pos(line,ch),"div",lineObj,bias);}function wrapX(pos,dir,side){var extent=wrappedLineExtentChar(cm,lineObj,null,pos);var prop=dir=="ltr"==(side=="after")?"left":"right";var ch=side=="after"?extent.begin:extent.end-(/\s/.test(lineObj.text.charAt(extent.end-1))?2:1);return coords(ch,prop)[prop];}var order=getOrder(lineObj,doc.direction);iterateBidiSections(order,fromArg||0,toArg==null?lineLen:toArg,function(from,to,dir,i){var ltr=dir=="ltr";var fromPos=coords(from,ltr?"left":"right");var toPos=coords(to-1,ltr?"right":"left");var openStart=fromArg==null&&from==0,openEnd=toArg==null&&to==lineLen;var first=i==0,last=!order||i==order.length-1;if(toPos.top-fromPos.top<=3){var openLeft=(docLTR?openStart:openEnd)&&first;var openRight=(docLTR?openEnd:openStart)&&last;var left=openLeft?leftSide:(ltr?fromPos:toPos).left;var right=openRight?rightSide:(ltr?toPos:fromPos).right;add(left,fromPos.top,right-left,fromPos.bottom);}else{var topLeft,topRight,botLeft,botRight;if(ltr){topLeft=docLTR&&openStart&&first?leftSide:fromPos.left;topRight=docLTR?rightSide:wrapX(from,dir,"before");botLeft=docLTR?leftSide:wrapX(to,dir,"after");botRight=docLTR&&openEnd&&last?rightSide:toPos.right;}else{topLeft=!docLTR?leftSide:wrapX(from,dir,"before");topRight=!docLTR&&openStart&&first?rightSide:fromPos.right;botLeft=!docLTR&&openEnd&&last?leftSide:toPos.left;botRight=!docLTR?rightSide:wrapX(to,dir,"after");}add(topLeft,fromPos.top,topRight-topLeft,fromPos.bottom);if(fromPos.bottom<toPos.top){add(leftSide,fromPos.bottom,null,toPos.top);}add(botLeft,toPos.top,botRight-botLeft,toPos.bottom);}if(!start||cmpCoords(fromPos,start)<0){start=fromPos;}if(cmpCoords(toPos,start)<0){start=toPos;}if(!end||cmpCoords(fromPos,end)<0){end=fromPos;}if(cmpCoords(toPos,end)<0){end=toPos;}});return{start:start,end:end};}var sFrom=range$$1.from(),sTo=range$$1.to();if(sFrom.line==sTo.line){drawForLine(sFrom.line,sFrom.ch,sTo.ch);}else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line);var singleVLine=visualLine(fromLine)==visualLine(toLine);var leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end;var rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine){if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,rightStart.top,rightStart.left,rightStart.bottom);}else{add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom);}}if(leftEnd.bottom<rightStart.top){add(leftSide,leftEnd.bottom,null,rightStart.top);}}output.appendChild(fragment);}function restartBlink(cm){if(!cm.state.focused){return;}var display=cm.display;clearInterval(display.blinker);var on=true;display.cursorDiv.style.visibility="";if(cm.options.cursorBlinkRate>0){display.blinker=setInterval(function(){return display.cursorDiv.style.visibility=(on=!on)?"":"hidden";},cm.options.cursorBlinkRate);}else if(cm.options.cursorBlinkRate<0){display.cursorDiv.style.visibility="hidden";}}function ensureFocus(cm){if(!cm.state.focused){cm.display.input.focus();onFocus(cm);}}function delayBlurEvent(cm){cm.state.delayingBlurEvent=true;setTimeout(function(){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=false;onBlur(cm);}},100);}function onFocus(cm,e){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=false;}if(cm.options.readOnly=="nocursor"){return;}if(!cm.state.focused){signal(cm,"focus",cm,e);cm.state.focused=true;addClass(cm.display.wrapper,"CodeMirror-focused");if(!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel){cm.display.input.reset();if(webkit){setTimeout(function(){return cm.display.input.reset(true);},20);}}cm.display.input.receivedFocus();}restartBlink(cm);}function onBlur(cm,e){if(cm.state.delayingBlurEvent){return;}if(cm.state.focused){signal(cm,"blur",cm,e);cm.state.focused=false;rmClass(cm.display.wrapper,"CodeMirror-focused");}clearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused){cm.display.shift=false;}},150);}function updateHeightsInViewport(cm){var display=cm.display;var prevBottom=display.lineDiv.offsetTop;for(var i=0;i<display.view.length;i++){var cur=display.view[i],wrapping=cm.options.lineWrapping;var height=void 0,width=0;if(cur.hidden){continue;}if(ie&&ie_version<8){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot;}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top;if(!wrapping&&cur.text.firstChild){width=cur.text.firstChild.getBoundingClientRect().right-box.left-1;}}var diff=cur.line.height-height;if(diff>.005||diff<-.005){updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);if(cur.rest){for(var j=0;j<cur.rest.length;j++){updateWidgetHeight(cur.rest[j]);}}}if(width>cm.display.sizerWidth){var chWidth=Math.ceil(width/charWidth(cm.display));if(chWidth>cm.display.maxLineLength){cm.display.maxLineLength=chWidth;cm.display.maxLine=cur.line;cm.display.maxLineChanged=true;}}}}function updateWidgetHeight(line){if(line.widgets){for(var i=0;i<line.widgets.length;++i){var w=line.widgets[i],parent=w.node.parentNode;if(parent){w.height=parent.offsetHeight;}}}}function visibleLines(display,doc,viewport){var top=viewport&&viewport.top!=null?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&viewport.bottom!=null?viewport.bottom:top+display.wrapper.clientHeight;var from=_lineAtHeight(doc,top),to=_lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;if(ensureFrom<from){from=ensureFrom;to=_lineAtHeight(doc,_heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight);}else if(Math.min(ensureTo,doc.lastLine())>=to){from=_lineAtHeight(doc,_heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);to=ensureTo;}}return{from:from,to:Math.max(to,from+1)};}function maybeScrollWindow(cm,rect){if(signalDOMEvent(cm,"scrollCursorIntoView")){return;}var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(rect.top+box.top<0){doScroll=true;}else if(rect.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight)){doScroll=false;}if(doScroll!=null&&!phantom){var scrollNode=elt("div","\u200B",null,"position: absolute;\n                         top: "+(rect.top-display.viewOffset-paddingTop(cm.display))+"px;\n                         height: "+(rect.bottom-rect.top+scrollGap(cm)+display.barHeight)+"px;\n                         left: "+rect.left+"px; width: "+Math.max(2,rect.right-rect.left)+"px;");cm.display.lineSpace.appendChild(scrollNode);scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode);}}function scrollPosIntoView(cm,pos,end,margin){if(margin==null){margin=0;}var rect;if(!cm.options.lineWrapping&&pos==end){pos=pos.ch?Pos(pos.line,pos.sticky=="before"?pos.ch-1:pos.ch,"after"):pos;end=pos.sticky=="before"?Pos(pos.line,pos.ch+1,"before"):pos;}for(var limit=0;limit<5;limit++){var changed=false;var coords=_cursorCoords(cm,pos);var endCoords=!end||end==pos?coords:_cursorCoords(cm,end);rect={left:Math.min(coords.left,endCoords.left),top:Math.min(coords.top,endCoords.top)-margin,right:Math.max(coords.left,endCoords.left),bottom:Math.max(coords.bottom,endCoords.bottom)+margin};var scrollPos=calculateScrollPos(cm,rect);var startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(scrollPos.scrollTop!=null){updateScrollTop(cm,scrollPos.scrollTop);if(Math.abs(cm.doc.scrollTop-startTop)>1){changed=true;}}if(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft);if(Math.abs(cm.doc.scrollLeft-startLeft)>1){changed=true;}}if(!changed){break;}}return rect;}function scrollIntoView(cm,rect){var scrollPos=calculateScrollPos(cm,rect);if(scrollPos.scrollTop!=null){updateScrollTop(cm,scrollPos.scrollTop);}if(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft);}}function calculateScrollPos(cm,rect){var display=cm.display,snapMargin=textHeight(cm.display);if(rect.top<0){rect.top=0;}var screentop=cm.curOp&&cm.curOp.scrollTop!=null?cm.curOp.scrollTop:display.scroller.scrollTop;var screen=displayHeight(cm),result={};if(rect.bottom-rect.top>screen){rect.bottom=rect.top+screen;}var docBottom=cm.doc.height+paddingVert(display);var atTop=rect.top<snapMargin,atBottom=rect.bottom>docBottom-snapMargin;if(rect.top<screentop){result.scrollTop=atTop?0:rect.top;}else if(rect.bottom>screentop+screen){var newTop=Math.min(rect.top,(atBottom?docBottom:rect.bottom)-screen);if(newTop!=screentop){result.scrollTop=newTop;}}var screenleft=cm.curOp&&cm.curOp.scrollLeft!=null?cm.curOp.scrollLeft:display.scroller.scrollLeft;var screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0);var tooWide=rect.right-rect.left>screenw;if(tooWide){rect.right=rect.left+screenw;}if(rect.left<10){result.scrollLeft=0;}else if(rect.left<screenleft){result.scrollLeft=Math.max(0,rect.left-(tooWide?0:10));}else if(rect.right>screenw+screenleft-3){result.scrollLeft=rect.right+(tooWide?0:10)-screenw;}return result;}function addToScrollTop(cm,top){if(top==null){return;}resolveScrollToPos(cm);cm.curOp.scrollTop=(cm.curOp.scrollTop==null?cm.doc.scrollTop:cm.curOp.scrollTop)+top;}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor();cm.curOp.scrollToPos={from:cur,to:cur,margin:cm.options.cursorScrollMargin};}function scrollToCoords(cm,x,y){if(x!=null||y!=null){resolveScrollToPos(cm);}if(x!=null){cm.curOp.scrollLeft=x;}if(y!=null){cm.curOp.scrollTop=y;}}function scrollToRange(cm,range$$1){resolveScrollToPos(cm);cm.curOp.scrollToPos=range$$1;}function resolveScrollToPos(cm){var range$$1=cm.curOp.scrollToPos;if(range$$1){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range$$1.from),to=estimateCoords(cm,range$$1.to);scrollToCoordsRange(cm,from,to,range$$1.margin);}}function scrollToCoordsRange(cm,from,to,margin){var sPos=calculateScrollPos(cm,{left:Math.min(from.left,to.left),top:Math.min(from.top,to.top)-margin,right:Math.max(from.right,to.right),bottom:Math.max(from.bottom,to.bottom)+margin});scrollToCoords(cm,sPos.scrollLeft,sPos.scrollTop);}function updateScrollTop(cm,val){if(Math.abs(cm.doc.scrollTop-val)<2){return;}if(!gecko){updateDisplaySimple(cm,{top:val});}setScrollTop(cm,val,true);if(gecko){updateDisplaySimple(cm);}startWorker(cm,100);}function setScrollTop(cm,val,forceScroll){val=Math.min(cm.display.scroller.scrollHeight-cm.display.scroller.clientHeight,val);if(cm.display.scroller.scrollTop==val&&!forceScroll){return;}cm.doc.scrollTop=val;cm.display.scrollbars.setScrollTop(val);if(cm.display.scroller.scrollTop!=val){cm.display.scroller.scrollTop=val;}}function setScrollLeft(cm,val,isScroller,forceScroll){val=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth);if((isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2)&&!forceScroll){return;}cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val){cm.display.scroller.scrollLeft=val;}cm.display.scrollbars.setScrollLeft(val);}function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth;var docH=Math.round(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW};}var NativeScrollbars=function NativeScrollbars(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");vert.tabIndex=horiz.tabIndex=-1;place(vert);place(horiz);on(vert,"scroll",function(){if(vert.clientHeight){scroll(vert.scrollTop,"vertical");}});on(horiz,"scroll",function(){if(horiz.clientWidth){scroll(horiz.scrollLeft,"horizontal");}});this.checkedZeroWidth=false;if(ie&&ie_version<8){this.horiz.style.minHeight=this.vert.style.minWidth="18px";}};NativeScrollbars.prototype.update=function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1;var needsV=measure.scrollHeight>measure.clientHeight+1;var sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display="block";this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px";}else{this.vert.style.display="";this.vert.firstChild.style.height="0";}if(needsH){this.horiz.style.display="block";this.horiz.style.right=needsV?sWidth+"px":"0";this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=Math.max(0,measure.scrollWidth-measure.clientWidth+totalWidth)+"px";}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0";}if(!this.checkedZeroWidth&&measure.clientHeight>0){if(sWidth==0){this.zeroWidthHack();}this.checkedZeroWidth=true;}return{right:needsV?sWidth:0,bottom:needsH?sWidth:0};};NativeScrollbars.prototype.setScrollLeft=function(pos){if(this.horiz.scrollLeft!=pos){this.horiz.scrollLeft=pos;}if(this.disableHoriz){this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz");}};NativeScrollbars.prototype.setScrollTop=function(pos){if(this.vert.scrollTop!=pos){this.vert.scrollTop=pos;}if(this.disableVert){this.enableZeroWidthBar(this.vert,this.disableVert,"vert");}};NativeScrollbars.prototype.zeroWidthHack=function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.height=this.vert.style.width=w;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Delayed();this.disableVert=new Delayed();};NativeScrollbars.prototype.enableZeroWidthBar=function(bar,delay,type){bar.style.pointerEvents="auto";function maybeDisable(){var box=bar.getBoundingClientRect();var elt$$1=type=="vert"?document.elementFromPoint(box.right-1,(box.top+box.bottom)/2):document.elementFromPoint((box.right+box.left)/2,box.bottom-1);if(elt$$1!=bar){bar.style.pointerEvents="none";}else{delay.set(1000,maybeDisable);}}delay.set(1000,maybeDisable);};NativeScrollbars.prototype.clear=function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert);};var NullScrollbars=function NullScrollbars(){};NullScrollbars.prototype.update=function(){return{bottom:0,right:0};};NullScrollbars.prototype.setScrollLeft=function(){};NullScrollbars.prototype.setScrollTop=function(){};NullScrollbars.prototype.clear=function(){};function updateScrollbars(cm,measure){if(!measure){measure=measureForScrollbars(cm);}var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;i<4&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){if(startWidth!=cm.display.barWidth&&cm.options.lineWrapping){updateHeightsInViewport(cm);}updateScrollbarsInner(cm,measureForScrollbars(cm));startWidth=cm.display.barWidth;startHeight=cm.display.barHeight;}}function updateScrollbarsInner(cm,measure){var d=cm.display;var sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px";d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px";d.heightForcer.style.borderBottom=sizes.bottom+"px solid transparent";if(sizes.right&&sizes.bottom){d.scrollbarFiller.style.display="block";d.scrollbarFiller.style.height=sizes.bottom+"px";d.scrollbarFiller.style.width=sizes.right+"px";}else{d.scrollbarFiller.style.display="";}if(sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display="block";d.gutterFiller.style.height=sizes.bottom+"px";d.gutterFiller.style.width=measure.gutterWidth+"px";}else{d.gutterFiller.style.display="";}}var scrollbarModel={"native":NativeScrollbars,"null":NullScrollbars};function initScrollbars(cm){if(cm.display.scrollbars){cm.display.scrollbars.clear();if(cm.display.scrollbars.addClass){rmClass(cm.display.wrapper,cm.display.scrollbars.addClass);}}cm.display.scrollbars=new scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);on(node,"mousedown",function(){if(cm.state.focused){setTimeout(function(){return cm.display.input.focus();},0);}});node.setAttribute("cm-not-content","true");},function(pos,axis){if(axis=="horizontal"){setScrollLeft(cm,pos);}else{updateScrollTop(cm,pos);}},cm);if(cm.display.scrollbars.addClass){addClass(cm.display.wrapper,cm.display.scrollbars.addClass);}}var nextOpId=0;function _startOperation(cm){cm.curOp={cm:cm,viewChanged:false,startHeight:cm.doc.height,forceUpdate:false,updateInput:0,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:false,id:++nextOpId};pushOperation(cm.curOp);}function _endOperation(cm){var op=cm.curOp;if(op){finishOperation(op,function(group){for(var i=0;i<group.ops.length;i++){group.ops[i].cm.curOp=null;}endOperations(group);});}}function endOperations(group){var ops=group.ops;for(var i=0;i<ops.length;i++){endOperation_R1(ops[i]);}for(var i$1=0;i$1<ops.length;i$1++){endOperation_W1(ops[i$1]);}for(var i$2=0;i$2<ops.length;i$2++){endOperation_R2(ops[i$2]);}for(var i$3=0;i$3<ops.length;i$3++){endOperation_W2(ops[i$3]);}for(var i$4=0;i$4<ops.length;i$4++){endOperation_finish(ops[i$4]);}}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm);if(op.updateMaxLine){findMaxLine(cm);}op.mustUpdate=op.viewChanged||op.forceUpdate||op.scrollTop!=null||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping;op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate);}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update);}function endOperation_R2(op){var cm=op.cm,display=cm.display;if(op.updatedDisplay){updateHeightsInViewport(cm);}op.barMeasure=measureForScrollbars(cm);if(display.maxLineChanged&&!cm.options.lineWrapping){op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3;cm.display.sizerWidth=op.adjustWidthTo;op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth);op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm));}if(op.updatedDisplay||op.selectionChanged){op.preparedSelection=display.input.prepareSelection();}}function endOperation_W2(op){var cm=op.cm;if(op.adjustWidthTo!=null){cm.display.sizer.style.minWidth=op.adjustWidthTo+"px";if(op.maxScrollLeft<cm.doc.scrollLeft){setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),true);}cm.display.maxLineChanged=false;}var takeFocus=op.focus&&op.focus==activeElt();if(op.preparedSelection){cm.display.input.showSelection(op.preparedSelection,takeFocus);}if(op.updatedDisplay||op.startHeight!=cm.doc.height){updateScrollbars(cm,op.barMeasure);}if(op.updatedDisplay){setDocumentHeight(cm,op.barMeasure);}if(op.selectionChanged){restartBlink(cm);}if(cm.state.focused&&op.updateInput){cm.display.input.reset(op.typing);}if(takeFocus){ensureFocus(op.cm);}}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay){postUpdateDisplay(cm,op.update);}if(display.wheelStartX!=null&&(op.scrollTop!=null||op.scrollLeft!=null||op.scrollToPos)){display.wheelStartX=display.wheelStartY=null;}if(op.scrollTop!=null){setScrollTop(cm,op.scrollTop,op.forceScroll);}if(op.scrollLeft!=null){setScrollLeft(cm,op.scrollLeft,true,true);}if(op.scrollToPos){var rect=scrollPosIntoView(cm,_clipPos(doc,op.scrollToPos.from),_clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);maybeScrollWindow(cm,rect);}var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden){for(var i=0;i<hidden.length;++i){if(!hidden[i].lines.length){signal(hidden[i],"hide");}}}if(unhidden){for(var i$1=0;i$1<unhidden.length;++i$1){if(unhidden[i$1].lines.length){signal(unhidden[i$1],"unhide");}}}if(display.wrapper.offsetHeight){doc.scrollTop=cm.display.scroller.scrollTop;}if(op.changeObjs){signal(cm,"changes",cm,op.changeObjs);}if(op.update){op.update.finish();}}function runInOp(cm,f){if(cm.curOp){return f();}_startOperation(cm);try{return f();}finally{_endOperation(cm);}}function operation(cm,f){return function(){if(cm.curOp){return f.apply(cm,arguments);}_startOperation(cm);try{return f.apply(cm,arguments);}finally{_endOperation(cm);}};}function methodOp(f){return function(){if(this.curOp){return f.apply(this,arguments);}_startOperation(this);try{return f.apply(this,arguments);}finally{_endOperation(this);}};}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp){return f.apply(this,arguments);}_startOperation(cm);try{return f.apply(this,arguments);}finally{_endOperation(cm);}};}function startWorker(cm,time){if(cm.doc.highlightFrontier<cm.display.viewTo){cm.state.highlight.set(time,bind(highlightWorker,cm));}}function highlightWorker(cm){var doc=cm.doc;if(doc.highlightFrontier>=cm.display.viewTo){return;}var end=+new Date()+cm.options.workTime;var context=getContextBefore(cm,doc.highlightFrontier);var changedLines=[];doc.iter(context.line,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(context.line>=cm.display.viewFrom){var oldStyles=line.styles;var resetState=line.text.length>cm.options.maxHighlightLength?copyState(doc.mode,context.state):null;var highlighted=highlightLine(cm,line,context,true);if(resetState){context.state=resetState;}line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;if(newCls){line.styleClasses=newCls;}else if(oldCls){line.styleClasses=null;}var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass);for(var i=0;!ischange&&i<oldStyles.length;++i){ischange=oldStyles[i]!=line.styles[i];}if(ischange){changedLines.push(context.line);}line.stateAfter=context.save();context.nextLine();}else{if(line.text.length<=cm.options.maxHighlightLength){processLine(cm,line.text,context);}line.stateAfter=context.line%5==0?context.save():null;context.nextLine();}if(+new Date()>end){startWorker(cm,cm.options.workDelay);return true;}});doc.highlightFrontier=context.line;doc.modeFrontier=Math.max(doc.modeFrontier,context.line);if(changedLines.length){runInOp(cm,function(){for(var i=0;i<changedLines.length;i++){regLineChange(cm,changedLines[i],"text");}});}}var DisplayUpdate=function DisplayUpdate(cm,viewport,force){var display=cm.display;this.viewport=viewport;this.visible=visibleLines(display,cm.doc,viewport);this.editorIsHidden=!display.wrapper.offsetWidth;this.wrapperHeight=display.wrapper.clientHeight;this.wrapperWidth=display.wrapper.clientWidth;this.oldDisplayWidth=displayWidth(cm);this.force=force;this.dims=getDimensions(cm);this.events=[];};DisplayUpdate.prototype.signal=function(emitter,type){if(hasHandler(emitter,type)){this.events.push(arguments);}};DisplayUpdate.prototype.finish=function(){var this$1=this;for(var i=0;i<this.events.length;i++){signal.apply(null,this$1.events[i]);}};function maybeClipScrollbars(cm){var display=cm.display;if(!display.scrollbarsClipped&&display.scroller.offsetWidth){display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;display.heightForcer.style.height=scrollGap(cm)+"px";display.sizer.style.marginBottom=-display.nativeBarWidth+"px";display.sizer.style.borderRightWidth=scrollGap(cm)+"px";display.scrollbarsClipped=true;}}function selectionSnapshot(cm){if(cm.hasFocus()){return null;}var active=activeElt();if(!active||!contains(cm.display.lineDiv,active)){return null;}var result={activeElt:active};if(window.getSelection){var sel=window.getSelection();if(sel.anchorNode&&sel.extend&&contains(cm.display.lineDiv,sel.anchorNode)){result.anchorNode=sel.anchorNode;result.anchorOffset=sel.anchorOffset;result.focusNode=sel.focusNode;result.focusOffset=sel.focusOffset;}}return result;}function restoreSelection(snapshot){if(!snapshot||!snapshot.activeElt||snapshot.activeElt==activeElt()){return;}snapshot.activeElt.focus();if(snapshot.anchorNode&&contains(document.body,snapshot.anchorNode)&&contains(document.body,snapshot.focusNode)){var sel=window.getSelection(),range$$1=document.createRange();range$$1.setEnd(snapshot.anchorNode,snapshot.anchorOffset);range$$1.collapse(false);sel.removeAllRanges();sel.addRange(range$$1);sel.extend(snapshot.focusNode,snapshot.focusOffset);}}function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden){resetView(cm);return false;}if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&countDirtyView(cm)==0){return false;}if(maybeUpdateLineNumberWidth(cm)){resetView(cm);update.dims=getDimensions(cm);}var end=doc.first+doc.size;var from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first);var to=Math.min(end,update.visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&from-display.viewFrom<20){from=Math.max(doc.first,display.viewFrom);}if(display.viewTo>to&&display.viewTo-to<20){to=Math.min(end,display.viewTo);}if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to);}var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to);display.viewOffset=_heightAtLine(getLine(cm.doc,display.viewFrom));cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&toUpdate==0&&!update.force&&display.renderedView==display.view&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)){return false;}var selSnapshot=selectionSnapshot(cm);if(toUpdate>4){display.lineDiv.style.display="none";}patchDisplay(cm,display.updateLineNumbers,update.dims);if(toUpdate>4){display.lineDiv.style.display="";}display.renderedView=display.view;restoreSelection(selSnapshot);removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height=display.sizer.style.minHeight=0;if(different){display.lastWrapHeight=update.wrapperHeight;display.lastWrapWidth=update.wrapperWidth;startWorker(cm,400);}display.updateLineNumbers=null;return true;}function postUpdateDisplay(cm,update){var viewport=update.viewport;for(var first=true;;first=false){if(!first||!cm.options.lineWrapping||update.oldDisplayWidth==displayWidth(cm)){if(viewport&&viewport.top!=null){viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)};}update.visible=visibleLines(cm.display,cm.doc,viewport);if(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo){break;}}if(!updateDisplayIfNeeded(cm,update)){break;}updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.force=false;}update.signal(cm,"update",cm);if(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo);cm.display.reportedViewFrom=cm.display.viewFrom;cm.display.reportedViewTo=cm.display.viewTo;}}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm);postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.finish();}}function patchDisplay(cm,updateNumbersFrom,dims){var display=cm.display,lineNumbers=cm.options.lineNumbers;var container=display.lineDiv,cur=container.firstChild;function rm(node){var next=node.nextSibling;if(webkit&&mac&&cm.display.currentWheelTarget==node){node.style.display="none";}else{node.parentNode.removeChild(node);}return next;}var view=display.view,lineN=display.viewFrom;for(var i=0;i<view.length;i++){var lineView=view[i];if(lineView.hidden);else if(!lineView.node||lineView.node.parentNode!=container){var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur);}else{while(cur!=lineView.node){cur=rm(cur);}var updateNumber=lineNumbers&&updateNumbersFrom!=null&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(indexOf(lineView.changes,"gutter")>-1){updateNumber=false;}updateLineForChanges(cm,lineView,lineN,dims);}if(updateNumber){removeChildren(lineView.lineNumber);lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)));}cur=lineView.node.nextSibling;}lineN+=lineView.size;}while(cur){cur=rm(cur);}}function updateGutterSpace(display){var width=display.gutters.offsetWidth;display.sizer.style.marginLeft=width+"px";}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px";cm.display.heightForcer.style.top=measure.docHeight+"px";cm.display.gutters.style.height=measure.docHeight+cm.display.barHeight+scrollGap(cm)+"px";}function alignHorizontally(cm){var display=cm.display,view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter)){return;}var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft;var gutterW=display.gutters.offsetWidth,left=comp+"px";for(var i=0;i<view.length;i++){if(!view[i].hidden){if(cm.options.fixedGutter){if(view[i].gutter){view[i].gutter.style.left=left;}if(view[i].gutterBackground){view[i].gutterBackground.style.left=left;}}var align=view[i].alignable;if(align){for(var j=0;j<align.length;j++){align[j].style.left=left;}}}}if(cm.options.fixedGutter){display.gutters.style.left=comp+gutterW+"px";}}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers){return false;}var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;display.lineGutter.style.width="";display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding)+1;display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=display.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+"px";updateGutterSpace(cm.display);return true;}return false;}function getGutters(gutters,lineNumbers){var result=[],sawLineNumbers=false;for(var i=0;i<gutters.length;i++){var name=gutters[i],style=null;if(typeof name!="string"){style=name.style;name=name.className;}if(name=="CodeMirror-linenumbers"){if(!lineNumbers){continue;}else{sawLineNumbers=true;}}result.push({className:name,style:style});}if(lineNumbers&&!sawLineNumbers){result.push({className:"CodeMirror-linenumbers",style:null});}return result;}function renderGutters(display){var gutters=display.gutters,specs=display.gutterSpecs;removeChildren(gutters);display.lineGutter=null;for(var i=0;i<specs.length;++i){var ref=specs[i];var className=ref.className;var style=ref.style;var gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+className));if(style){gElt.style.cssText=style;}if(className=="CodeMirror-linenumbers"){display.lineGutter=gElt;gElt.style.width=(display.lineNumWidth||1)+"px";}}gutters.style.display=specs.length?"":"none";updateGutterSpace(display);}function updateGutters(cm){renderGutters(cm.display);regChange(cm);alignHorizontally(cm);}function Display(place,doc,input,options){var d=this;this.input=input;d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler");d.scrollbarFiller.setAttribute("cm-not-content","true");d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler");d.gutterFiller.setAttribute("cm-not-content","true");d.lineDiv=eltP("div",null,"CodeMirror-code");d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1");d.cursorDiv=elt("div",null,"CodeMirror-cursors");d.measure=elt("div",null,"CodeMirror-measure");d.lineMeasure=elt("div",null,"CodeMirror-measure");d.lineSpace=eltP("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");var lines=eltP("div",[d.lineSpace],"CodeMirror-lines");d.mover=elt("div",[lines],null,"position: relative");d.sizer=elt("div",[d.mover],"CodeMirror-sizer");d.sizerWidth=null;d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;");d.gutters=elt("div",null,"CodeMirror-gutters");d.lineGutter=null;d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll");d.scroller.setAttribute("tabIndex","-1");d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror");if(ie&&ie_version<8){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0;}if(!webkit&&!(gecko&&mobile)){d.scroller.draggable=true;}if(place){if(place.appendChild){place.appendChild(d.wrapper);}else{place(d.wrapper);}}d.viewFrom=d.viewTo=doc.first;d.reportedViewFrom=d.reportedViewTo=doc.first;d.view=[];d.renderedView=null;d.externalMeasured=null;d.viewOffset=0;d.lastWrapHeight=d.lastWrapWidth=0;d.updateLineNumbers=null;d.nativeBarWidth=d.barHeight=d.barWidth=0;d.scrollbarsClipped=false;d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;d.alignWidgets=false;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.maxLine=null;d.maxLineLength=0;d.maxLineChanged=false;d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;d.shift=false;d.selForContextMenu=null;d.activeTouch=null;d.gutterSpecs=getGutters(options.gutters,options.lineNumbers);renderGutters(d);input.init(d);}var wheelSamples=0,wheelPixelsPerUnit=null;if(ie){wheelPixelsPerUnit=-.53;}else if(gecko){wheelPixelsPerUnit=15;}else if(chrome){wheelPixelsPerUnit=-.7;}else if(safari){wheelPixelsPerUnit=-1/3;}function wheelEventDelta(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;if(dx==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS){dx=e.detail;}if(dy==null&&e.detail&&e.axis==e.VERTICAL_AXIS){dy=e.detail;}else if(dy==null){dy=e.wheelDelta;}return{x:dx,y:dy};}function wheelEventPixels(e){var delta=wheelEventDelta(e);delta.x*=wheelPixelsPerUnit;delta.y*=wheelPixelsPerUnit;return delta;}function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y;var display=cm.display,scroll=display.scroller;var canScrollX=scroll.scrollWidth>scroll.clientWidth;var canScrollY=scroll.scrollHeight>scroll.clientHeight;if(!(dx&&canScrollX||dy&&canScrollY)){return;}if(dy&&mac&&webkit){outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode){for(var i=0;i<view.length;i++){if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer;}}}}if(dx&&!gecko&&!presto&&wheelPixelsPerUnit!=null){if(dy&&canScrollY){updateScrollTop(cm,Math.max(0,scroll.scrollTop+dy*wheelPixelsPerUnit));}setScrollLeft(cm,Math.max(0,scroll.scrollLeft+dx*wheelPixelsPerUnit));if(!dy||dy&&canScrollY){e_preventDefault(e);}display.wheelStartX=null;return;}if(dy&&wheelPixelsPerUnit!=null){var pixels=dy*wheelPixelsPerUnit;var top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;if(pixels<0){top=Math.max(0,top+pixels-50);}else{bot=Math.min(cm.doc.height,bot+pixels+50);}updateDisplaySimple(cm,{top:top,bottom:bot});}if(wheelSamples<20){if(display.wheelStartX==null){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=dy;setTimeout(function(){if(display.wheelStartX==null){return;}var movedX=scroll.scrollLeft-display.wheelStartX;var movedY=scroll.scrollTop-display.wheelStartY;var sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null;if(!sample){return;}wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples;},200);}else{display.wheelDX+=dx;display.wheelDY+=dy;}}}var Selection=function Selection(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex;};Selection.prototype.primary=function(){return this.ranges[this.primIndex];};Selection.prototype.equals=function(other){var this$1=this;if(other==this){return true;}if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length){return false;}for(var i=0;i<this.ranges.length;i++){var here=this$1.ranges[i],there=other.ranges[i];if(!equalCursorPos(here.anchor,there.anchor)||!equalCursorPos(here.head,there.head)){return false;}}return true;};Selection.prototype.deepCopy=function(){var this$1=this;var out=[];for(var i=0;i<this.ranges.length;i++){out[i]=new Range(copyPos(this$1.ranges[i].anchor),copyPos(this$1.ranges[i].head));}return new Selection(out,this.primIndex);};Selection.prototype.somethingSelected=function(){var this$1=this;for(var i=0;i<this.ranges.length;i++){if(!this$1.ranges[i].empty()){return true;}}return false;};Selection.prototype.contains=function(pos,end){var this$1=this;if(!end){end=pos;}for(var i=0;i<this.ranges.length;i++){var range=this$1.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0){return i;}}return-1;};var Range=function Range(anchor,head){this.anchor=anchor;this.head=head;};Range.prototype.from=function(){return minPos(this.anchor,this.head);};Range.prototype.to=function(){return maxPos(this.anchor,this.head);};Range.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch;};function normalizeSelection(cm,ranges,primIndex){var mayTouch=cm&&cm.options.selectionsMayTouch;var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from());});primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1];var diff=cmp(prev.to(),cur.from());if(mayTouch&&!cur.empty()?diff>0:diff>=0){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to());var inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex){--primIndex;}ranges.splice(--i,2,new Range(inv?to:from,inv?from:to));}}return new Selection(ranges,primIndex);}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0);}function changeEnd(change){if(!change.text){return change.to;}return Pos(change.from.line+change.text.length-1,lst(change.text).length+(change.text.length==1?change.from.ch:0));}function adjustForChange(pos,change){if(cmp(pos,change.from)<0){return pos;}if(cmp(pos,change.to)<=0){return changeEnd(change);}var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;if(pos.line==change.to.line){ch+=changeEnd(change).ch-change.to.ch;}return Pos(line,ch);}function computeSelAfterChange(doc,change){var out=[];for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)));}return normalizeSelection(doc.cm,out,doc.sel.primIndex);}function offsetPos(pos,old,nw){if(pos.line==old.line){return Pos(nw.line,pos.ch-old.ch+nw.ch);}else{return Pos(nw.line+(pos.line-old.line),pos.ch);}}function computeReplacedSel(doc,changes,hint){var out=[];var oldPrev=Pos(doc.first,0),newPrev=oldPrev;for(var i=0;i<changes.length;i++){var change=changes[i];var from=offsetPos(change.from,oldPrev,newPrev);var to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if(hint=="around"){var range=doc.sel.ranges[i],inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to);}else{out[i]=new Range(from,from);}}return new Selection(out,doc.sel.primIndex);}function loadMode(cm){cm.doc.mode=getMode(cm.options,cm.doc.modeOption);resetModeState(cm);}function resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter){line.stateAfter=null;}if(line.styles){line.styles=null;}});cm.doc.modeFrontier=cm.doc.highlightFrontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp){regChange(cm);}}function isWholeLineUpdate(doc,change){return change.from.ch==0&&change.to.ch==0&&lst(change.text)==""&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore);}function updateDoc(doc,change,markedSpans,estimateHeight$$1){function spansFor(n){return markedSpans?markedSpans[n]:null;}function update(line,text,spans){updateLine(line,text,spans,estimateHeight$$1);signalLater(line,"change",line,change);}function linesFor(start,end){var result=[];for(var i=start;i<end;++i){result.push(new Line(text[i],spansFor(i),estimateHeight$$1));}return result;}var from=change.from,to=change.to,text=change.text;var firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line);var lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full){doc.insert(0,linesFor(0,text.length));doc.remove(text.length,doc.size-text.length);}else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans);if(nlines){doc.remove(from.line,nlines);}if(added.length){doc.insert(from.line,added);}}else if(firstLine==lastLine){if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans);}else{var added$1=linesFor(1,text.length-1);added$1.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight$$1));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added$1);}}else if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines);}else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added$2=linesFor(1,text.length-1);if(nlines>1){doc.remove(from.line+1,nlines-1);}doc.insert(from.line+1,added$2);}signalLater(doc,"change",doc,change);}function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked){for(var i=0;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc==skip){continue;}var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&!shared){continue;}f(rel.doc,shared);propagate(rel.doc,doc,shared);}}}propagate(doc,null,true);}function attachDoc(cm,doc){if(doc.cm){throw new Error("This document is already in use.");}cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);setDirectionClass(cm);if(!cm.options.lineWrapping){findMaxLine(cm);}cm.options.mode=doc.modeOption;regChange(cm);}function setDirectionClass(cm){(cm.doc.direction=="rtl"?addClass:rmClass)(cm.display.lineDiv,"CodeMirror-rtl");}function directionChanged(cm){runInOp(cm,function(){setDirectionClass(cm);regChange(cm);});}function History(startGen){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=startGen||1;}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);linkedDocs(doc,function(doc){return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);},true);return histChange;}function clearSelectionEvents(array){while(array.length){var last=lst(array);if(last.ranges){array.pop();}else{break;}}}function lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done);}else if(hist.done.length&&!lst(hist.done).ranges){return lst(hist.done);}else if(hist.done.length>1&&!hist.done[hist.done.length-2].ranges){hist.done.pop();return lst(hist.done);}}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date(),cur;var last;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&(change.origin.charAt(0)=="+"&&hist.lastModTime>time-(doc.cm?doc.cm.options.historyEventDelay:500)||change.origin.charAt(0)=="*"))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){last=lst(cur.changes);if(cmp(change.from,change.to)==0&&cmp(change.from,last.to)==0){last.to=changeEnd(change);}else{cur.changes.push(historyChangeFromChange(doc,change));}}else{var before=lst(hist.done);if(!before||!before.ranges){pushSelectionToHistory(doc.sel,hist.done);}cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);while(hist.done.length>hist.undoDepth){hist.done.shift();if(!hist.done[0].ranges){hist.done.shift();}}}hist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=hist.lastSelOp=opId;hist.lastOrigin=hist.lastSelOrigin=change.origin;if(!last){signal(doc,"historyAdded");}}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return ch=="*"||ch=="+"&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date()-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500);}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;if(opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel))){hist.done[hist.done.length-1]=sel;}else{pushSelectionToHistory(sel,hist.done);}hist.lastSelTime=+new Date();hist.lastSelOrigin=origin;hist.lastSelOp=opId;if(options&&options.clearRedo!==false){clearSelectionEvents(hist.undone);}}function pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel))){dest.push(sel);}}function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){if(line.markedSpans){(existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans;}++n;});}function removeClearedSpans(spans){if(!spans){return null;}var out;for(var i=0;i<spans.length;++i){if(spans[i].marker.explicitlyCleared){if(!out){out=spans.slice(0,i);}}else if(out){out.push(spans[i]);}}return!out?spans:out.length?out:null;}function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found){return null;}var nw=[];for(var i=0;i<change.text.length;++i){nw.push(removeClearedSpans(found[i]));}return nw;}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change);var stretched=stretchSpansOverChange(doc,change);if(!old){return stretched;}if(!stretched){return old;}for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur){spans:for(var j=0;j<stretchCur.length;++j){var span=stretchCur[j];for(var k=0;k<oldCur.length;++k){if(oldCur[k].marker==span.marker){continue spans;}}oldCur.push(span);}}else if(stretchCur){old[i]=stretchCur;}}return old;}function copyHistoryArray(events,newGroup,instantiateSel){var copy=[];for(var i=0;i<events.length;++i){var event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue;}var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var change=changes[j],m=void 0;newChanges.push({from:change.from,to:change.to,text:change.text});if(newGroup){for(var prop in change){if(m=prop.match(/^spans_(\d+)$/)){if(indexOf(newGroup,Number(m[1]))>-1){lst(newChanges)[prop]=change[prop];delete change[prop];}}}}}}return copy;}function extendRange(range,head,other,extend){if(extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;if(posBefore!=cmp(other,anchor)<0){anchor=head;head=other;}else if(posBefore!=cmp(head,other)<0){head=other;}}return new Range(anchor,head);}else{return new Range(other||head,head);}}function extendSelection(doc,head,other,options,extend){if(extend==null){extend=doc.cm&&(doc.cm.display.shift||doc.extend);}setSelection(doc,new Selection([extendRange(doc.sel.primary(),head,other,extend)],0),options);}function extendSelections(doc,heads,options){var out=[];var extend=doc.cm&&(doc.cm.display.shift||doc.extend);for(var i=0;i<doc.sel.ranges.length;i++){out[i]=extendRange(doc.sel.ranges[i],heads[i],null,extend);}var newSel=normalizeSelection(doc.cm,out,doc.sel.primIndex);setSelection(doc,newSel,options);}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(doc.cm,ranges,doc.sel.primIndex),options);}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options);}function filterSelectionChange(doc,sel,options){var obj={ranges:sel.ranges,update:function update(ranges){var this$1=this;this.ranges=[];for(var i=0;i<ranges.length;i++){this$1.ranges[i]=new Range(_clipPos(doc,ranges[i].anchor),_clipPos(doc,ranges[i].head));}},origin:options&&options.origin};signal(doc,"beforeSelectionChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeSelectionChange",doc.cm,obj);}if(obj.ranges!=sel.ranges){return normalizeSelection(doc.cm,obj.ranges,obj.ranges.length-1);}else{return sel;}}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;setSelectionNoUndo(doc,sel,options);}else{setSelection(doc,sel,options);}}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options);}function setSelectionNoUndo(doc,sel,options){if(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange")){sel=filterSelectionChange(doc,sel,options);}var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,true));if(!(options&&options.scroll===false)&&doc.cm){ensureCursorVisible(doc.cm);}}function setSelectionInner(doc,sel){if(sel.equals(doc.sel)){return;}doc.sel=sel;if(doc.cm){doc.cm.curOp.updateInput=1;doc.cm.curOp.selectionChanged=true;signalCursorActivity(doc.cm);}signalLater(doc,"cursorActivity",doc);}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,false));}function skipAtomicInSelection(doc,sel,bias,mayClear){var out;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];var old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i];var newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear);var newHead=skipAtomic(doc,range.head,old&&old.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out){out=sel.ranges.slice(0,i);}out[i]=new Range(newAnchor,newHead);}}return out?normalizeSelection(doc.cm,out,sel.primIndex):sel;}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;var preventCursorLeft="selectLeft"in m?!m.selectLeft:m.inclusiveLeft;var preventCursorRight="selectRight"in m?!m.selectRight:m.inclusiveRight;if((sp.from==null||(preventCursorLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(sp.to==null||(preventCursorRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear){signal(m,"beforeCursorEnter");if(m.explicitlyCleared){if(!line.markedSpans){break;}else{--i;continue;}}}if(!m.atomic){continue;}if(oldPos){var near=m.find(dir<0?1:-1),diff=void 0;if(dir<0?preventCursorRight:preventCursorLeft){near=movePos(doc,near,-dir,near&&near.line==pos.line?line:null);}if(near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(dir<0?diff<0:diff>0)){return skipAtomicInner(doc,near,pos,dir,mayClear);}}var far=m.find(dir<0?-1:1);if(dir<0?preventCursorLeft:preventCursorRight){far=movePos(doc,far,dir,far.line==pos.line?line:null);}return far?skipAtomicInner(doc,far,pos,dir,mayClear):null;}}}return pos;}function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1;var found=skipAtomicInner(doc,pos,oldPos,dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,true)||skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,true);if(!found){doc.cantEdit=true;return Pos(doc.first,0);}return found;}function movePos(doc,pos,dir,line){if(dir<0&&pos.ch==0){if(pos.line>doc.first){return _clipPos(doc,Pos(pos.line-1));}else{return null;}}else if(dir>0&&pos.ch==(line||getLine(doc,pos.line)).text.length){if(pos.line<doc.first+doc.size-1){return Pos(pos.line+1,0);}else{return null;}}else{return new Pos(pos.line,pos.ch+dir);}}function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll);}function filterChange(doc,change,update){var obj={canceled:false,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function cancel(){return obj.canceled=true;}};if(update){obj.update=function(from,to,text,origin){if(from){obj.from=_clipPos(doc,from);}if(to){obj.to=_clipPos(doc,to);}if(text){obj.text=text;}if(origin!==undefined){obj.origin=origin;}};}signal(doc,"beforeChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeChange",doc.cm,obj);}if(obj.canceled){if(doc.cm){doc.cm.curOp.updateInput=2;}return null;}return{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin};}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp){return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);}if(doc.cm.state.suppressEdits){return;}}if(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange")){change=filterChange(doc,change,true);if(!change){return;}}var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split){for(var i=split.length-1;i>=0;--i){makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text,origin:change.origin});}}else{makeChangeInner(doc,change);}}function makeChangeInner(doc,change){if(change.text.length==1&&change.text[0]==""&&cmp(change.from,change.to)==0){return;}var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history);}makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change));});}function makeChangeFromHistory(doc,type,allowSelectionOnly){var suppress=doc.cm&&doc.cm.state.suppressEdits;if(suppress&&!allowSelectionOnly){return;}var hist=doc.history,event,selAfter=doc.sel;var source=type=="undo"?hist.done:hist.undone,dest=type=="undo"?hist.undone:hist.done;var i=0;for(;i<source.length;i++){event=source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges){break;}}if(i==source.length){return;}hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:false});return;}selAfter=event;}else if(suppress){source.push(event);return;}else{break;}}var antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});hist.generation=event.generation||++hist.maxGeneration;var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange");var loop=function loop(i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,false)){source.length=0;return{};}antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));if(!i&&doc.cm){doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)});}var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history);}makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change));});};for(var i$1=event.changes.length-1;i$1>=0;--i$1){var returned=loop(i$1);if(returned)return returned.v;}}function shiftDoc(doc,distance){if(distance==0){return;}doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch));}),doc.sel.primIndex);if(doc.cm){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++){regLineChange(doc.cm,l,"gutter");}}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);}if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));return;}if(change.from.line>doc.lastLine()){return;}if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin};}var last=doc.lastLine();if(change.to.line>last){change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin};}change.removed=getBetween(doc,change.from,change.to);if(!selAfter){selAfter=computeSelAfterChange(doc,change);}if(doc.cm){makeChangeSingleDocInEditor(doc.cm,change,spans);}else{updateDoc(doc,change,spans);}setSelectionNoUndo(doc,selAfter,sel_dontScroll);if(doc.cantEdit&&skipAtomic(doc,Pos(doc.firstLine(),0))){doc.cantEdit=false;}}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to;var recomputeMaxLength=false,checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,from.line)));doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=true;return true;}});}if(doc.sel.contains(change.from,change.to)>-1){signalCursorActivity(cm);}updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=line;display.maxLineLength=len;display.maxLineChanged=true;recomputeMaxLength=false;}});if(recomputeMaxLength){cm.curOp.updateMaxLine=true;}}retreatFrontier(doc,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;if(change.full){regChange(cm);}else if(from.line==to.line&&change.text.length==1&&!isWholeLineUpdate(cm.doc,change)){regLineChange(cm,from.line,"text");}else{regChange(cm,from.line,to.line+1,lendiff);}var changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};if(changeHandler){signalLater(cm,"change",cm,obj);}if(changesHandler){(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj);}}cm.display.selForContextMenu=null;}function _replaceRange(doc,code,from,to,origin){var assign;if(!to){to=from;}if(cmp(to,from)<0){assign=[to,from],from=assign[0],to=assign[1];}if(typeof code=="string"){code=doc.splitLines(code);}makeChange(doc,{from:from,to:to,text:code,origin:origin});}function rebaseHistSelSingle(pos,from,to,diff){if(to<pos.line){pos.line+=diff;}else if(from<pos.line){pos.line=from;pos.ch=0;}}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=true;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=true;}for(var j=0;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff);}continue;}for(var j$1=0;j$1<sub.changes.length;++j$1){var cur=sub.changes[j$1];if(to<cur.from.line){cur.from=Pos(cur.from.line+diff,cur.from.ch);cur.to=Pos(cur.to.line+diff,cur.to.ch);}else if(from<=cur.to.line){ok=false;break;}}if(!ok){array.splice(0,i+1);i=0;}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff);}function changeLine(doc,handle,changeType,op){var no=handle,line=handle;if(typeof handle=="number"){line=getLine(doc,clipLine(doc,handle));}else{no=lineNo(handle);}if(no==null){return null;}if(op(line,no)&&doc.cm){regLineChange(doc.cm,no,changeType);}return line;}function LeafChunk(lines){var this$1=this;this.lines=lines;this.parent=null;var height=0;for(var i=0;i<lines.length;++i){lines[i].parent=this$1;height+=lines[i].height;}this.height=height;}LeafChunk.prototype={chunkSize:function chunkSize(){return this.lines.length;},removeInner:function removeInner(at,n){var this$1=this;for(var i=at,e=at+n;i<e;++i){var line=this$1.lines[i];this$1.height-=line.height;cleanUpLine(line);signalLater(line,"delete");}this.lines.splice(at,n);},collapse:function collapse(lines){lines.push.apply(lines,this.lines);},insertInner:function insertInner(at,lines,height){var this$1=this;this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i){lines[i].parent=this$1;}},iterN:function iterN(at,n,op){var this$1=this;for(var e=at+n;at<e;++at){if(op(this$1.lines[at])){return true;}}}};function BranchChunk(children){var this$1=this;this.children=children;var size=0,height=0;for(var i=0;i<children.length;++i){var ch=children[i];size+=ch.chunkSize();height+=ch.height;ch.parent=this$1;}this.size=size;this.height=height;this.parent=null;}BranchChunk.prototype={chunkSize:function chunkSize(){return this.size;},removeInner:function removeInner(at,n){var this$1=this;this.size-=n;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at),oldHeight=child.height;child.removeInner(at,rm);this$1.height-=oldHeight-child.height;if(sz==rm){this$1.children.splice(i--,1);child.parent=null;}if((n-=rm)==0){break;}at=0;}else{at-=sz;}}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines);this.children=[new LeafChunk(lines)];this.children[0].parent=this;}},collapse:function collapse(lines){var this$1=this;for(var i=0;i<this.children.length;++i){this$1.children[i].collapse(lines);}},insertInner:function insertInner(at,lines,height){var this$1=this;this.size+=lines.length;this.height+=height;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<=sz){child.insertInner(at,lines,height);if(child.lines&&child.lines.length>50){var remaining=child.lines.length%25+25;for(var pos=remaining;pos<child.lines.length;){var leaf=new LeafChunk(child.lines.slice(pos,pos+=25));child.height-=leaf.height;this$1.children.splice(++i,0,leaf);leaf.parent=this$1;}child.lines=child.lines.slice(0,remaining);this$1.maybeSpill();}break;}at-=sz;}},maybeSpill:function maybeSpill(){if(this.children.length<=10){return;}var me=this;do{var spilled=me.children.splice(me.children.length-5,5);var sibling=new BranchChunk(spilled);if(!me.parent){var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy;}else{me.size-=sibling.size;me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling);}sibling.parent=me.parent;}while(me.children.length>10);me.parent.maybeSpill();},iterN:function iterN(at,n,op){var this$1=this;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op)){return true;}if((n-=used)==0){break;}at=0;}else{at-=sz;}}}};var LineWidget=function LineWidget(doc,node,options){var this$1=this;if(options){for(var opt in options){if(options.hasOwnProperty(opt)){this$1[opt]=options[opt];}}}this.doc=doc;this.node=node;};LineWidget.prototype.clear=function(){var this$1=this;var cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(no==null||!ws){return;}for(var i=0;i<ws.length;++i){if(ws[i]==this$1){ws.splice(i--,1);}}if(!ws.length){line.widgets=null;}var height=widgetHeight(this);updateLineHeight(line,Math.max(0,line.height-height));if(cm){runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,"widget");});signalLater(cm,"lineWidgetCleared",cm,this,no);}};LineWidget.prototype.changed=function(){var this$1=this;var oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff){return;}if(!lineIsHidden(this.doc,line)){updateLineHeight(line,line.height+diff);}if(cm){runInOp(cm,function(){cm.curOp.forceUpdate=true;adjustScrollWhenAboveVisible(cm,line,diff);signalLater(cm,"lineWidgetChanged",cm,this$1,lineNo(line));});}};eventMixin(LineWidget);function adjustScrollWhenAboveVisible(cm,line,diff){if(_heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop)){addToScrollTop(cm,diff);}}function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options);var cm=doc.cm;if(cm&&widget.noHScroll){cm.display.alignWidgets=true;}changeLine(doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(widget.insertAt==null){widgets.push(widget);}else{widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget);}widget.line=line;if(cm&&!lineIsHidden(doc,line)){var aboveVisible=_heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible){addToScrollTop(cm,widget.height);}cm.curOp.forceUpdate=true;}return true;});if(cm){signalLater(cm,"lineWidgetAdded",cm,widget,typeof handle=="number"?handle:lineNo(handle));}return widget;}var nextMarkerId=0;var TextMarker=function TextMarker(doc,type){this.lines=[];this.type=type;this.doc=doc;this.id=++nextMarkerId;};TextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return;}var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp){_startOperation(cm);}if(hasHandler(this,"clear")){var found=this.find();if(found){signalLater(this,"clear",found.from,found.to);}}var min=null,max=null;for(var i=0;i<this.lines.length;++i){var line=this$1.lines[i];var span=getMarkedSpanFor(line.markedSpans,this$1);if(cm&&!this$1.collapsed){regLineChange(cm,lineNo(line),"text");}else if(cm){if(span.to!=null){max=lineNo(line);}if(span.from!=null){min=lineNo(line);}}line.markedSpans=removeMarkedSpan(line.markedSpans,span);if(span.from==null&&this$1.collapsed&&!lineIsHidden(this$1.doc,line)&&cm){updateLineHeight(line,textHeight(cm.display));}}if(cm&&this.collapsed&&!cm.options.lineWrapping){for(var i$1=0;i$1<this.lines.length;++i$1){var visual=visualLine(this$1.lines[i$1]),len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;cm.display.maxLineChanged=true;}}}if(min!=null&&cm&&this.collapsed){regChange(cm,min,max+1);}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(cm){reCheckSelection(cm.doc);}}if(cm){signalLater(cm,"markerCleared",cm,this,min,max);}if(withOp){_endOperation(cm);}if(this.parent){this.parent.clear();}};TextMarker.prototype.find=function(side,lineObj){var this$1=this;if(side==null&&this.type=="bookmark"){side=1;}var from,to;for(var i=0;i<this.lines.length;++i){var line=this$1.lines[i];var span=getMarkedSpanFor(line.markedSpans,this$1);if(span.from!=null){from=Pos(lineObj?line:lineNo(line),span.from);if(side==-1){return from;}}if(span.to!=null){to=Pos(lineObj?line:lineNo(line),span.to);if(side==1){return to;}}}return from&&{from:from,to:to};};TextMarker.prototype.changed=function(){var this$1=this;var pos=this.find(-1,true),widget=this,cm=this.doc.cm;if(!pos||!cm){return;}runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line);var view=findViewForLine(cm,lineN);if(view){clearLineMeasurementCacheFor(view);cm.curOp.selectionChanged=cm.curOp.forceUpdate=true;}cm.curOp.updateMaxLine=true;if(!lineIsHidden(widget.doc,line)&&widget.height!=null){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;if(dHeight){updateLineHeight(line,line.height+dHeight);}}signalLater(cm,"markerChanged",cm,this$1);});};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||indexOf(op.maybeHiddenMarkers,this)==-1){(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this);}}this.lines.push(line);};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this);}};eventMixin(TextMarker);function _markText(doc,from,to,options,type){if(options&&options.shared){return markTextShared(doc,from,to,options,type);}if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,_markText)(doc,from,to,options,type);}var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options){copyObj(options,marker,false);}if(diff>0||diff==0&&marker.clearWhenEmpty!==false){return marker;}if(marker.replacedWith){marker.collapsed=true;marker.widgetNode=eltP("span",[marker.replacedWith],"CodeMirror-widget");if(!options.handleMouseEvents){marker.widgetNode.setAttribute("cm-ignore-events","true");}if(options.insertLeft){marker.widgetNode.insertLeft=true;}}if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker)){throw new Error("Inserting collapsed marker partially overlapping an existing one");}seeCollapsedSpans();}if(marker.addToHistory){addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN);}var curLine=from.line,cm=doc.cm,updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine){updateMaxLine=true;}if(marker.collapsed&&curLine!=from.line){updateLineHeight(line,0);}addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null));++curLine;});if(marker.collapsed){doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line)){updateLineHeight(line,0);}});}if(marker.clearOnEnter){on(marker,"beforeCursorEnter",function(){return marker.clear();});}if(marker.readOnly){seeReadOnlySpans();if(doc.history.done.length||doc.history.undone.length){doc.clearHistory();}}if(marker.collapsed){marker.id=++nextMarkerId;marker.atomic=true;}if(cm){if(updateMaxLine){cm.curOp.updateMaxLine=true;}if(marker.collapsed){regChange(cm,from.line,to.line+1);}else if(marker.className||marker.startStyle||marker.endStyle||marker.css||marker.attributes||marker.title){for(var i=from.line;i<=to.line;i++){regLineChange(cm,i,"text");}}if(marker.atomic){reCheckSelection(cm.doc);}signalLater(cm,"markerAdded",cm,marker);}return marker;}var SharedTextMarker=function SharedTextMarker(markers,primary){var this$1=this;this.markers=markers;this.primary=primary;for(var i=0;i<markers.length;++i){markers[i].parent=this$1;}};SharedTextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return;}this.explicitlyCleared=true;for(var i=0;i<this.markers.length;++i){this$1.markers[i].clear();}signalLater(this,"clear");};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj);};eventMixin(SharedTextMarker);function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=false;var markers=[_markText(doc,from,to,options,type)],primary=markers[0];var widget=options.widgetNode;linkedDocs(doc,function(doc){if(widget){options.widgetNode=widget.cloneNode(true);}markers.push(_markText(doc,_clipPos(doc,from),_clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i){if(doc.linked[i].isParent){return;}}primary=lst(markers);});return new SharedTextMarker(markers,primary);}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent;});}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find();var mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=_markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark);subMark.parent=marker;}}}function detachSharedMarkers(markers){var loop=function loop(i){var marker=markers[i],linked=[marker.primary.doc];linkedDocs(marker.primary.doc,function(d){return linked.push(d);});for(var j=0;j<marker.markers.length;j++){var subMarker=marker.markers[j];if(indexOf(linked,subMarker.doc)==-1){subMarker.parent=null;marker.markers.splice(j--,1);}}};for(var i=0;i<markers.length;i++){loop(i);}}var nextDocId=0;var Doc=function Doc(text,mode,firstLine,lineSep,direction){if(!(this instanceof Doc)){return new Doc(text,mode,firstLine,lineSep,direction);}if(firstLine==null){firstLine=0;}BranchChunk.call(this,[new LeafChunk([new Line("",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;this.lineSep=lineSep;this.direction=direction=="rtl"?"rtl":"ltr";this.extend=false;if(typeof text=="string"){text=this.splitLines(text);}updateDoc(this,{from:start,to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll);};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function iter(from,to,op){if(op){this.iterN(from-this.first,to-from,op);}else{this.iterN(this.first,this.first+this.size,from);}},insert:function insert(at,lines){var height=0;for(var i=0;i<lines.length;++i){height+=lines[i].height;}this.insertInner(at-this.first,lines,height);},remove:function remove(at,n){this.removeInner(at-this.first,n);},getValue:function getValue(lineSep){var lines=getLines(this,this.first,this.first+this.size);if(lineSep===false){return lines;}return lines.join(lineSep||this.lineSeparator());},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:"setValue",full:true},true);if(this.cm){scrollToCoords(this.cm,0,0);}setSelection(this,simpleSelection(top),sel_dontScroll);}),replaceRange:function replaceRange(code,from,to,origin){from=_clipPos(this,from);to=to?_clipPos(this,to):from;_replaceRange(this,code,from,to,origin);},getRange:function getRange(from,to,lineSep){var lines=getBetween(this,_clipPos(this,from),_clipPos(this,to));if(lineSep===false){return lines;}return lines.join(lineSep||this.lineSeparator());},getLine:function getLine(line){var l=this.getLineHandle(line);return l&&l.text;},getLineHandle:function getLineHandle(line){if(isLine(this,line)){return getLine(this,line);}},getLineNumber:function getLineNumber(line){return lineNo(line);},getLineHandleVisualStart:function getLineHandleVisualStart(line){if(typeof line=="number"){line=getLine(this,line);}return visualLine(line);},lineCount:function lineCount(){return this.size;},firstLine:function firstLine(){return this.first;},lastLine:function lastLine(){return this.first+this.size-1;},clipPos:function clipPos(pos){return _clipPos(this,pos);},getCursor:function getCursor(start){var range$$1=this.sel.primary(),pos;if(start==null||start=="head"){pos=range$$1.head;}else if(start=="anchor"){pos=range$$1.anchor;}else if(start=="end"||start=="to"||start===false){pos=range$$1.to();}else{pos=range$$1.from();}return pos;},listSelections:function listSelections(){return this.sel.ranges;},somethingSelected:function somethingSelected(){return this.sel.somethingSelected();},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,_clipPos(this,typeof line=="number"?Pos(line,ch||0):line),null,options);}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,_clipPos(this,anchor),_clipPos(this,head||anchor),options);}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,_clipPos(this,head),other&&_clipPos(this,other),options);}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads),options);}),extendSelectionsBy:docMethodOp(function(f,options){var heads=map(this.sel.ranges,f);extendSelections(this,clipPosArray(this,heads),options);}),setSelections:docMethodOp(function(ranges,primary,options){var this$1=this;if(!ranges.length){return;}var out=[];for(var i=0;i<ranges.length;i++){out[i]=new Range(_clipPos(this$1,ranges[i].anchor),_clipPos(this$1,ranges[i].head));}if(primary==null){primary=Math.min(ranges.length-1,this.sel.primIndex);}setSelection(this,normalizeSelection(this.cm,out,primary),options);}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(_clipPos(this,anchor),_clipPos(this,head||anchor)));setSelection(this,normalizeSelection(this.cm,ranges,ranges.length-1),options);}),getSelection:function getSelection(lineSep){var this$1=this;var ranges=this.sel.ranges,lines;for(var i=0;i<ranges.length;i++){var sel=getBetween(this$1,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel;}if(lineSep===false){return lines;}else{return lines.join(lineSep||this.lineSeparator());}},getSelections:function getSelections(lineSep){var this$1=this;var parts=[],ranges=this.sel.ranges;for(var i=0;i<ranges.length;i++){var sel=getBetween(this$1,ranges[i].from(),ranges[i].to());if(lineSep!==false){sel=sel.join(lineSep||this$1.lineSeparator());}parts[i]=sel;}return parts;},replaceSelection:function replaceSelection(code,collapse,origin){var dup=[];for(var i=0;i<this.sel.ranges.length;i++){dup[i]=code;}this.replaceSelections(dup,collapse,origin||"+input");},replaceSelections:docMethodOp(function(code,collapse,origin){var this$1=this;var changes=[],sel=this.sel;for(var i=0;i<sel.ranges.length;i++){var range$$1=sel.ranges[i];changes[i]={from:range$$1.from(),to:range$$1.to(),text:this$1.splitLines(code[i]),origin:origin};}var newSel=collapse&&collapse!="end"&&computeReplacedSel(this,changes,collapse);for(var i$1=changes.length-1;i$1>=0;i$1--){makeChange(this$1,changes[i$1]);}if(newSel){setSelectionReplaceHistory(this,newSel);}else if(this.cm){ensureCursorVisible(this.cm);}}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo");}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo");}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",true);}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",true);}),setExtending:function setExtending(val){this.extend=val;},getExtending:function getExtending(){return this.extend;},historySize:function historySize(){var hist=this.history,done=0,undone=0;for(var i=0;i<hist.done.length;i++){if(!hist.done[i].ranges){++done;}}for(var i$1=0;i$1<hist.undone.length;i$1++){if(!hist.undone[i$1].ranges){++undone;}}return{undo:done,redo:undone};},clearHistory:function clearHistory(){this.history=new History(this.history.maxGeneration);},markClean:function markClean(){this.cleanGeneration=this.changeGeneration(true);},changeGeneration:function changeGeneration(forceSplit){if(forceSplit){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null;}return this.history.generation;},isClean:function isClean(gen){return this.history.generation==(gen||this.cleanGeneration);},getHistory:function getHistory(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)};},setHistory:function setHistory(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,true);hist.undone=copyHistoryArray(histData.undone.slice(0),null,true);},setGutterMarker:docMethodOp(function(line,gutterID,value){return changeLine(this,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});markers[gutterID]=value;if(!value&&isEmpty(markers)){line.gutterMarkers=null;}return true;});}),clearGutter:docMethodOp(function(gutterID){var this$1=this;this.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID]){changeLine(this$1,line,"gutter",function(){line.gutterMarkers[gutterID]=null;if(isEmpty(line.gutterMarkers)){line.gutterMarkers=null;}return true;});}});}),lineInfo:function lineInfo(line){var n;if(typeof line=="number"){if(!isLine(this,line)){return null;}n=line;line=getLine(this,line);if(!line){return null;}}else{n=lineNo(line);if(n==null){return null;}}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets};},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";if(!line[prop]){line[prop]=cls;}else if(classTest(cls).test(line[prop])){return false;}else{line[prop]+=" "+cls;}return true;});}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";var cur=line[prop];if(!cur){return false;}else if(cls==null){line[prop]=null;}else{var found=cur.match(classTest(cls));if(!found){return false;}var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||end==cur.length?"":" ")+cur.slice(end)||null;}return true;});}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options);}),removeLineWidget:function removeLineWidget(widget){widget.clear();},markText:function markText(from,to,options){return _markText(this,_clipPos(this,from),_clipPos(this,to),options,options&&options.type||"range");},setBookmark:function setBookmark(pos,options){var realOpts={replacedWith:options&&(options.nodeType==null?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:false,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};pos=_clipPos(this,pos);return _markText(this,pos,pos,realOpts,"bookmark");},findMarksAt:function findMarksAt(pos){pos=_clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if((span.from==null||span.from<=pos.ch)&&(span.to==null||span.to>=pos.ch)){markers.push(span.marker.parent||span.marker);}}}return markers;},findMarks:function findMarks(from,to,filter){from=_clipPos(this,from);to=_clipPos(this,to);var found=[],lineNo$$1=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans){for(var i=0;i<spans.length;i++){var span=spans[i];if(!(span.to!=null&&lineNo$$1==from.line&&from.ch>=span.to||span.from==null&&lineNo$$1!=from.line||span.from!=null&&lineNo$$1==to.line&&span.from>=to.ch)&&(!filter||filter(span.marker))){found.push(span.marker.parent||span.marker);}}}++lineNo$$1;});return found;},getAllMarks:function getAllMarks(){var markers=[];this.iter(function(line){var sps=line.markedSpans;if(sps){for(var i=0;i<sps.length;++i){if(sps[i].from!=null){markers.push(sps[i].marker);}}}});return markers;},posFromIndex:function posFromIndex(off){var ch,lineNo$$1=this.first,sepSize=this.lineSeparator().length;this.iter(function(line){var sz=line.text.length+sepSize;if(sz>off){ch=off;return true;}off-=sz;++lineNo$$1;});return _clipPos(this,Pos(lineNo$$1,ch));},indexFromPos:function indexFromPos(coords){coords=_clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||coords.ch<0){return 0;}var sepSize=this.lineSeparator().length;this.iter(this.first,coords.line,function(line){index+=line.text.length+sepSize;});return index;},copy:function copy(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=false;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory());}return doc;},linkedDoc:function linkedDoc(options){if(!options){options={};}var from=this.first,to=this.first+this.size;if(options.from!=null&&options.from>from){from=options.from;}if(options.to!=null&&options.to<to){to=options.to;}var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep,this.direction);if(options.sharedHist){copy.history=this.history;}(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:true,sharedHist:options.sharedHist}];copySharedMarkers(copy,findSharedMarkers(this));return copy;},unlinkDoc:function unlinkDoc(other){var this$1=this;if(other instanceof CodeMirror){other=other.doc;}if(this.linked){for(var i=0;i<this.linked.length;++i){var link=this$1.linked[i];if(link.doc!=other){continue;}this$1.linked.splice(i,1);other.unlinkDoc(this$1);detachSharedMarkers(findSharedMarkers(this$1));break;}}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){return splitIds.push(doc.id);},true);other.history=new History(null);other.history.done=copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds);}},iterLinkedDocs:function iterLinkedDocs(f){linkedDocs(this,f);},getMode:function getMode(){return this.mode;},getEditor:function getEditor(){return this.cm;},splitLines:function splitLines(str){if(this.lineSep){return str.split(this.lineSep);}return splitLinesAuto(str);},lineSeparator:function lineSeparator(){return this.lineSep||"\n";},setDirection:docMethodOp(function(dir){if(dir!="rtl"){dir="ltr";}if(dir==this.direction){return;}this.direction=dir;this.iter(function(line){return line.order=null;});if(this.cm){directionChanged(this.cm);}})});Doc.prototype.eachLine=Doc.prototype.iter;var lastDrop=0;function onDrop(e){var cm=this;clearDragCursor(cm);if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return;}e_preventDefault(e);if(ie){lastDrop=+new Date();}var pos=posFromMouse(cm,e,true),files=e.dataTransfer.files;if(!pos||cm.isReadOnly()){return;}if(files&&files.length&&window.FileReader&&window.File){var n=files.length,text=Array(n),read=0;var loadFile=function loadFile(file,i){if(cm.options.allowDropFileTypes&&indexOf(cm.options.allowDropFileTypes,file.type)==-1){return;}var reader=new FileReader();reader.onload=operation(cm,function(){var content=reader.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(content)){content="";}text[i]=content;if(++read==n){pos=_clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.join(cm.doc.lineSeparator())),origin:"paste"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)));}});reader.readAsText(file);};for(var i=0;i<n;++i){loadFile(files[i],i);}}else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1){cm.state.draggingText(e);setTimeout(function(){return cm.display.input.focus();},20);return;}try{var text$1=e.dataTransfer.getData("Text");if(text$1){var selected;if(cm.state.draggingText&&!cm.state.draggingText.copy){selected=cm.listSelections();}setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected){for(var i$1=0;i$1<selected.length;++i$1){_replaceRange(cm.doc,"",selected[i$1].anchor,selected[i$1].head,"drag");}}cm.replaceSelection(text$1,"around","paste");cm.display.input.focus();}}catch(e){}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||+new Date()-lastDrop<100)){e_stop(e);return;}if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return;}e.dataTransfer.setData("Text",cm.getSelection());e.dataTransfer.effectAllowed="copyMove";if(e.dataTransfer.setDragImage&&!safari){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img);img._top=img.offsetTop;}e.dataTransfer.setDragImage(img,0,0);if(presto){img.parentNode.removeChild(img);}}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(!pos){return;}var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag);if(!cm.display.dragCursor){cm.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors");cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv);}removeChildrenAndAdd(cm.display.dragCursor,frag);}function clearDragCursor(cm){if(cm.display.dragCursor){cm.display.lineSpace.removeChild(cm.display.dragCursor);cm.display.dragCursor=null;}}function forEachCodeMirror(f){if(!document.getElementsByClassName){return;}var byClass=document.getElementsByClassName("CodeMirror"),editors=[];for(var i=0;i<byClass.length;i++){var cm=byClass[i].CodeMirror;if(cm){editors.push(cm);}}if(editors.length){editors[0].operation(function(){for(var i=0;i<editors.length;i++){f(editors[i]);}});}}var globalsRegistered=false;function ensureGlobalHandlers(){if(globalsRegistered){return;}registerGlobalHandlers();globalsRegistered=true;}function registerGlobalHandlers(){var resizeTimer;on(window,"resize",function(){if(resizeTimer==null){resizeTimer=setTimeout(function(){resizeTimer=null;forEachCodeMirror(onResize);},100);}});on(window,"blur",function(){return forEachCodeMirror(onBlur);});}function onResize(cm){var d=cm.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=false;cm.setSize();}var keyNames={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};for(var i=0;i<10;i++){keyNames[i+48]=keyNames[i+96]=String(i);}for(var i$1=65;i$1<=90;i$1++){keyNames[i$1]=String.fromCharCode(i$1);}for(var i$2=1;i$2<=12;i$2++){keyNames[i$2+111]=keyNames[i$2+63235]="F"+i$2;}var keyMap={};keyMap.basic={"Left":"goCharLeft","Right":"goCharRight","Up":"goLineUp","Down":"goLineDown","End":"goLineEnd","Home":"goLineStartSmart","PageUp":"goPageUp","PageDown":"goPageDown","Delete":"delCharAfter","Backspace":"delCharBefore","Shift-Backspace":"delCharBefore","Tab":"defaultTab","Shift-Tab":"indentAuto","Enter":"newlineAndIndent","Insert":"toggleOverwrite","Esc":"singleSelection"};keyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection","fallthrough":"basic"};keyMap.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"};keyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd","fallthrough":["basic","emacsy"]};keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault;function normalizeKeyName(name){var parts=name.split(/-(?!$)/);name=parts[parts.length-1];var alt,ctrl,shift,cmd;for(var i=0;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod)){cmd=true;}else if(/^a(lt)?$/i.test(mod)){alt=true;}else if(/^(c|ctrl|control)$/i.test(mod)){ctrl=true;}else if(/^s(hift)?$/i.test(mod)){shift=true;}else{throw new Error("Unrecognized modifier name: "+mod);}}if(alt){name="Alt-"+name;}if(ctrl){name="Ctrl-"+name;}if(cmd){name="Cmd-"+name;}if(shift){name="Shift-"+name;}return name;}function normalizeKeyMap(keymap){var copy={};for(var keyname in keymap){if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname)){continue;}if(value=="..."){delete keymap[keyname];continue;}var keys=map(keyname.split(" "),normalizeKeyName);for(var i=0;i<keys.length;i++){var val=void 0,name=void 0;if(i==keys.length-1){name=keys.join(" ");val=value;}else{name=keys.slice(0,i+1).join(" ");val="...";}var prev=copy[name];if(!prev){copy[name]=val;}else if(prev!=val){throw new Error("Inconsistent bindings for "+name);}}delete keymap[keyname];}}for(var prop in copy){keymap[prop]=copy[prop];}return keymap;}function lookupKey(key,map$$1,handle,context){map$$1=getKeyMap(map$$1);var found=map$$1.call?map$$1.call(key,context):map$$1[key];if(found===false){return"nothing";}if(found==="..."){return"multi";}if(found!=null&&handle(found)){return"handled";}if(map$$1.fallthrough){if(Object.prototype.toString.call(map$$1.fallthrough)!="[object Array]"){return lookupKey(key,map$$1.fallthrough,handle,context);}for(var i=0;i<map$$1.fallthrough.length;i++){var result=lookupKey(key,map$$1.fallthrough[i],handle,context);if(result){return result;}}}}function isModifierKey(value){var name=typeof value=="string"?value:keyNames[value.keyCode];return name=="Ctrl"||name=="Alt"||name=="Shift"||name=="Mod";}function addModifierNames(name,event,noShift){var base=name;if(event.altKey&&base!="Alt"){name="Alt-"+name;}if((flipCtrlCmd?event.metaKey:event.ctrlKey)&&base!="Ctrl"){name="Ctrl-"+name;}if((flipCtrlCmd?event.ctrlKey:event.metaKey)&&base!="Cmd"){name="Cmd-"+name;}if(!noShift&&event.shiftKey&&base!="Shift"){name="Shift-"+name;}return name;}function keyName(event,noShift){if(presto&&event.keyCode==34&&event["char"]){return false;}var name=keyNames[event.keyCode];if(name==null||event.altGraphKey){return false;}if(event.keyCode==3&&event.code){name=event.code;}return addModifierNames(name,event,noShift);}function getKeyMap(val){return typeof val=="string"?keyMap[val]:val;}function deleteNearSelection(cm,compute){var ranges=cm.doc.sel.ranges,kill=[];for(var i=0;i<ranges.length;i++){var toKill=compute(ranges[i]);while(kill.length&&cmp(toKill.from,lst(kill).to)<=0){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break;}}kill.push(toKill);}runInOp(cm,function(){for(var i=kill.length-1;i>=0;i--){_replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete");}ensureCursorVisible(cm);});}function moveCharLogically(line,ch,dir){var target=skipExtendingChars(line.text,ch+dir,dir);return target<0||target>line.text.length?null:target;}function moveLogically(line,start,dir){var ch=moveCharLogically(line,start.ch,dir);return ch==null?null:new Pos(start.line,ch,dir<0?"after":"before");}function endOfLine(visually,cm,lineObj,lineNo,dir){if(visually){var order=getOrder(lineObj,cm.doc.direction);if(order){var part=dir<0?lst(order):order[0];var moveInStorageOrder=dir<0==(part.level==1);var sticky=moveInStorageOrder?"after":"before";var ch;if(part.level>0||cm.doc.direction=="rtl"){var prep=prepareMeasureForLine(cm,lineObj);ch=dir<0?lineObj.text.length-1:0;var targetTop=measureCharPrepared(cm,prep,ch).top;ch=findFirst(function(ch){return measureCharPrepared(cm,prep,ch).top==targetTop;},dir<0==(part.level==1)?part.from:part.to-1,ch);if(sticky=="before"){ch=moveCharLogically(lineObj,ch,1);}}else{ch=dir<0?part.to:part.from;}return new Pos(lineNo,ch,sticky);}}return new Pos(lineNo,dir<0?lineObj.text.length:0,dir<0?"before":"after");}function moveVisually(cm,line,start,dir){var bidi=getOrder(line,cm.doc.direction);if(!bidi){return moveLogically(line,start,dir);}if(start.ch>=line.text.length){start.ch=line.text.length;start.sticky="before";}else if(start.ch<=0){start.ch=0;start.sticky="after";}var partPos=getBidiPartAt(bidi,start.ch,start.sticky),part=bidi[partPos];if(cm.doc.direction=="ltr"&&part.level%2==0&&(dir>0?part.to>start.ch:part.from<start.ch)){return moveLogically(line,start,dir);}var mv=function mv(pos,dir){return moveCharLogically(line,pos instanceof Pos?pos.ch:pos,dir);};var prep;var getWrappedLineExtent=function getWrappedLineExtent(ch){if(!cm.options.lineWrapping){return{begin:0,end:line.text.length};}prep=prep||prepareMeasureForLine(cm,line);return wrappedLineExtentChar(cm,line,prep,ch);};var wrappedLineExtent=getWrappedLineExtent(start.sticky=="before"?mv(start,-1):start.ch);if(cm.doc.direction=="rtl"||part.level==1){var moveInStorageOrder=part.level==1==dir<0;var ch=mv(start,moveInStorageOrder?1:-1);if(ch!=null&&(!moveInStorageOrder?ch>=part.from&&ch>=wrappedLineExtent.begin:ch<=part.to&&ch<=wrappedLineExtent.end)){var sticky=moveInStorageOrder?"before":"after";return new Pos(start.line,ch,sticky);}}var searchInVisualLine=function searchInVisualLine(partPos,dir,wrappedLineExtent){var getRes=function getRes(ch,moveInStorageOrder){return moveInStorageOrder?new Pos(start.line,mv(ch,1),"before"):new Pos(start.line,ch,"after");};for(;partPos>=0&&partPos<bidi.length;partPos+=dir){var part=bidi[partPos];var moveInStorageOrder=dir>0==(part.level!=1);var ch=moveInStorageOrder?wrappedLineExtent.begin:mv(wrappedLineExtent.end,-1);if(part.from<=ch&&ch<part.to){return getRes(ch,moveInStorageOrder);}ch=moveInStorageOrder?part.from:mv(part.to,-1);if(wrappedLineExtent.begin<=ch&&ch<wrappedLineExtent.end){return getRes(ch,moveInStorageOrder);}}};var res=searchInVisualLine(partPos+dir,dir,wrappedLineExtent);if(res){return res;}var nextCh=dir>0?wrappedLineExtent.end:mv(wrappedLineExtent.begin,-1);if(nextCh!=null&&!(dir>0&&nextCh==line.text.length)){res=searchInVisualLine(dir>0?0:bidi.length-1,dir,getWrappedLineExtent(nextCh));if(res){return res;}}return null;}var commands={selectAll:selectAll,singleSelection:function singleSelection(cm){return cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll);},killLine:function killLine(cm){return deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine()){return{from:range.head,to:Pos(range.head.line+1,0)};}else{return{from:range.head,to:Pos(range.head.line,len)};}}else{return{from:range.from(),to:range.to()};}});},deleteLine:function deleteLine(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:_clipPos(cm.doc,Pos(range.to().line+1,0))};});},delLineLeft:function delLineLeft(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()};});},delWrappedLineLeft:function delWrappedLineLeft(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()};});},delWrappedLineRight:function delWrappedLineRight(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),to:rightPos};});},undo:function undo(cm){return cm.undo();},redo:function redo(cm){return cm.redo();},undoSelection:function undoSelection(cm){return cm.undoSelection();},redoSelection:function redoSelection(cm){return cm.redoSelection();},goDocStart:function goDocStart(cm){return cm.extendSelection(Pos(cm.firstLine(),0));},goDocEnd:function goDocEnd(cm){return cm.extendSelection(Pos(cm.lastLine()));},goLineStart:function goLineStart(cm){return cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line);},{origin:"+move",bias:1});},goLineStartSmart:function goLineStartSmart(cm){return cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head);},{origin:"+move",bias:1});},goLineEnd:function goLineEnd(cm){return cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line);},{origin:"+move",bias:-1});},goLineRight:function goLineRight(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");},sel_move);},goLineLeft:function goLineLeft(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div");},sel_move);},goLineLeftSmart:function goLineLeftSmart(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;var pos=cm.coordsChar({left:0,top:top},"div");if(pos.ch<cm.getLine(pos.line).search(/\S/)){return lineStartSmart(cm,range.head);}return pos;},sel_move);},goLineUp:function goLineUp(cm){return cm.moveV(-1,"line");},goLineDown:function goLineDown(cm){return cm.moveV(1,"line");},goPageUp:function goPageUp(cm){return cm.moveV(-1,"page");},goPageDown:function goPageDown(cm){return cm.moveV(1,"page");},goCharLeft:function goCharLeft(cm){return cm.moveH(-1,"char");},goCharRight:function goCharRight(cm){return cm.moveH(1,"char");},goColumnLeft:function goColumnLeft(cm){return cm.moveH(-1,"column");},goColumnRight:function goColumnRight(cm){return cm.moveH(1,"column");},goWordLeft:function goWordLeft(cm){return cm.moveH(-1,"word");},goGroupRight:function goGroupRight(cm){return cm.moveH(1,"group");},goGroupLeft:function goGroupLeft(cm){return cm.moveH(-1,"group");},goWordRight:function goWordRight(cm){return cm.moveH(1,"word");},delCharBefore:function delCharBefore(cm){return cm.deleteH(-1,"char");},delCharAfter:function delCharAfter(cm){return cm.deleteH(1,"char");},delWordBefore:function delWordBefore(cm){return cm.deleteH(-1,"word");},delWordAfter:function delWordAfter(cm){return cm.deleteH(1,"word");},delGroupBefore:function delGroupBefore(cm){return cm.deleteH(-1,"group");},delGroupAfter:function delGroupAfter(cm){return cm.deleteH(1,"group");},indentAuto:function indentAuto(cm){return cm.indentSelection("smart");},indentMore:function indentMore(cm){return cm.indentSelection("add");},indentLess:function indentLess(cm){return cm.indentSelection("subtract");},insertTab:function insertTab(cm){return cm.replaceSelection("\t");},insertSoftTab:function insertSoftTab(cm){var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize;for(var i=0;i<ranges.length;i++){var pos=ranges[i].from();var col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-col%tabSize));}cm.replaceSelections(spaces);},defaultTab:function defaultTab(cm){if(cm.somethingSelected()){cm.indentSelection("add");}else{cm.execCommand("insertTab");}},transposeChars:function transposeChars(cm){return runInOp(cm,function(){var ranges=cm.listSelections(),newSel=[];for(var i=0;i<ranges.length;i++){if(!ranges[i].empty()){continue;}var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line){if(cur.ch==line.length){cur=new Pos(cur.line,cur.ch-1);}if(cur.ch>0){cur=new Pos(cur.line,cur.ch+1);cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose");}else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;if(prev){cur=new Pos(cur.line,1);cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),cur,"+transpose");}}}newSel.push(new Range(cur,cur));}cm.setSelections(newSel);});},newlineAndIndent:function newlineAndIndent(cm){return runInOp(cm,function(){var sels=cm.listSelections();for(var i=sels.length-1;i>=0;i--){cm.replaceRange(cm.doc.lineSeparator(),sels[i].anchor,sels[i].head,"+input");}sels=cm.listSelections();for(var i$1=0;i$1<sels.length;i$1++){cm.indentLine(sels[i$1].from().line,null,true);}ensureCursorVisible(cm);});},openLine:function openLine(cm){return cm.replaceSelection("\n","start");},toggleOverwrite:function toggleOverwrite(cm){return cm.toggleOverwrite();}};function lineStart(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLine(line);if(visual!=line){lineN=lineNo(visual);}return endOfLine(true,cm,visual,lineN,1);}function lineEnd(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLineEnd(line);if(visual!=line){lineN=lineNo(visual);}return endOfLine(true,cm,line,lineN,-1);}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line);var line=getLine(cm.doc,start.line);var order=getOrder(line,cm.doc.direction);if(!order||order[0].level==0){var firstNonWS=Math.max(0,line.text.search(/\S/));var inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS,start.sticky);}return start;}function doHandleBinding(cm,bound,dropShift){if(typeof bound=="string"){bound=commands[bound];if(!bound){return false;}}cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=false;try{if(cm.isReadOnly()){cm.state.suppressEdits=true;}if(dropShift){cm.display.shift=false;}done=bound(cm)!=Pass;}finally{cm.display.shift=prevShift;cm.state.suppressEdits=false;}return done;}function lookupKeyForEditor(cm,name,handle){for(var i=0;i<cm.state.keyMaps.length;i++){var result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result){return result;}}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm);}var stopSeq=new Delayed();function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name)){return"handled";}if(/\'$/.test(name)){cm.state.keySeq=null;}else{stopSeq.set(50,function(){if(cm.state.keySeq==seq){cm.state.keySeq=null;cm.display.input.reset();}});}if(dispatchKeyInner(cm,seq+" "+name,e,handle)){return true;}}return dispatchKeyInner(cm,name,e,handle);}function dispatchKeyInner(cm,name,e,handle){var result=lookupKeyForEditor(cm,name,handle);if(result=="multi"){cm.state.keySeq=name;}if(result=="handled"){signalLater(cm,"keyHandled",cm,name,e);}if(result=="handled"||result=="multi"){e_preventDefault(e);restartBlink(cm);}return!!result;}function handleKeyBinding(cm,e){var name=keyName(e,true);if(!name){return false;}if(e.shiftKey&&!cm.state.keySeq){return dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,true);})||dispatchKey(cm,name,e,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion){return doHandleBinding(cm,b);}});}else{return dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b);});}}function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,true);});}var lastStoppedKey=null;function onKeyDown(e){var cm=this;cm.curOp.focus=activeElt();if(signalDOMEvent(cm,e)){return;}if(ie&&ie_version<11&&e.keyCode==27){e.returnValue=false;}var code=e.keyCode;cm.display.shift=code==16||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null;if(!handled&&code==88&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey)){cm.replaceSelection("",null,"cut");}}if(code==18&&!/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className)){showCrossHair(cm);}}function showCrossHair(cm){var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair");function up(e){if(e.keyCode==18||!e.altKey){rmClass(lineDiv,"CodeMirror-crosshair");off(document,"keyup",up);off(document,"mouseover",up);}}on(document,"keyup",up);on(document,"mouseover",up);}function onKeyUp(e){if(e.keyCode==16){this.doc.sel.shift=false;}signalDOMEvent(this,e);}function onKeyPress(e){var cm=this;if(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey){return;}var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return;}if(presto&&(!e.which||e.which<10)&&handleKeyBinding(cm,e)){return;}var ch=String.fromCharCode(charCode==null?keyCode:charCode);if(ch=="\x08"){return;}if(handleCharBinding(cm,e,ch)){return;}cm.display.input.onKeyPress(e);}var DOUBLECLICK_DELAY=400;var PastClick=function PastClick(time,pos,button){this.time=time;this.pos=pos;this.button=button;};PastClick.prototype.compare=function(time,pos,button){return this.time+DOUBLECLICK_DELAY>time&&cmp(pos,this.pos)==0&&button==this.button;};var lastClick,lastDoubleClick;function clickRepeat(pos,button){var now=+new Date();if(lastDoubleClick&&lastDoubleClick.compare(now,pos,button)){lastClick=lastDoubleClick=null;return"triple";}else if(lastClick&&lastClick.compare(now,pos,button)){lastDoubleClick=new PastClick(now,pos,button);lastClick=null;return"double";}else{lastClick=new PastClick(now,pos,button);lastDoubleClick=null;return"single";}}function onMouseDown(e){var cm=this,display=cm.display;if(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch()){return;}display.input.ensurePolled();display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){display.scroller.draggable=false;setTimeout(function(){return display.scroller.draggable=true;},100);}return;}if(clickInGutter(cm,e)){return;}var pos=posFromMouse(cm,e),button=e_button(e),repeat=pos?clickRepeat(pos,button):"single";window.focus();if(button==1&&cm.state.selectingText){cm.state.selectingText(e);}if(pos&&handleMappedButton(cm,button,pos,repeat,e)){return;}if(button==1){if(pos){leftButtonDown(cm,pos,repeat,e);}else if(e_target(e)==display.scroller){e_preventDefault(e);}}else if(button==2){if(pos){extendSelection(cm.doc,pos);}setTimeout(function(){return display.input.focus();},20);}else if(button==3){if(captureRightClick){cm.display.input.onContextMenu(e);}else{delayBlurEvent(cm);}}}function handleMappedButton(cm,button,pos,repeat,event){var name="Click";if(repeat=="double"){name="Double"+name;}else if(repeat=="triple"){name="Triple"+name;}name=(button==1?"Left":button==2?"Middle":"Right")+name;return dispatchKey(cm,addModifierNames(name,event),event,function(bound){if(typeof bound=="string"){bound=commands[bound];}if(!bound){return false;}var done=false;try{if(cm.isReadOnly()){cm.state.suppressEdits=true;}done=bound(cm,pos)!=Pass;}finally{cm.state.suppressEdits=false;}return done;});}function configureMouse(cm,repeat,event){var option=cm.getOption("configureMouse");var value=option?option(cm,repeat,event):{};if(value.unit==null){var rect=chromeOS?event.shiftKey&&event.metaKey:event.altKey;value.unit=rect?"rectangle":repeat=="single"?"char":repeat=="double"?"word":"line";}if(value.extend==null||cm.doc.extend){value.extend=cm.doc.extend||event.shiftKey;}if(value.addNew==null){value.addNew=mac?event.metaKey:event.ctrlKey;}if(value.moveOnDrag==null){value.moveOnDrag=!(mac?event.altKey:event.ctrlKey);}return value;}function leftButtonDown(cm,pos,repeat,event){if(ie){setTimeout(bind(ensureFocus,cm),0);}else{cm.curOp.focus=activeElt();}var behavior=configureMouse(cm,repeat,event);var sel=cm.doc.sel,contained;if(cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&repeat=="single"&&(contained=sel.contains(pos))>-1&&(cmp((contained=sel.ranges[contained]).from(),pos)<0||pos.xRel>0)&&(cmp(contained.to(),pos)>0||pos.xRel<0)){leftButtonStartDrag(cm,event,pos,behavior);}else{leftButtonSelect(cm,event,pos,behavior);}}function leftButtonStartDrag(cm,event,pos,behavior){var display=cm.display,moved=false;var dragEnd=operation(cm,function(e){if(webkit){display.scroller.draggable=false;}cm.state.draggingText=false;off(display.wrapper.ownerDocument,"mouseup",dragEnd);off(display.wrapper.ownerDocument,"mousemove",mouseMove);off(display.scroller,"dragstart",dragStart);off(display.scroller,"drop",dragEnd);if(!moved){e_preventDefault(e);if(!behavior.addNew){extendSelection(cm.doc,pos,null,null,behavior.extend);}if(webkit||ie&&ie_version==9){setTimeout(function(){display.wrapper.ownerDocument.body.focus();display.input.focus();},20);}else{display.input.focus();}}});var mouseMove=function mouseMove(e2){moved=moved||Math.abs(event.clientX-e2.clientX)+Math.abs(event.clientY-e2.clientY)>=10;};var dragStart=function dragStart(){return moved=true;};if(webkit){display.scroller.draggable=true;}cm.state.draggingText=dragEnd;dragEnd.copy=!behavior.moveOnDrag;if(display.scroller.dragDrop){display.scroller.dragDrop();}on(display.wrapper.ownerDocument,"mouseup",dragEnd);on(display.wrapper.ownerDocument,"mousemove",mouseMove);on(display.scroller,"dragstart",dragStart);on(display.scroller,"drop",dragEnd);delayBlurEvent(cm);setTimeout(function(){return display.input.focus();},20);}function rangeForUnit(cm,pos,unit){if(unit=="char"){return new Range(pos,pos);}if(unit=="word"){return cm.findWordAt(pos);}if(unit=="line"){return new Range(Pos(pos.line,0),_clipPos(cm.doc,Pos(pos.line+1,0)));}var result=unit(cm,pos);return new Range(result.from,result.to);}function leftButtonSelect(cm,event,start,behavior){var display=cm.display,doc=cm.doc;e_preventDefault(event);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(behavior.addNew&&!behavior.extend){ourIndex=doc.sel.contains(start);if(ourIndex>-1){ourRange=ranges[ourIndex];}else{ourRange=new Range(start,start);}}else{ourRange=doc.sel.primary();ourIndex=doc.sel.primIndex;}if(behavior.unit=="rectangle"){if(!behavior.addNew){ourRange=new Range(start,start);}start=posFromMouse(cm,event,true,true);ourIndex=-1;}else{var range$$1=rangeForUnit(cm,start,behavior.unit);if(behavior.extend){ourRange=extendRange(ourRange,range$$1.anchor,range$$1.head,behavior.extend);}else{ourRange=range$$1;}}if(!behavior.addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse);startSel=doc.sel;}else if(ourIndex==-1){ourIndex=ranges.length;setSelection(doc,normalizeSelection(cm,ranges.concat([ourRange]),ourIndex),{scroll:false,origin:"*mouse"});}else if(ranges.length>1&&ranges[ourIndex].empty()&&behavior.unit=="char"&&!behavior.extend){setSelection(doc,normalizeSelection(cm,ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:false,origin:"*mouse"});startSel=doc.sel;}else{replaceOneSelection(doc,ourIndex,ourRange,sel_mouse);}var lastPos=start;function extendTo(pos){if(cmp(lastPos,pos)==0){return;}lastPos=pos;if(behavior.unit=="rectangle"){var ranges=[],tabSize=cm.options.tabSize;var startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize);var posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize);var left=Math.min(startCol,posCol),right=Math.max(startCol,posCol);for(var line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);if(left==right){ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)));}else if(text.length>leftPos){ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))));}}if(!ranges.length){ranges.push(new Range(start,start));}setSelection(doc,normalizeSelection(cm,startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:false});cm.scrollIntoView(pos);}else{var oldRange=ourRange;var range$$1=rangeForUnit(cm,pos,behavior.unit);var anchor=oldRange.anchor,head;if(cmp(range$$1.anchor,anchor)>0){head=range$$1.head;anchor=minPos(oldRange.from(),range$$1.anchor);}else{head=range$$1.anchor;anchor=maxPos(oldRange.to(),range$$1.head);}var ranges$1=startSel.ranges.slice(0);ranges$1[ourIndex]=bidiSimplify(cm,new Range(_clipPos(doc,anchor),head));setSelection(doc,normalizeSelection(cm,ranges$1,ourIndex),sel_mouse);}}var editorSize=display.wrapper.getBoundingClientRect();var counter=0;function extend(e){var curCount=++counter;var cur=posFromMouse(cm,e,true,behavior.unit=="rectangle");if(!cur){return;}if(cmp(cur,lastPos)!=0){cm.curOp.focus=activeElt();extendTo(cur);var visible=visibleLines(display,doc);if(cur.line>=visible.to||cur.line<visible.from){setTimeout(operation(cm,function(){if(counter==curCount){extend(e);}}),150);}}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;if(outside){setTimeout(operation(cm,function(){if(counter!=curCount){return;}display.scroller.scrollTop+=outside;extend(e);}),50);}}}function done(e){cm.state.selectingText=false;counter=Infinity;if(e){e_preventDefault(e);display.input.focus();}off(display.wrapper.ownerDocument,"mousemove",move);off(display.wrapper.ownerDocument,"mouseup",up);doc.history.lastSelOrigin=null;}var move=operation(cm,function(e){if(e.buttons===0||!e_button(e)){done(e);}else{extend(e);}});var up=operation(cm,done);cm.state.selectingText=up;on(display.wrapper.ownerDocument,"mousemove",move);on(display.wrapper.ownerDocument,"mouseup",up);}function bidiSimplify(cm,range$$1){var anchor=range$$1.anchor;var head=range$$1.head;var anchorLine=getLine(cm.doc,anchor.line);if(cmp(anchor,head)==0&&anchor.sticky==head.sticky){return range$$1;}var order=getOrder(anchorLine);if(!order){return range$$1;}var index=getBidiPartAt(order,anchor.ch,anchor.sticky),part=order[index];if(part.from!=anchor.ch&&part.to!=anchor.ch){return range$$1;}var boundary=index+(part.from==anchor.ch==(part.level!=1)?0:1);if(boundary==0||boundary==order.length){return range$$1;}var leftSide;if(head.line!=anchor.line){leftSide=(head.line-anchor.line)*(cm.doc.direction=="ltr"?1:-1)>0;}else{var headIndex=getBidiPartAt(order,head.ch,head.sticky);var dir=headIndex-index||(head.ch-anchor.ch)*(part.level==1?-1:1);if(headIndex==boundary-1||headIndex==boundary){leftSide=dir<0;}else{leftSide=dir>0;}}var usePart=order[boundary+(leftSide?-1:0)];var from=leftSide==(usePart.level==1);var ch=from?usePart.from:usePart.to,sticky=from?"after":"before";return anchor.ch==ch&&anchor.sticky==sticky?range$$1:new Range(new Pos(anchor.line,ch,sticky),head);}function gutterEvent(cm,e,type,prevent){var mX,mY;if(e.touches){mX=e.touches[0].clientX;mY=e.touches[0].clientY;}else{try{mX=e.clientX;mY=e.clientY;}catch(e){return false;}}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right)){return false;}if(prevent){e_preventDefault(e);}var display=cm.display;var lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type)){return e_defaultPrevented(e);}mY-=lineBox.top-display.viewOffset;for(var i=0;i<cm.display.gutterSpecs.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=_lineAtHeight(cm.doc,mY);var gutter=cm.display.gutterSpecs[i];signal(cm,type,cm,line,gutter.className,e);return e_defaultPrevented(e);}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",true);}function onContextMenu(cm,e){if(eventInWidget(cm.display,e)||contextMenuInGutter(cm,e)){return;}if(signalDOMEvent(cm,e,"contextmenu")){return;}if(!captureRightClick){cm.display.input.onContextMenu(e);}}function contextMenuInGutter(cm,e){if(!hasHandler(cm,"gutterContextMenu")){return false;}return gutterEvent(cm,e,"gutterContextMenu",false);}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-");clearCaches(cm);}var Init={toString:function toString(){return"CodeMirror.Init";}};var defaults={};var optionHandlers={};function defineOptions(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle){optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init){handle(cm,val,old);}}:handle;}}CodeMirror.defineOption=option;CodeMirror.Init=Init;option("value","",function(cm,val){return cm.setValue(val);},true);option("mode",null,function(cm,val){cm.doc.modeOption=val;loadMode(cm);},true);option("indentUnit",2,loadMode,true);option("indentWithTabs",false);option("smartIndent",true);option("tabSize",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm);},true);option("lineSeparator",null,function(cm,val){cm.doc.lineSep=val;if(!val){return;}var newBreaks=[],lineNo=cm.doc.first;cm.doc.iter(function(line){for(var pos=0;;){var found=line.text.indexOf(val,pos);if(found==-1){break;}pos=found+val.length;newBreaks.push(Pos(lineNo,found));}lineNo++;});for(var i=newBreaks.length-1;i>=0;i--){_replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length));}});option("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g");if(old!=Init){cm.refresh();}});option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){return cm.refresh();},true);option("electricChars",true);option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor");},true);option("spellcheck",false,function(cm,val){return cm.getInputField().spellcheck=val;},true);option("autocorrect",false,function(cm,val){return cm.getInputField().autocorrect=val;},true);option("autocapitalize",false,function(cm,val){return cm.getInputField().autocapitalize=val;},true);option("rtlMoveVisually",!windows);option("wholeLineUpdateBefore",true);option("theme","default",function(cm){themeChanged(cm);updateGutters(cm);},true);option("keyMap","default",function(cm,val,old){var next=getKeyMap(val);var prev=old!=Init&&getKeyMap(old);if(prev&&prev.detach){prev.detach(cm,next);}if(next.attach){next.attach(cm,prev||null);}});option("extraKeys",null);option("configureMouse",null);option("lineWrapping",false,wrappingChanged,true);option("gutters",[],function(cm,val){cm.display.gutterSpecs=getGutters(val,cm.options.lineNumbers);updateGutters(cm);},true);option("fixedGutter",true,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0";cm.refresh();},true);option("coverGutterNextToScrollbar",false,function(cm){return updateScrollbars(cm);},true);option("scrollbarStyle","native",function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);},true);option("lineNumbers",false,function(cm,val){cm.display.gutterSpecs=getGutters(cm.options.gutters,val);updateGutters(cm);},true);option("firstLineNumber",1,updateGutters,true);option("lineNumberFormatter",function(integer){return integer;},updateGutters,true);option("showCursorWhenSelecting",false,updateSelection,true);option("resetSelectionOnContextMenu",true);option("lineWiseCopyCut",true);option("pasteLinesPerSelection",true);option("selectionsMayTouch",false);option("readOnly",false,function(cm,val){if(val=="nocursor"){onBlur(cm);cm.display.input.blur();}cm.display.input.readOnlyChanged(val);});option("disableInput",false,function(cm,val){if(!val){cm.display.input.reset();}},true);option("dragDrop",true,dragDropChanged);option("allowDropFileTypes",null);option("cursorBlinkRate",530);option("cursorScrollMargin",0);option("cursorHeight",1,updateSelection,true);option("singleCursorHeightPerLine",true,updateSelection,true);option("workTime",100);option("workDelay",100);option("flattenSpans",true,resetModeState,true);option("addModeClass",false,resetModeState,true);option("pollInterval",100);option("undoDepth",200,function(cm,val){return cm.doc.history.undoDepth=val;});option("historyEventDelay",1250);option("viewportMargin",10,function(cm){return cm.refresh();},true);option("maxHighlightLength",10000,resetModeState,true);option("moveInputWithCursor",true,function(cm,val){if(!val){cm.display.input.resetPosition();}});option("tabindex",null,function(cm,val){return cm.display.input.getField().tabIndex=val||"";});option("autofocus",null);option("direction","ltr",function(cm,val){return cm.doc.setDirection(val);},true);option("phrases",null);}function dragDropChanged(cm,value,old){var wasOn=old&&old!=Init;if(!value!=!wasOn){var funcs=cm.display.dragFunctions;var toggle=value?on:off;toggle(cm.display.scroller,"dragstart",funcs.start);toggle(cm.display.scroller,"dragenter",funcs.enter);toggle(cm.display.scroller,"dragover",funcs.over);toggle(cm.display.scroller,"dragleave",funcs.leave);toggle(cm.display.scroller,"drop",funcs.drop);}}function wrappingChanged(cm){if(cm.options.lineWrapping){addClass(cm.display.wrapper,"CodeMirror-wrap");cm.display.sizer.style.minWidth="";cm.display.sizerWidth=null;}else{rmClass(cm.display.wrapper,"CodeMirror-wrap");findMaxLine(cm);}estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){return updateScrollbars(cm);},100);}function CodeMirror(place,options){var this$1=this;if(!(this instanceof CodeMirror)){return new CodeMirror(place,options);}this.options=options=options?copyObj(options):{};copyObj(defaults,options,false);var doc=options.value;if(typeof doc=="string"){doc=new Doc(doc,options.mode,null,options.lineSeparator,options.direction);}else if(options.mode){doc.modeOption=options.mode;}this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this);var display=this.display=new Display(place,doc,input,options);display.wrapper.CodeMirror=this;themeChanged(this);if(options.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap";}initScrollbars(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false,pasteIncoming:-1,cutIncoming:-1,selectingText:false,draggingText:false,highlight:new Delayed(),keySeq:null,specialChars:null};if(options.autofocus&&!mobile){display.input.focus();}if(ie&&ie_version<11){setTimeout(function(){return this$1.display.input.reset(true);},20);}registerEventHandlers(this);ensureGlobalHandlers();_startOperation(this);this.curOp.forceUpdate=true;attachDoc(this,doc);if(options.autofocus&&!mobile||this.hasFocus()){setTimeout(bind(onFocus,this),20);}else{onBlur(this);}for(var opt in optionHandlers){if(optionHandlers.hasOwnProperty(opt)){optionHandlers[opt](this$1,options[opt],Init);}}maybeUpdateLineNumberWidth(this);if(options.finishInit){options.finishInit(this);}for(var i=0;i<initHooks.length;++i){initHooks[i](this$1);}_endOperation(this);if(webkit&&options.lineWrapping&&getComputedStyle(display.lineDiv).textRendering=="optimizelegibility"){display.lineDiv.style.textRendering="auto";}}CodeMirror.defaults=defaults;CodeMirror.optionHandlers=optionHandlers;function registerEventHandlers(cm){var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown));if(ie&&ie_version<11){on(d.scroller,"dblclick",operation(cm,function(e){if(signalDOMEvent(cm,e)){return;}var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e)){return;}e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head);}));}else{on(d.scroller,"dblclick",function(e){return signalDOMEvent(cm,e)||e_preventDefault(e);});}on(d.scroller,"contextmenu",function(e){return onContextMenu(cm,e);});var touchFinished,prevTouch={end:0};function finishTouch(){if(d.activeTouch){touchFinished=setTimeout(function(){return d.activeTouch=null;},1000);prevTouch=d.activeTouch;prevTouch.end=+new Date();}}function isMouseLikeTouchEvent(e){if(e.touches.length!=1){return false;}var touch=e.touches[0];return touch.radiusX<=1&&touch.radiusY<=1;}function farAway(touch,other){if(other.left==null){return true;}var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>20*20;}on(d.scroller,"touchstart",function(e){if(!signalDOMEvent(cm,e)&&!isMouseLikeTouchEvent(e)&&!clickInGutter(cm,e)){d.input.ensurePolled();clearTimeout(touchFinished);var now=+new Date();d.activeTouch={start:now,moved:false,prev:now-prevTouch.end<=300?prevTouch:null};if(e.touches.length==1){d.activeTouch.left=e.touches[0].pageX;d.activeTouch.top=e.touches[0].pageY;}}});on(d.scroller,"touchmove",function(){if(d.activeTouch){d.activeTouch.moved=true;}});on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&touch.left!=null&&!touch.moved&&new Date()-touch.start<300){var pos=cm.coordsChar(d.activeTouch,"page"),range;if(!touch.prev||farAway(touch,touch.prev)){range=new Range(pos,pos);}else if(!touch.prev.prev||farAway(touch,touch.prev.prev)){range=cm.findWordAt(pos);}else{range=new Range(Pos(pos.line,0),_clipPos(cm.doc,Pos(pos.line+1,0)));}cm.setSelection(range.anchor,range.head);cm.focus();e_preventDefault(e);}finishTouch();});on(d.scroller,"touchcancel",finishTouch);on(d.scroller,"scroll",function(){if(d.scroller.clientHeight){updateScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,true);signal(cm,"scroll",cm);}});on(d.scroller,"mousewheel",function(e){return onScrollWheel(cm,e);});on(d.scroller,"DOMMouseScroll",function(e){return onScrollWheel(cm,e);});on(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0;});d.dragFunctions={enter:function enter(e){if(!signalDOMEvent(cm,e)){e_stop(e);}},over:function over(e){if(!signalDOMEvent(cm,e)){onDragOver(cm,e);e_stop(e);}},start:function start(e){return onDragStart(cm,e);},drop:operation(cm,onDrop),leave:function leave(e){if(!signalDOMEvent(cm,e)){clearDragCursor(cm);}}};var inp=d.input.getField();on(inp,"keyup",function(e){return onKeyUp.call(cm,e);});on(inp,"keydown",operation(cm,onKeyDown));on(inp,"keypress",operation(cm,onKeyPress));on(inp,"focus",function(e){return onFocus(cm,e);});on(inp,"blur",function(e){return onBlur(cm,e);});}var initHooks=[];CodeMirror.defineInitHook=function(f){return initHooks.push(f);};function indentLine(cm,n,how,aggressive){var doc=cm.doc,state;if(how==null){how="add";}if(how=="smart"){if(!doc.mode.indent){how="prev";}else{state=getContextBefore(cm,n).state;}}var tabSize=cm.options.tabSize;var line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter){line.stateAfter=null;}var curSpaceString=line.text.match(/^\s*/)[0],indentation;if(!aggressive&&!/\S/.test(line.text)){indentation=0;how="not";}else if(how=="smart"){indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass||indentation>150){if(!aggressive){return;}how="prev";}}if(how=="prev"){if(n>doc.first){indentation=countColumn(getLine(doc,n-1).text,null,tabSize);}else{indentation=0;}}else if(how=="add"){indentation=curSpace+cm.options.indentUnit;}else if(how=="subtract"){indentation=curSpace-cm.options.indentUnit;}else if(typeof how=="number"){indentation=curSpace+how;}indentation=Math.max(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs){for(var i=Math.floor(indentation/tabSize);i;--i){pos+=tabSize;indentString+="\t";}}if(pos<indentation){indentString+=spaceStr(indentation-pos);}if(indentString!=curSpaceString){_replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");line.stateAfter=null;return true;}else{for(var i$1=0;i$1<doc.sel.ranges.length;i$1++){var range=doc.sel.ranges[i$1];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos$1=Pos(n,curSpaceString.length);replaceOneSelection(doc,i$1,new Range(pos$1,pos$1));break;}}}}var lastCopied=null;function setLastCopied(newLastCopied){lastCopied=newLastCopied;}function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=false;if(!sel){sel=doc.sel;}var recent=+new Date()-200;var paste=origin=="paste"||cm.state.pasteIncoming>recent;var textLines=splitLinesAuto(inserted),multiPaste=null;if(paste&&sel.ranges.length>1){if(lastCopied&&lastCopied.text.join("\n")==inserted){if(sel.ranges.length%lastCopied.text.length==0){multiPaste=[];for(var i=0;i<lastCopied.text.length;i++){multiPaste.push(doc.splitLines(lastCopied.text[i]));}}}else if(textLines.length==sel.ranges.length&&cm.options.pasteLinesPerSelection){multiPaste=map(textLines,function(l){return[l];});}}var updateInput=cm.curOp.updateInput;for(var i$1=sel.ranges.length-1;i$1>=0;i$1--){var range$$1=sel.ranges[i$1];var from=range$$1.from(),to=range$$1.to();if(range$$1.empty()){if(deleted&&deleted>0){from=Pos(from.line,from.ch-deleted);}else if(cm.state.overwrite&&!paste){to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length));}else if(paste&&lastCopied&&lastCopied.lineWise&&lastCopied.text.join("\n")==inserted){from=to=Pos(from.line,0);}}var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i$1%multiPaste.length]:textLines,origin:origin||(paste?"paste":cm.state.cutIncoming>recent?"cut":"+input")};makeChange(cm.doc,changeEvent);signalLater(cm,"inputRead",cm,changeEvent);}if(inserted&&!paste){triggerElectric(cm,inserted);}ensureCursorVisible(cm);if(cm.curOp.updateInput<2){cm.curOp.updateInput=updateInput;}cm.curOp.typing=true;cm.state.pasteIncoming=cm.state.cutIncoming=-1;}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData("Text");if(pasted){e.preventDefault();if(!cm.isReadOnly()&&!cm.options.disableInput){runInOp(cm,function(){return applyTextInput(cm,pasted,0,null,"paste");});}return true;}}function triggerElectric(cm,inserted){if(!cm.options.electricChars||!cm.options.smartIndent){return;}var sel=cm.doc.sel;for(var i=sel.ranges.length-1;i>=0;i--){var range$$1=sel.ranges[i];if(range$$1.head.ch>100||i&&sel.ranges[i-1].head.line==range$$1.head.line){continue;}var mode=cm.getModeAt(range$$1.head);var indented=false;if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++){if(inserted.indexOf(mode.electricChars.charAt(j))>-1){indented=indentLine(cm,range$$1.head.line,"smart");break;}}}else if(mode.electricInput){if(mode.electricInput.test(getLine(cm.doc,range$$1.head.line).text.slice(0,range$$1.head.ch))){indented=indentLine(cm,range$$1.head.line,"smart");}}if(indented){signalLater(cm,"electricInput",cm,range$$1.head.line);}}}function copyableRanges(cm){var text=[],ranges=[];for(var i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line;var lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange);text.push(cm.getRange(lineRange.anchor,lineRange.head));}return{text:text,ranges:ranges};}function disableBrowserMagic(field,spellcheck,autocorrect,autocapitalize){field.setAttribute("autocorrect",autocorrect?"":"off");field.setAttribute("autocapitalize",autocapitalize?"":"off");field.setAttribute("spellcheck",!!spellcheck);}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none");var div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");if(webkit){te.style.width="1000px";}else{te.setAttribute("wrap","off");}if(ios){te.style.border="1px solid black";}disableBrowserMagic(te);return div;}function addEditorMethods(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;var helpers=CodeMirror.helpers={};CodeMirror.prototype={constructor:CodeMirror,focus:function focus(){window.focus();this.display.input.focus();},setOption:function setOption(option,value){var options=this.options,old=options[option];if(options[option]==value&&option!="mode"){return;}options[option]=value;if(optionHandlers.hasOwnProperty(option)){operation(this,optionHandlers[option])(this,value,old);}signal(this,"optionChange",this,option);},getOption:function getOption(option){return this.options[option];},getDoc:function getDoc(){return this.doc;},addKeyMap:function addKeyMap(map$$1,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map$$1));},removeKeyMap:function removeKeyMap(map$$1){var maps=this.state.keyMaps;for(var i=0;i<maps.length;++i){if(maps[i]==map$$1||maps[i].name==map$$1){maps.splice(i,1);return true;}}},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState){throw new Error("Overlays may not be stateful.");}insertSorted(this.state.overlays,{mode:mode,modeSpec:spec,opaque:options&&options.opaque,priority:options&&options.priority||0},function(overlay){return overlay.priority;});this.state.modeGen++;regChange(this);}),removeOverlay:methodOp(function(spec){var this$1=this;var overlays=this.state.overlays;for(var i=0;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||typeof spec=="string"&&cur.name==spec){overlays.splice(i,1);this$1.state.modeGen++;regChange(this$1);return;}}}),indentLine:methodOp(function(n,dir,aggressive){if(typeof dir!="string"&&typeof dir!="number"){if(dir==null){dir=this.options.smartIndent?"smart":"prev";}else{dir=dir?"add":"subtract";}}if(isLine(this.doc,n)){indentLine(this,n,dir,aggressive);}}),indentSelection:methodOp(function(how){var this$1=this;var ranges=this.doc.sel.ranges,end=-1;for(var i=0;i<ranges.length;i++){var range$$1=ranges[i];if(!range$$1.empty()){var from=range$$1.from(),to=range$$1.to();var start=Math.max(end,from.line);end=Math.min(this$1.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j){indentLine(this$1,j,how);}var newRanges=this$1.doc.sel.ranges;if(from.ch==0&&ranges.length==newRanges.length&&newRanges[i].from().ch>0){replaceOneSelection(this$1.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll);}}else if(range$$1.head.line>end){indentLine(this$1,range$$1.head.line,how,true);end=range$$1.head.line;if(i==this$1.doc.sel.primIndex){ensureCursorVisible(this$1);}}}}),getTokenAt:function getTokenAt(pos,precise){return takeToken(this,pos,precise);},getLineTokens:function getLineTokens(line,precise){return takeToken(this,Pos(line),precise,true);},getTokenTypeAt:function getTokenTypeAt(pos){pos=_clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line));var before=0,after=(styles.length-1)/2,ch=pos.ch;var type;if(ch==0){type=styles[2];}else{for(;;){var mid=before+after>>1;if((mid?styles[mid*2-1]:0)>=ch){after=mid;}else if(styles[mid*2+1]<ch){before=mid+1;}else{type=styles[mid*2+2];break;}}}var cut=type?type.indexOf("overlay "):-1;return cut<0?type:cut==0?null:type.slice(0,cut-1);},getModeAt:function getModeAt(pos){var mode=this.doc.mode;if(!mode.innerMode){return mode;}return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode;},getHelper:function getHelper(pos,type){return this.getHelpers(pos,type)[0];},getHelpers:function getHelpers(pos,type){var this$1=this;var found=[];if(!helpers.hasOwnProperty(type)){return found;}var help=helpers[type],mode=this.getModeAt(pos);if(typeof mode[type]=="string"){if(help[mode[type]]){found.push(help[mode[type]]);}}else if(mode[type]){for(var i=0;i<mode[type].length;i++){var val=help[mode[type][i]];if(val){found.push(val);}}}else if(mode.helperType&&help[mode.helperType]){found.push(help[mode.helperType]);}else if(help[mode.name]){found.push(help[mode.name]);}for(var i$1=0;i$1<help._global.length;i$1++){var cur=help._global[i$1];if(cur.pred(mode,this$1)&&indexOf(found,cur.val)==-1){found.push(cur.val);}}return found;},getStateAfter:function getStateAfter(line,precise){var doc=this.doc;line=clipLine(doc,line==null?doc.first+doc.size-1:line);return getContextBefore(this,line+1,precise).state;},cursorCoords:function cursorCoords(start,mode){var pos,range$$1=this.doc.sel.primary();if(start==null){pos=range$$1.head;}else if(_typeof(start)=="object"){pos=_clipPos(this.doc,start);}else{pos=start?range$$1.from():range$$1.to();}return _cursorCoords(this,pos,mode||"page");},charCoords:function charCoords(pos,mode){return _charCoords(this,_clipPos(this.doc,pos),mode||"page");},coordsChar:function coordsChar(coords,mode){coords=fromCoordSystem(this,coords,mode||"page");return _coordsChar(this,coords.left,coords.top);},lineAtHeight:function lineAtHeight(height,mode){height=fromCoordSystem(this,{top:height,left:0},mode||"page").top;return _lineAtHeight(this.doc,height+this.display.viewOffset);},heightAtLine:function heightAtLine(line,mode,includeWidgets){var end=false,lineObj;if(typeof line=="number"){var last=this.doc.first+this.doc.size-1;if(line<this.doc.first){line=this.doc.first;}else if(line>last){line=last;end=true;}lineObj=getLine(this.doc,line);}else{lineObj=line;}return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page",includeWidgets||end).top+(end?this.doc.height-_heightAtLine(lineObj):0);},defaultTextHeight:function defaultTextHeight(){return textHeight(this.display);},defaultCharWidth:function defaultCharWidth(){return charWidth(this.display);},getViewport:function getViewport(){return{from:this.display.viewFrom,to:this.display.viewTo};},addWidget:function addWidget(pos,node,scroll,vert,horiz){var display=this.display;pos=_cursorCoords(this,_clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;node.style.position="absolute";node.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(node);display.sizer.appendChild(node);if(vert=="over"){top=pos.top;}else if(vert=="above"||vert=="near"){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);if((vert=='above'||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight){top=pos.top-node.offsetHeight;}else if(pos.bottom+node.offsetHeight<=vspace){top=pos.bottom;}if(left+node.offsetWidth>hspace){left=hspace-node.offsetWidth;}}node.style.top=top+"px";node.style.left=node.style.right="";if(horiz=="right"){left=display.sizer.clientWidth-node.offsetWidth;node.style.right="0px";}else{if(horiz=="left"){left=0;}else if(horiz=="middle"){left=(display.sizer.clientWidth-node.offsetWidth)/2;}node.style.left=left+"px";}if(scroll){scrollIntoView(this,{left:left,top:top,right:left+node.offsetWidth,bottom:top+node.offsetHeight});}},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,triggerOnMouseDown:methodOp(onMouseDown),execCommand:function execCommand(cmd){if(commands.hasOwnProperty(cmd)){return commands[cmd].call(null,this);}},triggerElectric:methodOp(function(text){triggerElectric(this,text);}),findPosH:function findPosH(from,amount,unit,visually){var this$1=this;var dir=1;if(amount<0){dir=-1;amount=-amount;}var cur=_clipPos(this.doc,from);for(var i=0;i<amount;++i){cur=_findPosH(this$1.doc,cur,dir,unit,visually);if(cur.hitSide){break;}}return cur;},moveH:methodOp(function(dir,unit){var this$1=this;this.extendSelectionsBy(function(range$$1){if(this$1.display.shift||this$1.doc.extend||range$$1.empty()){return _findPosH(this$1.doc,range$$1.head,dir,unit,this$1.options.rtlMoveVisually);}else{return dir<0?range$$1.from():range$$1.to();}},sel_move);}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;if(sel.somethingSelected()){doc.replaceSelection("",null,"+delete");}else{deleteNearSelection(this,function(range$$1){var other=_findPosH(doc,range$$1.head,dir,unit,false);return dir<0?{from:other,to:range$$1.head}:{from:range$$1.head,to:other};});}}),findPosV:function findPosV(from,amount,unit,goalColumn){var this$1=this;var dir=1,x=goalColumn;if(amount<0){dir=-1;amount=-amount;}var cur=_clipPos(this.doc,from);for(var i=0;i<amount;++i){var coords=_cursorCoords(this$1,cur,"div");if(x==null){x=coords.left;}else{coords.left=x;}cur=_findPosV(this$1,coords,dir,unit);if(cur.hitSide){break;}}return cur;},moveV:methodOp(function(dir,unit){var this$1=this;var doc=this.doc,goals=[];var collapse=!this.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range$$1){if(collapse){return dir<0?range$$1.from():range$$1.to();}var headPos=_cursorCoords(this$1,range$$1.head,"div");if(range$$1.goalColumn!=null){headPos.left=range$$1.goalColumn;}goals.push(headPos.left);var pos=_findPosV(this$1,headPos,dir,unit);if(unit=="page"&&range$$1==doc.sel.primary()){addToScrollTop(this$1,_charCoords(this$1,pos,"div").top-headPos.top);}return pos;},sel_move);if(goals.length){for(var i=0;i<doc.sel.ranges.length;i++){doc.sel.ranges[i].goalColumn=goals[i];}}}),findWordAt:function findWordAt(pos){var doc=this.doc,line=getLine(doc,pos.line).text;var start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");if((pos.sticky=="before"||end==line.length)&&start){--start;}else{++end;}var startChar=line.charAt(start);var check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper);}:/\s/.test(startChar)?function(ch){return /\s/.test(ch);}:function(ch){return!/\s/.test(ch)&&!isWordChar(ch);};while(start>0&&check(line.charAt(start-1))){--start;}while(end<line.length&&check(line.charAt(end))){++end;}}return new Range(Pos(pos.line,start),Pos(pos.line,end));},toggleOverwrite:function toggleOverwrite(value){if(value!=null&&value==this.state.overwrite){return;}if(this.state.overwrite=!this.state.overwrite){addClass(this.display.cursorDiv,"CodeMirror-overwrite");}else{rmClass(this.display.cursorDiv,"CodeMirror-overwrite");}signal(this,"overwriteToggle",this,this.state.overwrite);},hasFocus:function hasFocus(){return this.display.input.getField()==activeElt();},isReadOnly:function isReadOnly(){return!!(this.options.readOnly||this.doc.cantEdit);},scrollTo:methodOp(function(x,y){scrollToCoords(this,x,y);}),getScrollInfo:function getScrollInfo(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)};},scrollIntoView:methodOp(function(range$$1,margin){if(range$$1==null){range$$1={from:this.doc.sel.primary().head,to:null};if(margin==null){margin=this.options.cursorScrollMargin;}}else if(typeof range$$1=="number"){range$$1={from:Pos(range$$1,0),to:null};}else if(range$$1.from==null){range$$1={from:range$$1,to:null};}if(!range$$1.to){range$$1.to=range$$1.from;}range$$1.margin=margin||0;if(range$$1.from.line!=null){scrollToRange(this,range$$1);}else{scrollToCoordsRange(this,range$$1.from,range$$1.to,range$$1.margin);}}),setSize:methodOp(function(width,height){var this$1=this;var interpret=function interpret(val){return typeof val=="number"||/^\d+$/.test(String(val))?val+"px":val;};if(width!=null){this.display.wrapper.style.width=interpret(width);}if(height!=null){this.display.wrapper.style.height=interpret(height);}if(this.options.lineWrapping){clearLineMeasurementCache(this);}var lineNo$$1=this.display.viewFrom;this.doc.iter(lineNo$$1,this.display.viewTo,function(line){if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].noHScroll){regLineChange(this$1,lineNo$$1,"widget");break;}}}++lineNo$$1;});this.curOp.forceUpdate=true;signal(this,"refresh",this);}),operation:function operation(f){return runInOp(this,f);},startOperation:function startOperation(){return _startOperation(this);},endOperation:function endOperation(){return _endOperation(this);},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this);this.curOp.forceUpdate=true;clearCaches(this);scrollToCoords(this,this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this.display);if(oldHeight==null||Math.abs(oldHeight-textHeight(this.display))>.5){estimateLineHeights(this);}signal(this,"refresh",this);}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;if(this.state.selectingText){this.state.selectingText();}attachDoc(this,doc);clearCaches(this);this.display.input.reset();scrollToCoords(this,doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll=true;signalLater(this,"swapDoc",this,old);return old;}),phrase:function phrase(phraseText){var phrases=this.options.phrases;return phrases&&Object.prototype.hasOwnProperty.call(phrases,phraseText)?phrases[phraseText]:phraseText;},getInputField:function getInputField(){return this.display.input.getField();},getWrapperElement:function getWrapperElement(){return this.display.wrapper;},getScrollerElement:function getScrollerElement(){return this.display.scroller;},getGutterElement:function getGutterElement(){return this.display.gutters;}};eventMixin(CodeMirror);CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type)){helpers[type]=CodeMirror[type]={_global:[]};}helpers[type][name]=value;};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value});};}function _findPosH(doc,pos,dir,unit,visually){var oldPos=pos;var origDir=dir;var lineObj=getLine(doc,pos.line);function findNextLine(){var l=pos.line+dir;if(l<doc.first||l>=doc.first+doc.size){return false;}pos=new Pos(l,pos.ch,pos.sticky);return lineObj=getLine(doc,l);}function moveOnce(boundToLine){var next;if(visually){next=moveVisually(doc.cm,lineObj,pos,dir);}else{next=moveLogically(lineObj,pos,dir);}if(next==null){if(!boundToLine&&findNextLine()){pos=endOfLine(visually,doc.cm,lineObj,pos.line,dir);}else{return false;}}else{pos=next;}return true;}if(unit=="char"){moveOnce();}else if(unit=="column"){moveOnce(true);}else if(unit=="word"||unit=="group"){var sawType=null,group=unit=="group";var helper=doc.cm&&doc.cm.getHelper(pos,"wordChars");for(var first=true;;first=false){if(dir<0&&!moveOnce(!first)){break;}var cur=lineObj.text.charAt(pos.ch)||"\n";var type=isWordChar(cur,helper)?"w":group&&cur=="\n"?"n":!group||/\s/.test(cur)?null:"p";if(group&&!first&&!type){type="s";}if(sawType&&sawType!=type){if(dir<0){dir=1;moveOnce();pos.sticky="after";}break;}if(type){sawType=type;}if(dir>0&&!moveOnce(!first)){break;}}}var result=skipAtomic(doc,pos,oldPos,origDir,true);if(equalCursorPos(oldPos,result)){result.hitSide=true;}return result;}function _findPosV(cm,pos,dir,unit){var doc=cm.doc,x=pos.left,y;if(unit=="page"){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);var moveAmount=Math.max(pageSize-.5*textHeight(cm.display),3);y=(dir>0?pos.bottom:pos.top)+dir*moveAmount;}else if(unit=="line"){y=dir>0?pos.bottom+3:pos.top-3;}var target;for(;;){target=_coordsChar(cm,x,y);if(!target.outside){break;}if(dir<0?y<=0:y>=doc.height){target.hitSide=true;break;}y+=dir*5;}return target;}var ContentEditableInput=function ContentEditableInput(cm){this.cm=cm;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Delayed();this.composing=null;this.gracePeriod=false;this.readDOMTimeout=null;};ContentEditableInput.prototype.init=function(display){var this$1=this;var input=this,cm=input.cm;var div=input.div=display.lineDiv;disableBrowserMagic(div,cm.options.spellcheck,cm.options.autocorrect,cm.options.autocapitalize);on(div,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return;}if(ie_version<=11){setTimeout(operation(cm,function(){return this$1.updateFromDOM();}),20);}});on(div,"compositionstart",function(e){this$1.composing={data:e.data,done:false};});on(div,"compositionupdate",function(e){if(!this$1.composing){this$1.composing={data:e.data,done:false};}});on(div,"compositionend",function(e){if(this$1.composing){if(e.data!=this$1.composing.data){this$1.readFromDOMSoon();}this$1.composing.done=true;}});on(div,"touchstart",function(){return input.forceCompositionEnd();});on(div,"input",function(){if(!this$1.composing){this$1.readFromDOMSoon();}});function onCopyCut(e){if(signalDOMEvent(cm,e)){return;}if(cm.somethingSelected()){setLastCopied({lineWise:false,text:cm.getSelections()});if(e.type=="cut"){cm.replaceSelection("",null,"cut");}}else if(!cm.options.lineWiseCopyCut){return;}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut"){cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection("",null,"cut");});}}if(e.clipboardData){e.clipboardData.clearData();var content=lastCopied.text.join("\n");e.clipboardData.setData("Text",content);if(e.clipboardData.getData("Text")==content){e.preventDefault();return;}}var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);te.value=lastCopied.text.join("\n");var hadFocus=document.activeElement;selectInput(te);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();if(hadFocus==div){input.showPrimarySelection();}},50);}on(div,"copy",onCopyCut);on(div,"cut",onCopyCut);};ContentEditableInput.prototype.prepareSelection=function(){var result=prepareSelection(this.cm,false);result.focus=this.cm.state.focused;return result;};ContentEditableInput.prototype.showSelection=function(info,takeFocus){if(!info||!this.cm.display.view.length){return;}if(info.focus||takeFocus){this.showPrimarySelection();}this.showMultipleSelections(info);};ContentEditableInput.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection();};ContentEditableInput.prototype.showPrimarySelection=function(){var sel=this.getSelection(),cm=this.cm,prim=cm.doc.sel.primary();var from=prim.from(),to=prim.to();if(cm.display.viewTo==cm.display.viewFrom||from.line>=cm.display.viewTo||to.line<cm.display.viewFrom){sel.removeAllRanges();return;}var curAnchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var curFocus=domToPos(cm,sel.focusNode,sel.focusOffset);if(curAnchor&&!curAnchor.bad&&curFocus&&!curFocus.bad&&cmp(minPos(curAnchor,curFocus),from)==0&&cmp(maxPos(curAnchor,curFocus),to)==0){return;}var view=cm.display.view;var start=from.line>=cm.display.viewFrom&&posToDOM(cm,from)||{node:view[0].measure.map[2],offset:0};var end=to.line<cm.display.viewTo&&posToDOM(cm,to);if(!end){var measure=view[view.length-1].measure;var map$$1=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map$$1[map$$1.length-1],offset:map$$1[map$$1.length-2]-map$$1[map$$1.length-3]};}if(!start||!end){sel.removeAllRanges();return;}var old=sel.rangeCount&&sel.getRangeAt(0),rng;try{rng=range(start.node,start.offset,end.offset,end.node);}catch(e){}if(rng){if(!gecko&&cm.state.focused){sel.collapse(start.node,start.offset);if(!rng.collapsed){sel.removeAllRanges();sel.addRange(rng);}}else{sel.removeAllRanges();sel.addRange(rng);}if(old&&sel.anchorNode==null){sel.addRange(old);}else if(gecko){this.startGracePeriod();}}this.rememberSelection();};ContentEditableInput.prototype.startGracePeriod=function(){var this$1=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){this$1.gracePeriod=false;if(this$1.selectionChanged()){this$1.cm.operation(function(){return this$1.cm.curOp.selectionChanged=true;});}},20);};ContentEditableInput.prototype.showMultipleSelections=function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection);};ContentEditableInput.prototype.rememberSelection=function(){var sel=this.getSelection();this.lastAnchorNode=sel.anchorNode;this.lastAnchorOffset=sel.anchorOffset;this.lastFocusNode=sel.focusNode;this.lastFocusOffset=sel.focusOffset;};ContentEditableInput.prototype.selectionInEditor=function(){var sel=this.getSelection();if(!sel.rangeCount){return false;}var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node);};ContentEditableInput.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"){if(!this.selectionInEditor()){this.showSelection(this.prepareSelection(),true);}this.div.focus();}};ContentEditableInput.prototype.blur=function(){this.div.blur();};ContentEditableInput.prototype.getField=function(){return this.div;};ContentEditableInput.prototype.supportsTouch=function(){return true;};ContentEditableInput.prototype.receivedFocus=function(){var input=this;if(this.selectionInEditor()){this.pollSelection();}else{runInOp(this.cm,function(){return input.cm.curOp.selectionChanged=true;});}function poll(){if(input.cm.state.focused){input.pollSelection();input.polling.set(input.cm.options.pollInterval,poll);}}this.polling.set(this.cm.options.pollInterval,poll);};ContentEditableInput.prototype.selectionChanged=function(){var sel=this.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset;};ContentEditableInput.prototype.pollSelection=function(){if(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged()){return;}var sel=this.getSelection(),cm=this.cm;if(android&&chrome&&this.cm.display.gutterSpecs.length&&isInGutter(sel.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs});this.blur();this.focus();return;}if(this.composing){return;}this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var head=domToPos(cm,sel.focusNode,sel.focusOffset);if(anchor&&head){runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad){cm.curOp.selectionChanged=true;}});}};ContentEditableInput.prototype.pollContent=function(){if(this.readDOMTimeout!=null){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null;}var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary();var from=sel.from(),to=sel.to();if(from.ch==0&&from.line>cm.firstLine()){from=Pos(from.line-1,getLine(cm.doc,from.line-1).length);}if(to.ch==getLine(cm.doc,to.line).text.length&&to.line<cm.lastLine()){to=Pos(to.line+1,0);}if(from.line<display.viewFrom||to.line>display.viewTo-1){return false;}var fromIndex,fromLine,fromNode;if(from.line==display.viewFrom||(fromIndex=findViewIndex(cm,from.line))==0){fromLine=lineNo(display.view[0].line);fromNode=display.view[0].node;}else{fromLine=lineNo(display.view[fromIndex].line);fromNode=display.view[fromIndex-1].node.nextSibling;}var toIndex=findViewIndex(cm,to.line);var toLine,toNode;if(toIndex==display.view.length-1){toLine=display.viewTo-1;toNode=display.lineDiv.lastChild;}else{toLine=lineNo(display.view[toIndex+1].line)-1;toNode=display.view[toIndex+1].node.previousSibling;}if(!fromNode){return false;}var newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine));var oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));while(newText.length>1&&oldText.length>1){if(lst(newText)==lst(oldText)){newText.pop();oldText.pop();toLine--;}else if(newText[0]==oldText[0]){newText.shift();oldText.shift();fromLine++;}else{break;}}var cutFront=0,cutEnd=0;var newTop=newText[0],oldTop=oldText[0],maxCutFront=Math.min(newTop.length,oldTop.length);while(cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront)){++cutFront;}var newBot=lst(newText),oldBot=lst(oldText);var maxCutEnd=Math.min(newBot.length-(newText.length==1?cutFront:0),oldBot.length-(oldText.length==1?cutFront:0));while(cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){++cutEnd;}if(newText.length==1&&oldText.length==1&&fromLine==from.line){while(cutFront&&cutFront>from.ch&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){cutFront--;cutEnd++;}}newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd).replace(/^\u200b+/,"");newText[0]=newText[0].slice(cutFront).replace(/\u200b+$/,"");var chFrom=Pos(fromLine,cutFront);var chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(newText.length>1||newText[0]||cmp(chFrom,chTo)){_replaceRange(cm.doc,newText,chFrom,chTo,"+input");return true;}};ContentEditableInput.prototype.ensurePolled=function(){this.forceCompositionEnd();};ContentEditableInput.prototype.reset=function(){this.forceCompositionEnd();};ContentEditableInput.prototype.forceCompositionEnd=function(){if(!this.composing){return;}clearTimeout(this.readDOMTimeout);this.composing=null;this.updateFromDOM();this.div.blur();this.div.focus();};ContentEditableInput.prototype.readFromDOMSoon=function(){var this$1=this;if(this.readDOMTimeout!=null){return;}this.readDOMTimeout=setTimeout(function(){this$1.readDOMTimeout=null;if(this$1.composing){if(this$1.composing.done){this$1.composing=null;}else{return;}}this$1.updateFromDOM();},80);};ContentEditableInput.prototype.updateFromDOM=function(){var this$1=this;if(this.cm.isReadOnly()||!this.pollContent()){runInOp(this.cm,function(){return regChange(this$1.cm);});}};ContentEditableInput.prototype.setUneditable=function(node){node.contentEditable="false";};ContentEditableInput.prototype.onKeyPress=function(e){if(e.charCode==0||this.composing){return;}e.preventDefault();if(!this.cm.isReadOnly()){operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0);}};ContentEditableInput.prototype.readOnlyChanged=function(val){this.div.contentEditable=String(val!="nocursor");};ContentEditableInput.prototype.onContextMenu=function(){};ContentEditableInput.prototype.resetPosition=function(){};ContentEditableInput.prototype.needsContentAttribute=true;function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden){return null;}var line=getLine(cm.doc,pos.line);var info=mapFromLineView(view,line,pos.line);var order=getOrder(line,cm.doc.direction),side="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left";}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);result.offset=result.collapse=="right"?result.end:result.start;return result;}function isInGutter(node){for(var scan=node;scan;scan=scan.parentNode){if(/CodeMirror-gutter-wrapper/.test(scan.className)){return true;}}return false;}function badPos(pos,bad){if(bad){pos.bad=true;}return pos;}function domTextBetween(cm,from,to,fromLine,toLine){var text="",closing=false,lineSep=cm.doc.lineSeparator(),extraLinebreak=false;function recognizeMarker(id){return function(marker){return marker.id==id;};}function close(){if(closing){text+=lineSep;if(extraLinebreak){text+=lineSep;}closing=extraLinebreak=false;}}function addText(str){if(str){close();text+=str;}}function walk(node){if(node.nodeType==1){var cmText=node.getAttribute("cm-text");if(cmText){addText(cmText);return;}var markerID=node.getAttribute("cm-marker"),range$$1;if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));if(found.length&&(range$$1=found[0].find(0))){addText(getBetween(cm.doc,range$$1.from,range$$1.to).join(lineSep));}return;}if(node.getAttribute("contenteditable")=="false"){return;}var isBlock=/^(pre|div|p|li|table|br)$/i.test(node.nodeName);if(!/^br$/i.test(node.nodeName)&&node.textContent.length==0){return;}if(isBlock){close();}for(var i=0;i<node.childNodes.length;i++){walk(node.childNodes[i]);}if(/^(pre|p)$/i.test(node.nodeName)){extraLinebreak=true;}if(isBlock){closing=true;}}else if(node.nodeType==3){addText(node.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));}}for(;;){walk(from);if(from==to){break;}from=from.nextSibling;extraLinebreak=false;}return text;}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){lineNode=cm.display.lineDiv.childNodes[offset];if(!lineNode){return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),true);}node=null;offset=0;}else{for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv){return null;}if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv){break;}}}for(var i=0;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode){return locateNodeInLineView(lineView,node,offset);}}}function locateNodeInLineView(lineView,node,offset){var wrapper=lineView.text.firstChild,bad=false;if(!node||!contains(wrapper,node)){return badPos(Pos(lineNo(lineView.line),0),true);}if(node==wrapper){bad=true;node=wrapper.childNodes[offset];offset=0;if(!node){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad);}}var textNode=node.nodeType==3?node:null,topNode=node;if(!textNode&&node.childNodes.length==1&&node.firstChild.nodeType==3){textNode=node.firstChild;if(offset){offset=textNode.nodeValue.length;}}while(topNode.parentNode!=wrapper){topNode=topNode.parentNode;}var measure=lineView.measure,maps=measure.maps;function find(textNode,topNode,offset){for(var i=-1;i<(maps?maps.length:0);i++){var map$$1=i<0?measure.map:maps[i];for(var j=0;j<map$$1.length;j+=3){var curNode=map$$1[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(i<0?lineView.line:lineView.rest[i]);var ch=map$$1[j]+offset;if(offset<0||curNode!=textNode){ch=map$$1[j+(offset?1:0)];}return Pos(line,ch);}}}}var found=find(textNode,topNode,offset);if(found){return badPos(found,bad);}for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){found=find(after,after.firstChild,0);if(found){return badPos(Pos(found.line,found.ch-dist),bad);}else{dist+=after.textContent.length;}}for(var before=topNode.previousSibling,dist$1=offset;before;before=before.previousSibling){found=find(before,before.firstChild,-1);if(found){return badPos(Pos(found.line,found.ch+dist$1),bad);}else{dist$1+=before.textContent.length;}}}var TextareaInput=function TextareaInput(cm){this.cm=cm;this.prevInput="";this.pollingFast=false;this.polling=new Delayed();this.hasSelection=false;this.composing=null;};TextareaInput.prototype.init=function(display){var this$1=this;var input=this,cm=this.cm;this.createField(display);var te=this.textarea;display.wrapper.insertBefore(this.wrapper,display.wrapper.firstChild);if(ios){te.style.width="0px";}on(te,"input",function(){if(ie&&ie_version>=9&&this$1.hasSelection){this$1.hasSelection=null;}input.poll();});on(te,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return;}cm.state.pasteIncoming=+new Date();input.fastPoll();});function prepareCopyCut(e){if(signalDOMEvent(cm,e)){return;}if(cm.somethingSelected()){setLastCopied({lineWise:false,text:cm.getSelections()});}else if(!cm.options.lineWiseCopyCut){return;}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut"){cm.setSelections(ranges.ranges,null,sel_dontScroll);}else{input.prevInput="";te.value=ranges.text.join("\n");selectInput(te);}}if(e.type=="cut"){cm.state.cutIncoming=+new Date();}}on(te,"cut",prepareCopyCut);on(te,"copy",prepareCopyCut);on(display.scroller,"paste",function(e){if(eventInWidget(display,e)||signalDOMEvent(cm,e)){return;}if(!te.dispatchEvent){cm.state.pasteIncoming=+new Date();input.focus();return;}var event=new Event("paste");event.clipboardData=e.clipboardData;te.dispatchEvent(event);});on(display.lineSpace,"selectstart",function(e){if(!eventInWidget(display,e)){e_preventDefault(e);}});on(te,"compositionstart",function(){var start=cm.getCursor("from");if(input.composing){input.composing.range.clear();}input.composing={start:start,range:cm.markText(start,cm.getCursor("to"),{className:"CodeMirror-composing"})};});on(te,"compositionend",function(){if(input.composing){input.poll();input.composing.range.clear();input.composing=null;}});};TextareaInput.prototype.createField=function(_display){this.wrapper=hiddenTextarea();this.textarea=this.wrapper.firstChild;};TextareaInput.prototype.prepareSelection=function(){var cm=this.cm,display=cm.display,doc=cm.doc;var result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=_cursorCoords(cm,doc.sel.primary().head,"div");var wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left));}return result;};TextareaInput.prototype.showSelection=function(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors);removeChildrenAndAdd(display.selectionDiv,drawn.selection);if(drawn.teTop!=null){this.wrapper.style.top=drawn.teTop+"px";this.wrapper.style.left=drawn.teLeft+"px";}};TextareaInput.prototype.reset=function(typing){if(this.contextMenuPending||this.composing){return;}var cm=this.cm;if(cm.somethingSelected()){this.prevInput="";var content=cm.getSelection();this.textarea.value=content;if(cm.state.focused){selectInput(this.textarea);}if(ie&&ie_version>=9){this.hasSelection=content;}}else if(!typing){this.prevInput=this.textarea.value="";if(ie&&ie_version>=9){this.hasSelection=null;}}};TextareaInput.prototype.getField=function(){return this.textarea;};TextareaInput.prototype.supportsTouch=function(){return false;};TextareaInput.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!mobile||activeElt()!=this.textarea)){try{this.textarea.focus();}catch(e){}}};TextareaInput.prototype.blur=function(){this.textarea.blur();};TextareaInput.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0;};TextareaInput.prototype.receivedFocus=function(){this.slowPoll();};TextareaInput.prototype.slowPoll=function(){var this$1=this;if(this.pollingFast){return;}this.polling.set(this.cm.options.pollInterval,function(){this$1.poll();if(this$1.cm.state.focused){this$1.slowPoll();}});};TextareaInput.prototype.fastPoll=function(){var missed=false,input=this;input.pollingFast=true;function p(){var changed=input.poll();if(!changed&&!missed){missed=true;input.polling.set(60,p);}else{input.pollingFast=false;input.slowPoll();}}input.polling.set(20,p);};TextareaInput.prototype.poll=function(){var this$1=this;var cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq){return false;}var text=input.value;if(text==prevInput&&!cm.somethingSelected()){return false;}if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text)){cm.display.input.reset();return false;}if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(first==0x200b&&!prevInput){prevInput="\u200B";}if(first==0x21da){this.reset();return this.cm.execCommand("undo");}}var same=0,l=Math.min(prevInput.length,text.length);while(same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same)){++same;}runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,this$1.composing?"*compose":null);if(text.length>1000||text.indexOf("\n")>-1){input.value=this$1.prevInput="";}else{this$1.prevInput=text;}if(this$1.composing){this$1.composing.range.clear();this$1.composing.range=cm.markText(this$1.composing.start,cm.getCursor("to"),{className:"CodeMirror-composing"});}});return true;};TextareaInput.prototype.ensurePolled=function(){if(this.pollingFast&&this.poll()){this.pollingFast=false;}};TextareaInput.prototype.onKeyPress=function(){if(ie&&ie_version>=9){this.hasSelection=null;}this.fastPoll();};TextareaInput.prototype.onContextMenu=function(e){var input=this,cm=input.cm,display=cm.display,te=input.textarea;if(input.contextMenuPending){input.contextMenuPending();}var pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(!pos||presto){return;}var reset=cm.options.resetSelectionOnContextMenu;if(reset&&cm.doc.sel.contains(pos)==-1){operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);}var oldCSS=te.style.cssText,oldWrapperCSS=input.wrapper.style.cssText;var wrapperBox=input.wrapper.offsetParent.getBoundingClientRect();input.wrapper.style.cssText="position: static";te.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-wrapperBox.top-5)+"px; left: "+(e.clientX-wrapperBox.left-5)+"px;\n      z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var oldScrollY;if(webkit){oldScrollY=window.scrollY;}display.input.focus();if(webkit){window.scrollTo(null,oldScrollY);}display.input.reset();if(!cm.somethingSelected()){te.value=input.prevInput=" ";}input.contextMenuPending=rehide;display.selForContextMenu=cm.doc.sel;clearTimeout(display.detectingSelectAll);function prepareSelectAllHack(){if(te.selectionStart!=null){var selected=cm.somethingSelected();var extval="\u200B"+(selected?te.value:"");te.value="\u21DA";te.value=extval;input.prevInput=selected?"":"\u200B";te.selectionStart=1;te.selectionEnd=extval.length;display.selForContextMenu=cm.doc.sel;}}function rehide(){if(input.contextMenuPending!=rehide){return;}input.contextMenuPending=false;input.wrapper.style.cssText=oldWrapperCSS;te.style.cssText=oldCSS;if(ie&&ie_version<9){display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos);}if(te.selectionStart!=null){if(!ie||ie&&ie_version<9){prepareSelectAllHack();}var i=0,poll=function poll(){if(display.selForContextMenu==cm.doc.sel&&te.selectionStart==0&&te.selectionEnd>0&&input.prevInput=="\u200B"){operation(cm,selectAll)(cm);}else if(i++<10){display.detectingSelectAll=setTimeout(poll,500);}else{display.selForContextMenu=null;display.input.reset();}};display.detectingSelectAll=setTimeout(poll,200);}}if(ie&&ie_version>=9){prepareSelectAllHack();}if(captureRightClick){e_stop(e);var mouseup=function mouseup(){off(window,"mouseup",mouseup);setTimeout(rehide,20);};on(window,"mouseup",mouseup);}else{setTimeout(rehide,50);}};TextareaInput.prototype.readOnlyChanged=function(val){if(!val){this.reset();}this.textarea.disabled=val=="nocursor";};TextareaInput.prototype.setUneditable=function(){};TextareaInput.prototype.needsContentAttribute=false;function fromTextArea(textarea,options){options=options?copyObj(options):{};options.value=textarea.value;if(!options.tabindex&&textarea.tabIndex){options.tabindex=textarea.tabIndex;}if(!options.placeholder&&textarea.placeholder){options.placeholder=textarea.placeholder;}if(options.autofocus==null){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||textarea.getAttribute("autofocus")!=null&&hasFocus==document.body;}function save(){textarea.value=cm.getValue();}var realSubmit;if(textarea.form){on(textarea.form,"submit",save);if(!options.leaveSubmitMethodAlone){var form=textarea.form;realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit;};}catch(e){}}}options.finishInit=function(cm){cm.save=save;cm.getTextArea=function(){return textarea;};cm.toTextArea=function(){cm.toTextArea=isNaN;save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display="";if(textarea.form){off(textarea.form,"submit",save);if(typeof textarea.form.submit=="function"){textarea.form.submit=realSubmit;}}};};textarea.style.display="none";var cm=CodeMirror(function(node){return textarea.parentNode.insertBefore(node,textarea.nextSibling);},options);return cm;}function addLegacyProps(CodeMirror){CodeMirror.off=off;CodeMirror.on=on;CodeMirror.wheelEventPixels=wheelEventPixels;CodeMirror.Doc=Doc;CodeMirror.splitLines=splitLinesAuto;CodeMirror.countColumn=countColumn;CodeMirror.findColumn=findColumn;CodeMirror.isWordChar=isWordCharBasic;CodeMirror.Pass=Pass;CodeMirror.signal=signal;CodeMirror.Line=Line;CodeMirror.changeEnd=changeEnd;CodeMirror.scrollbarModel=scrollbarModel;CodeMirror.Pos=Pos;CodeMirror.cmpPos=cmp;CodeMirror.modes=modes;CodeMirror.mimeModes=mimeModes;CodeMirror.resolveMode=resolveMode;CodeMirror.getMode=getMode;CodeMirror.modeExtensions=modeExtensions;CodeMirror.extendMode=extendMode;CodeMirror.copyState=copyState;CodeMirror.startState=startState;CodeMirror.innerMode=innerMode;CodeMirror.commands=commands;CodeMirror.keyMap=keyMap;CodeMirror.keyName=keyName;CodeMirror.isModifierKey=isModifierKey;CodeMirror.lookupKey=lookupKey;CodeMirror.normalizeKeyMap=normalizeKeyMap;CodeMirror.StringStream=StringStream;CodeMirror.SharedTextMarker=SharedTextMarker;CodeMirror.TextMarker=TextMarker;CodeMirror.LineWidget=LineWidget;CodeMirror.e_preventDefault=e_preventDefault;CodeMirror.e_stopPropagation=e_stopPropagation;CodeMirror.e_stop=e_stop;CodeMirror.addClass=addClass;CodeMirror.contains=contains;CodeMirror.rmClass=rmClass;CodeMirror.keyNames=keyNames;}defineOptions(CodeMirror);addEditorMethods(CodeMirror);var dontDelegate="iter insert remove copy getEditor constructor".split(" ");for(var prop in Doc.prototype){if(Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0){CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments);};}(Doc.prototype[prop]);}}eventMixin(Doc);CodeMirror.inputStyles={"textarea":TextareaInput,"contenteditable":ContentEditableInput};CodeMirror.defineMode=function(name){if(!CodeMirror.defaults.mode&&name!="null"){CodeMirror.defaults.mode=name;}defineMode.apply(this,arguments);};CodeMirror.defineMIME=defineMIME;CodeMirror.defineMode("null",function(){return{token:function token(stream){return stream.skipToEnd();}};});CodeMirror.defineMIME("text/plain","null");CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func;};CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func;};CodeMirror.fromTextArea=fromTextArea;addLegacyProps(CodeMirror);CodeMirror.version="5.48.4";return CodeMirror;});(function(mod){if((typeof exports==="undefined"?"undefined":_typeof(exports))=="object"&&_typeof(_module)=="object")mod(require("../../lib/codemirror"));else if(typeof _define=="function"&&_define.amd)_define(["../../lib/codemirror"],mod);else mod(CodeMirror);})(function(CodeMirror){"use strict";CodeMirror.defineMode("javascript",function(config,parserConfig){var indentUnit=config.indentUnit;var statementIndent=parserConfig.statementIndent;var jsonldMode=parserConfig.jsonld;var jsonMode=parserConfig.json||jsonldMode;var isTS=parserConfig.typescript;var wordRE=parserConfig.wordCharacters||/[\w$\xa1-\uffff]/;var keywords=function(){function kw(type){return{type:type,style:"keyword"};}var A=kw("keyword a"),B=kw("keyword b"),C=kw("keyword c"),D=kw("keyword d");var operator=kw("operator"),atom={type:"atom",style:"atom"};return{"if":kw("if"),"while":A,"with":A,"else":B,"do":B,"try":B,"finally":B,"return":D,"break":D,"continue":D,"new":kw("new"),"delete":C,"void":C,"throw":C,"debugger":kw("debugger"),"var":kw("var"),"const":kw("var"),"let":kw("var"),"function":kw("function"),"catch":kw("catch"),"for":kw("for"),"switch":kw("switch"),"case":kw("case"),"default":kw("default"),"in":operator,"typeof":operator,"instanceof":operator,"true":atom,"false":atom,"null":atom,"undefined":atom,"NaN":atom,"Infinity":atom,"this":kw("this"),"class":kw("class"),"super":kw("atom"),"yield":C,"export":kw("export"),"import":kw("import"),"extends":C,"await":C};}();var isOperatorChar=/[+\-*&%=<>!?|~^@]/;var isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function readRegexp(stream){var escaped=false,next,inSet=false;while((next=stream.next())!=null){if(!escaped){if(next=="/"&&!inSet)return;if(next=="[")inSet=true;else if(inSet&&next=="]")inSet=false;}escaped=!escaped&&next=="\\";}}var type,content;function ret(tp,style,cont){type=tp;content=cont;return style;}function tokenBase(stream,state){var ch=stream.next();if(ch=='"'||ch=="'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state);}else if(ch=="."&&stream.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/)){return ret("number","number");}else if(ch=="."&&stream.match("..")){return ret("spread","meta");}else if(/[\[\]{}\(\),;\:\.]/.test(ch)){return ret(ch);}else if(ch=="="&&stream.eat(">")){return ret("=>","operator");}else if(ch=="0"&&stream.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)){return ret("number","number");}else if(/\d/.test(ch)){stream.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/);return ret("number","number");}else if(ch=="/"){if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state);}else if(stream.eat("/")){stream.skipToEnd();return ret("comment","comment");}else if(expressionAllowed(stream,state,1)){readRegexp(stream);stream.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/);return ret("regexp","string-2");}else{stream.eat("=");return ret("operator","operator",stream.current());}}else if(ch=="`"){state.tokenize=tokenQuasi;return tokenQuasi(stream,state);}else if(ch=="#"){stream.skipToEnd();return ret("error","error");}else if(isOperatorChar.test(ch)){if(ch!=">"||!state.lexical||state.lexical.type!=">"){if(stream.eat("=")){if(ch=="!"||ch=="=")stream.eat("=");}else if(/[<>*+\-]/.test(ch)){stream.eat(ch);if(ch==">")stream.eat(ch);}}return ret("operator","operator",stream.current());}else if(wordRE.test(ch)){stream.eatWhile(wordRE);var word=stream.current();if(state.lastType!="."){if(keywords.propertyIsEnumerable(word)){var kw=keywords[word];return ret(kw.type,kw.style,word);}if(word=="async"&&stream.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,false))return ret("async","keyword",word);}return ret("variable","variable",word);}}function tokenString(quote){return function(stream,state){var escaped=false,next;if(jsonldMode&&stream.peek()=="@"&&stream.match(isJsonldKeyword)){state.tokenize=tokenBase;return ret("jsonld-keyword","meta");}while((next=stream.next())!=null){if(next==quote&&!escaped)break;escaped=!escaped&&next=="\\";}if(!escaped)state.tokenize=tokenBase;return ret("string","string");};}function tokenComment(stream,state){var maybeEnd=false,ch;while(ch=stream.next()){if(ch=="/"&&maybeEnd){state.tokenize=tokenBase;break;}maybeEnd=ch=="*";}return ret("comment","comment");}function tokenQuasi(stream,state){var escaped=false,next;while((next=stream.next())!=null){if(!escaped&&(next=="`"||next=="$"&&stream.eat("{"))){state.tokenize=tokenBase;break;}escaped=!escaped&&next=="\\";}return ret("quasi","string-2",stream.current());}var brackets="([{}])";function findFatArrow(stream,state){if(state.fatArrowAt)state.fatArrowAt=null;var arrow=stream.string.indexOf("=>",stream.start);if(arrow<0)return;if(isTS){var m=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(stream.string.slice(stream.start,arrow));if(m)arrow=m.index;}var depth=0,sawSomething=false;for(var pos=arrow-1;pos>=0;--pos){var ch=stream.string.charAt(pos);var bracket=brackets.indexOf(ch);if(bracket>=0&&bracket<3){if(!depth){++pos;break;}if(--depth==0){if(ch=="(")sawSomething=true;break;}}else if(bracket>=3&&bracket<6){++depth;}else if(wordRE.test(ch)){sawSomething=true;}else if(/["'\/`]/.test(ch)){for(;;--pos){if(pos==0)return;var next=stream.string.charAt(pos-1);if(next==ch&&stream.string.charAt(pos-2)!="\\"){pos--;break;}}}else if(sawSomething&&!depth){++pos;break;}}if(sawSomething&&!depth)state.fatArrowAt=pos;}var atomicTypes={"atom":true,"number":true,"variable":true,"string":true,"regexp":true,"this":true,"jsonld-keyword":true};function JSLexical(indented,column,type,align,prev,info){this.indented=indented;this.column=column;this.type=type;this.prev=prev;this.info=info;if(align!=null)this.align=align;}function inScope(state,varname){for(var v=state.localVars;v;v=v.next){if(v.name==varname)return true;}for(var cx=state.context;cx;cx=cx.prev){for(var v=cx.vars;v;v=v.next){if(v.name==varname)return true;}}}function parseJS(state,style,type,content,stream){var cc=state.cc;cx.state=state;cx.stream=stream;cx.marked=null,cx.cc=cc;cx.style=style;if(!state.lexical.hasOwnProperty("align"))state.lexical.align=true;while(true){var combinator=cc.length?cc.pop():jsonMode?expression:statement;if(combinator(type,content)){while(cc.length&&cc[cc.length-1].lex){cc.pop()();}if(cx.marked)return cx.marked;if(type=="variable"&&inScope(state,content))return"variable-2";return style;}}}var cx={state:null,column:null,marked:null,cc:null};function pass(){for(var i=arguments.length-1;i>=0;i--){cx.cc.push(arguments[i]);}}function cont(){pass.apply(null,arguments);return true;}function inList(name,list){for(var v=list;v;v=v.next){if(v.name==name)return true;}return false;}function register(varname){var state=cx.state;cx.marked="def";if(state.context){if(state.lexical.info=="var"&&state.context&&state.context.block){var newContext=registerVarScoped(varname,state.context);if(newContext!=null){state.context=newContext;return;}}else if(!inList(varname,state.localVars)){state.localVars=new Var(varname,state.localVars);return;}}if(parserConfig.globalVars&&!inList(varname,state.globalVars))state.globalVars=new Var(varname,state.globalVars);}function registerVarScoped(varname,context){if(!context){return null;}else if(context.block){var inner=registerVarScoped(varname,context.prev);if(!inner)return null;if(inner==context.prev)return context;return new Context(inner,context.vars,true);}else if(inList(varname,context.vars)){return context;}else{return new Context(context.prev,new Var(varname,context.vars),false);}}function isModifier(name){return name=="public"||name=="private"||name=="protected"||name=="abstract"||name=="readonly";}function Context(prev,vars,block){this.prev=prev;this.vars=vars;this.block=block;}function Var(name,next){this.name=name;this.next=next;}var defaultVars=new Var("this",new Var("arguments",null));function pushcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,false);cx.state.localVars=defaultVars;}function pushblockcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,true);cx.state.localVars=null;}function popcontext(){cx.state.localVars=cx.state.context.vars;cx.state.context=cx.state.context.prev;}popcontext.lex=true;function pushlex(type,info){var result=function result(){var state=cx.state,indent=state.indented;if(state.lexical.type=="stat")indent=state.lexical.indented;else for(var outer=state.lexical;outer&&outer.type==")"&&outer.align;outer=outer.prev){indent=outer.indented;}state.lexical=new JSLexical(indent,cx.stream.column(),type,null,state.lexical,info);};result.lex=true;return result;}function poplex(){var state=cx.state;if(state.lexical.prev){if(state.lexical.type==")")state.indented=state.lexical.indented;state.lexical=state.lexical.prev;}}poplex.lex=true;function expect(wanted){function exp(type){if(type==wanted)return cont();else if(wanted==";"||type=="}"||type==")"||type=="]")return pass();else return cont(exp);};return exp;}function statement(type,value){if(type=="var")return cont(pushlex("vardef",value),vardef,expect(";"),poplex);if(type=="keyword a")return cont(pushlex("form"),parenExpr,statement,poplex);if(type=="keyword b")return cont(pushlex("form"),statement,poplex);if(type=="keyword d")return cx.stream.match(/^\s*$/,false)?cont():cont(pushlex("stat"),maybeexpression,expect(";"),poplex);if(type=="debugger")return cont(expect(";"));if(type=="{")return cont(pushlex("}"),pushblockcontext,block,poplex,popcontext);if(type==";")return cont();if(type=="if"){if(cx.state.lexical.info=="else"&&cx.state.cc[cx.state.cc.length-1]==poplex)cx.state.cc.pop()();return cont(pushlex("form"),parenExpr,statement,poplex,maybeelse);}if(type=="function")return cont(functiondef);if(type=="for")return cont(pushlex("form"),forspec,statement,poplex);if(type=="class"||isTS&&value=="interface"){cx.marked="keyword";return cont(pushlex("form",type=="class"?type:value),className,poplex);}if(type=="variable"){if(isTS&&value=="declare"){cx.marked="keyword";return cont(statement);}else if(isTS&&(value=="module"||value=="enum"||value=="type")&&cx.stream.match(/^\s*\w/,false)){cx.marked="keyword";if(value=="enum")return cont(enumdef);else if(value=="type")return cont(typename,expect("operator"),typeexpr,expect(";"));else return cont(pushlex("form"),pattern,expect("{"),pushlex("}"),block,poplex,poplex);}else if(isTS&&value=="namespace"){cx.marked="keyword";return cont(pushlex("form"),expression,statement,poplex);}else if(isTS&&value=="abstract"){cx.marked="keyword";return cont(statement);}else{return cont(pushlex("stat"),maybelabel);}}if(type=="switch")return cont(pushlex("form"),parenExpr,expect("{"),pushlex("}","switch"),pushblockcontext,block,poplex,poplex,popcontext);if(type=="case")return cont(expression,expect(":"));if(type=="default")return cont(expect(":"));if(type=="catch")return cont(pushlex("form"),pushcontext,maybeCatchBinding,statement,poplex,popcontext);if(type=="export")return cont(pushlex("stat"),afterExport,poplex);if(type=="import")return cont(pushlex("stat"),afterImport,poplex);if(type=="async")return cont(statement);if(value=="@")return cont(expression,statement);return pass(pushlex("stat"),expression,expect(";"),poplex);}function maybeCatchBinding(type){if(type=="(")return cont(funarg,expect(")"));}function expression(type,value){return expressionInner(type,value,false);}function expressionNoComma(type,value){return expressionInner(type,value,true);}function parenExpr(type){if(type!="(")return pass();return cont(pushlex(")"),expression,expect(")"),poplex);}function expressionInner(type,value,noComma){if(cx.state.fatArrowAt==cx.stream.start){var body=noComma?arrowBodyNoComma:arrowBody;if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,expect("=>"),body,popcontext);else if(type=="variable")return pass(pushcontext,pattern,expect("=>"),body,popcontext);}var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;if(atomicTypes.hasOwnProperty(type))return cont(maybeop);if(type=="function")return cont(functiondef,maybeop);if(type=="class"||isTS&&value=="interface"){cx.marked="keyword";return cont(pushlex("form"),classExpression,poplex);}if(type=="keyword c"||type=="async")return cont(noComma?expressionNoComma:expression);if(type=="(")return cont(pushlex(")"),maybeexpression,expect(")"),poplex,maybeop);if(type=="operator"||type=="spread")return cont(noComma?expressionNoComma:expression);if(type=="[")return cont(pushlex("]"),arrayLiteral,poplex,maybeop);if(type=="{")return contCommasep(objprop,"}",null,maybeop);if(type=="quasi")return pass(quasi,maybeop);if(type=="new")return cont(maybeTarget(noComma));if(type=="import")return cont(expression);return cont();}function maybeexpression(type){if(type.match(/[;\}\)\],]/))return pass();return pass(expression);}function maybeoperatorComma(type,value){if(type==",")return cont(expression);return maybeoperatorNoComma(type,value,false);}function maybeoperatorNoComma(type,value,noComma){var me=noComma==false?maybeoperatorComma:maybeoperatorNoComma;var expr=noComma==false?expression:expressionNoComma;if(type=="=>")return cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext);if(type=="operator"){if(/\+\+|--/.test(value)||isTS&&value=="!")return cont(me);if(isTS&&value=="<"&&cx.stream.match(/^([^>]|<.*?>)*>\s*\(/,false))return cont(pushlex(">"),commasep(typeexpr,">"),poplex,me);if(value=="?")return cont(expression,expect(":"),expr);return cont(expr);}if(type=="quasi"){return pass(quasi,me);}if(type==";")return;if(type=="(")return contCommasep(expressionNoComma,")","call",me);if(type==".")return cont(property,me);if(type=="[")return cont(pushlex("]"),maybeexpression,expect("]"),poplex,me);if(isTS&&value=="as"){cx.marked="keyword";return cont(typeexpr,me);}if(type=="regexp"){cx.state.lastType=cx.marked="operator";cx.stream.backUp(cx.stream.pos-cx.stream.start-1);return cont(expr);}}function quasi(type,value){if(type!="quasi")return pass();if(value.slice(value.length-2)!="${")return cont(quasi);return cont(expression,continueQuasi);}function continueQuasi(type){if(type=="}"){cx.marked="string-2";cx.state.tokenize=tokenQuasi;return cont(quasi);}}function arrowBody(type){findFatArrow(cx.stream,cx.state);return pass(type=="{"?statement:expression);}function arrowBodyNoComma(type){findFatArrow(cx.stream,cx.state);return pass(type=="{"?statement:expressionNoComma);}function maybeTarget(noComma){return function(type){if(type==".")return cont(noComma?targetNoComma:target);else if(type=="variable"&&isTS)return cont(maybeTypeArgs,noComma?maybeoperatorNoComma:maybeoperatorComma);else return pass(noComma?expressionNoComma:expression);};}function target(_,value){if(value=="target"){cx.marked="keyword";return cont(maybeoperatorComma);}}function targetNoComma(_,value){if(value=="target"){cx.marked="keyword";return cont(maybeoperatorNoComma);}}function maybelabel(type){if(type==":")return cont(poplex,statement);return pass(maybeoperatorComma,expect(";"),poplex);}function property(type){if(type=="variable"){cx.marked="property";return cont();}}function objprop(type,value){if(type=="async"){cx.marked="property";return cont(objprop);}else if(type=="variable"||cx.style=="keyword"){cx.marked="property";if(value=="get"||value=="set")return cont(getterSetter);var m;if(isTS&&cx.state.fatArrowAt==cx.stream.start&&(m=cx.stream.match(/^\s*:\s*/,false)))cx.state.fatArrowAt=cx.stream.pos+m[0].length;return cont(afterprop);}else if(type=="number"||type=="string"){cx.marked=jsonldMode?"property":cx.style+" property";return cont(afterprop);}else if(type=="jsonld-keyword"){return cont(afterprop);}else if(isTS&&isModifier(value)){cx.marked="keyword";return cont(objprop);}else if(type=="["){return cont(expression,maybetype,expect("]"),afterprop);}else if(type=="spread"){return cont(expressionNoComma,afterprop);}else if(value=="*"){cx.marked="keyword";return cont(objprop);}else if(type==":"){return pass(afterprop);}}function getterSetter(type){if(type!="variable")return pass(afterprop);cx.marked="property";return cont(functiondef);}function afterprop(type){if(type==":")return cont(expressionNoComma);if(type=="(")return pass(functiondef);}function commasep(what,end,sep){function proceed(type,value){if(sep?sep.indexOf(type)>-1:type==","){var lex=cx.state.lexical;if(lex.info=="call")lex.pos=(lex.pos||0)+1;return cont(function(type,value){if(type==end||value==end)return pass();return pass(what);},proceed);}if(type==end||value==end)return cont();if(sep&&sep.indexOf(";")>-1)return pass(what);return cont(expect(end));}return function(type,value){if(type==end||value==end)return cont();return pass(what,proceed);};}function contCommasep(what,end,info){for(var i=3;i<arguments.length;i++){cx.cc.push(arguments[i]);}return cont(pushlex(end,info),commasep(what,end),poplex);}function block(type){if(type=="}")return cont();return pass(statement,block);}function maybetype(type,value){if(isTS){if(type==":")return cont(typeexpr);if(value=="?")return cont(maybetype);}}function maybetypeOrIn(type,value){if(isTS&&(type==":"||value=="in"))return cont(typeexpr);}function mayberettype(type){if(isTS&&type==":"){if(cx.stream.match(/^\s*\w+\s+is\b/,false))return cont(expression,isKW,typeexpr);else return cont(typeexpr);}}function isKW(_,value){if(value=="is"){cx.marked="keyword";return cont();}}function typeexpr(type,value){if(value=="keyof"||value=="typeof"||value=="infer"){cx.marked="keyword";return cont(value=="typeof"?expressionNoComma:typeexpr);}if(type=="variable"||value=="void"){cx.marked="type";return cont(afterType);}if(value=="|"||value=="&")return cont(typeexpr);if(type=="string"||type=="number"||type=="atom")return cont(afterType);if(type=="[")return cont(pushlex("]"),commasep(typeexpr,"]",","),poplex,afterType);if(type=="{")return cont(pushlex("}"),commasep(typeprop,"}",",;"),poplex,afterType);if(type=="(")return cont(commasep(typearg,")"),maybeReturnType,afterType);if(type=="<")return cont(commasep(typeexpr,">"),typeexpr);}function maybeReturnType(type){if(type=="=>")return cont(typeexpr);}function typeprop(type,value){if(type=="variable"||cx.style=="keyword"){cx.marked="property";return cont(typeprop);}else if(value=="?"||type=="number"||type=="string"){return cont(typeprop);}else if(type==":"){return cont(typeexpr);}else if(type=="["){return cont(expect("variable"),maybetypeOrIn,expect("]"),typeprop);}else if(type=="("){return pass(functiondecl,typeprop);}}function typearg(type,value){if(type=="variable"&&cx.stream.match(/^\s*[?:]/,false)||value=="?")return cont(typearg);if(type==":")return cont(typeexpr);if(type=="spread")return cont(typearg);return pass(typeexpr);}function afterType(type,value){if(value=="<")return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType);if(value=="|"||type=="."||value=="&")return cont(typeexpr);if(type=="[")return cont(typeexpr,expect("]"),afterType);if(value=="extends"||value=="implements"){cx.marked="keyword";return cont(typeexpr);}if(value=="?")return cont(typeexpr,expect(":"),typeexpr);}function maybeTypeArgs(_,value){if(value=="<")return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType);}function typeparam(){return pass(typeexpr,maybeTypeDefault);}function maybeTypeDefault(_,value){if(value=="=")return cont(typeexpr);}function vardef(_,value){if(value=="enum"){cx.marked="keyword";return cont(enumdef);}return pass(pattern,maybetype,maybeAssign,vardefCont);}function pattern(type,value){if(isTS&&isModifier(value)){cx.marked="keyword";return cont(pattern);}if(type=="variable"){register(value);return cont();}if(type=="spread")return cont(pattern);if(type=="[")return contCommasep(eltpattern,"]");if(type=="{")return contCommasep(proppattern,"}");}function proppattern(type,value){if(type=="variable"&&!cx.stream.match(/^\s*:/,false)){register(value);return cont(maybeAssign);}if(type=="variable")cx.marked="property";if(type=="spread")return cont(pattern);if(type=="}")return pass();if(type=="[")return cont(expression,expect(']'),expect(':'),proppattern);return cont(expect(":"),pattern,maybeAssign);}function eltpattern(){return pass(pattern,maybeAssign);}function maybeAssign(_type,value){if(value=="=")return cont(expressionNoComma);}function vardefCont(type){if(type==",")return cont(vardef);}function maybeelse(type,value){if(type=="keyword b"&&value=="else")return cont(pushlex("form","else"),statement,poplex);}function forspec(type,value){if(value=="await")return cont(forspec);if(type=="(")return cont(pushlex(")"),forspec1,poplex);}function forspec1(type){if(type=="var")return cont(vardef,forspec2);if(type=="variable")return cont(forspec2);return pass(forspec2);}function forspec2(type,value){if(type==")")return cont();if(type==";")return cont(forspec2);if(value=="in"||value=="of"){cx.marked="keyword";return cont(expression,forspec2);}return pass(expression,forspec2);}function functiondef(type,value){if(value=="*"){cx.marked="keyword";return cont(functiondef);}if(type=="variable"){register(value);return cont(functiondef);}if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,mayberettype,statement,popcontext);if(isTS&&value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondef);}function functiondecl(type,value){if(value=="*"){cx.marked="keyword";return cont(functiondecl);}if(type=="variable"){register(value);return cont(functiondecl);}if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,mayberettype,popcontext);if(isTS&&value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondecl);}function typename(type,value){if(type=="keyword"||type=="variable"){cx.marked="type";return cont(typename);}else if(value=="<"){return cont(pushlex(">"),commasep(typeparam,">"),poplex);}}function funarg(type,value){if(value=="@")cont(expression,funarg);if(type=="spread")return cont(funarg);if(isTS&&isModifier(value)){cx.marked="keyword";return cont(funarg);}if(isTS&&type=="this")return cont(maybetype,maybeAssign);return pass(pattern,maybetype,maybeAssign);}function classExpression(type,value){if(type=="variable")return className(type,value);return classNameAfter(type,value);}function className(type,value){if(type=="variable"){register(value);return cont(classNameAfter);}}function classNameAfter(type,value){if(value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,classNameAfter);if(value=="extends"||value=="implements"||isTS&&type==","){if(value=="implements")cx.marked="keyword";return cont(isTS?typeexpr:expression,classNameAfter);}if(type=="{")return cont(pushlex("}"),classBody,poplex);}function classBody(type,value){if(type=="async"||type=="variable"&&(value=="static"||value=="get"||value=="set"||isTS&&isModifier(value))&&cx.stream.match(/^\s+[\w$\xa1-\uffff]/,false)){cx.marked="keyword";return cont(classBody);}if(type=="variable"||cx.style=="keyword"){cx.marked="property";return cont(isTS?classfield:functiondef,classBody);}if(type=="number"||type=="string")return cont(isTS?classfield:functiondef,classBody);if(type=="[")return cont(expression,maybetype,expect("]"),isTS?classfield:functiondef,classBody);if(value=="*"){cx.marked="keyword";return cont(classBody);}if(isTS&&type=="(")return pass(functiondecl,classBody);if(type==";"||type==",")return cont(classBody);if(type=="}")return cont();if(value=="@")return cont(expression,classBody);}function classfield(type,value){if(value=="?")return cont(classfield);if(type==":")return cont(typeexpr,maybeAssign);if(value=="=")return cont(expressionNoComma);var context=cx.state.lexical.prev,isInterface=context&&context.info=="interface";return pass(isInterface?functiondecl:functiondef);}function afterExport(type,value){if(value=="*"){cx.marked="keyword";return cont(maybeFrom,expect(";"));}if(value=="default"){cx.marked="keyword";return cont(expression,expect(";"));}if(type=="{")return cont(commasep(exportField,"}"),maybeFrom,expect(";"));return pass(statement);}function exportField(type,value){if(value=="as"){cx.marked="keyword";return cont(expect("variable"));}if(type=="variable")return pass(expressionNoComma,exportField);}function afterImport(type){if(type=="string")return cont();if(type=="(")return pass(expression);return pass(importSpec,maybeMoreImports,maybeFrom);}function importSpec(type,value){if(type=="{")return contCommasep(importSpec,"}");if(type=="variable")register(value);if(value=="*")cx.marked="keyword";return cont(maybeAs);}function maybeMoreImports(type){if(type==",")return cont(importSpec,maybeMoreImports);}function maybeAs(_type,value){if(value=="as"){cx.marked="keyword";return cont(importSpec);}}function maybeFrom(_type,value){if(value=="from"){cx.marked="keyword";return cont(expression);}}function arrayLiteral(type){if(type=="]")return cont();return pass(commasep(expressionNoComma,"]"));}function enumdef(){return pass(pushlex("form"),pattern,expect("{"),pushlex("}"),commasep(enummember,"}"),poplex,poplex);}function enummember(){return pass(pattern,maybeAssign);}function isContinuedStatement(state,textAfter){return state.lastType=="operator"||state.lastType==","||isOperatorChar.test(textAfter.charAt(0))||/[,.]/.test(textAfter.charAt(0));}function expressionAllowed(stream,state,backUp){return state.tokenize==tokenBase&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(state.lastType)||state.lastType=="quasi"&&/\{\s*$/.test(stream.string.slice(0,stream.pos-(backUp||0)));}return{startState:function startState(basecolumn){var state={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((basecolumn||0)-indentUnit,0,"block",false),localVars:parserConfig.localVars,context:parserConfig.localVars&&new Context(null,null,false),indented:basecolumn||0};if(parserConfig.globalVars&&_typeof(parserConfig.globalVars)=="object")state.globalVars=parserConfig.globalVars;return state;},token:function token(stream,state){if(stream.sol()){if(!state.lexical.hasOwnProperty("align"))state.lexical.align=false;state.indented=stream.indentation();findFatArrow(stream,state);}if(state.tokenize!=tokenComment&&stream.eatSpace())return null;var style=state.tokenize(stream,state);if(type=="comment")return style;state.lastType=type=="operator"&&(content=="++"||content=="--")?"incdec":type;return parseJS(state,style,type,content,stream);},indent:function indent(state,textAfter){if(state.tokenize==tokenComment)return CodeMirror.Pass;if(state.tokenize!=tokenBase)return 0;var firstChar=textAfter&&textAfter.charAt(0),lexical=state.lexical,top;if(!/^\s*else\b/.test(textAfter))for(var i=state.cc.length-1;i>=0;--i){var c=state.cc[i];if(c==poplex)lexical=lexical.prev;else if(c!=maybeelse)break;}while((lexical.type=="stat"||lexical.type=="form")&&(firstChar=="}"||(top=state.cc[state.cc.length-1])&&(top==maybeoperatorComma||top==maybeoperatorNoComma)&&!/^[,\.=+\-*:?[\(]/.test(textAfter))){lexical=lexical.prev;}if(statementIndent&&lexical.type==")"&&lexical.prev.type=="stat")lexical=lexical.prev;var type=lexical.type,closing=firstChar==type;if(type=="vardef")return lexical.indented+(state.lastType=="operator"||state.lastType==","?lexical.info.length+1:0);else if(type=="form"&&firstChar=="{")return lexical.indented;else if(type=="form")return lexical.indented+indentUnit;else if(type=="stat")return lexical.indented+(isContinuedStatement(state,textAfter)?statementIndent||indentUnit:0);else if(lexical.info=="switch"&&!closing&&parserConfig.doubleIndentSwitch!=false)return lexical.indented+(/^(?:case|default)\b/.test(textAfter)?indentUnit:2*indentUnit);else if(lexical.align)return lexical.column+(closing?0:1);else return lexical.indented+(closing?0:indentUnit);},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:jsonMode?null:"/*",blockCommentEnd:jsonMode?null:"*/",blockCommentContinue:jsonMode?null:" * ",lineComment:jsonMode?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:jsonMode?"json":"javascript",jsonldMode:jsonldMode,jsonMode:jsonMode,expressionAllowed:expressionAllowed,skipExpression:function skipExpression(state){var top=state.cc[state.cc.length-1];if(top==expression||top==expressionNoComma)state.cc.pop();}};});CodeMirror.registerHelper("wordChars","javascript",/[\w$]/);CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("text/ecmascript","javascript");CodeMirror.defineMIME("application/javascript","javascript");CodeMirror.defineMIME("application/x-javascript","javascript");CodeMirror.defineMIME("application/ecmascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMIME("application/x-json",{name:"javascript",json:true});CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:true});CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:true});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:true});});Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=CodeMirror;},{"../../lib/codemirror":undefined}],65:[function(require,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}var global={};var _module=undefined;var Highcharts;var _define=function define(){var fn=arguments[arguments.length-1];Highcharts=fn();_define=undefined;};_define.amd=true;(function(P,L){"object"===_typeof(_module)&&_module.exports?_module.exports=P.document?L(P):L:"function"===typeof _define&&_define.amd?_define(function(){return L(P);}):P.Highcharts=L(P);})("undefined"!==typeof window?window:void 0,function(P){var L=function(){var a="undefined"===typeof P?window:P,B=a.document,E=a.navigator&&a.navigator.userAgent||"",F=B&&B.createElementNS&&!!B.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,p=/(edge|msie|trident)/i.test(E)&&!a.opera,g=-1!==E.indexOf("Firefox"),d=-1!==E.indexOf("Chrome"),t=g&&4>parseInt(E.split("Firefox/")[1],10);return a.Highcharts?a.Highcharts.error(16,!0):{product:"Highcharts",version:"6.2.0",deg2rad:2*Math.PI/360,doc:B,hasBidiBug:t,hasTouch:B&&void 0!==B.documentElement.ontouchstart,isMS:p,isWebKit:-1!==E.indexOf("AppleWebKit"),isFirefox:g,isChrome:d,isSafari:!d&&-1!==E.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(E),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:F,win:a,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function noop(){},charts:[]};}();(function(a){a.timers=[];var B=a.charts,E=a.doc,F=a.win;a.error=function(p,g){p=a.isNumber(p)?"Highcharts error #"+p+": www.highcharts.com/errors/"+p:p;if(g)throw Error(p);F.console&&console.log(p);};a.Fx=function(a,g,d){this.options=g;this.elem=a;this.prop=d;};a.Fx.prototype={dSetter:function dSetter(){var a=this.paths[0],g=this.paths[1],d=[],t=this.now,x=a.length,v;if(1===t)d=this.toD;else if(x===g.length&&1>t)for(;x--;){v=parseFloat(a[x]),d[x]=isNaN(v)?g[x]:t*parseFloat(g[x]-v)+v;}else d=g;this.elem.attr("d",d,null,!0);},update:function update(){var a=this.elem,g=this.prop,d=this.now,t=this.options.step;if(this[g+"Setter"])this[g+"Setter"]();else a.attr?a.element&&a.attr(g,d,null,!0):a.style[g]=d+this.unit;t&&t.call(a,d,this);},run:function run(p,g,d){var t=this,x=t.options,v=function v(a){return v.stopped?!1:t.step(a);},r=F.requestAnimationFrame||function(a){setTimeout(a,13);},f=function f(){for(var c=0;c<a.timers.length;c++){a.timers[c]()||a.timers.splice(c--,1);}a.timers.length&&r(f);};p!==g||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date(),this.start=p,this.end=g,this.unit=d,this.now=this.start,this.pos=0,v.elem=this.elem,v.prop=this.prop,v()&&1===a.timers.push(v)&&r(f)):(delete x.curAnim[this.prop],x.complete&&0===a.keys(x.curAnim).length&&x.complete.call(this.elem));},step:function step(p){var g=+new Date(),d,t=this.options,x=this.elem,v=t.complete,r=t.duration,f=t.curAnim;x.attr&&!x.element?p=!1:p||g>=r+this.startTime?(this.now=this.end,this.pos=1,this.update(),d=f[this.prop]=!0,a.objectEach(f,function(a){!0!==a&&(d=!1);}),d&&v&&v.call(x),p=!1):(this.pos=t.easing((g-this.startTime)/r),this.now=this.start+(this.end-this.start)*this.pos,this.update(),p=!0);return p;},initPath:function initPath(p,g,d){function t(a){var b,e;for(n=a.length;n--;){b="M"===a[n]||"L"===a[n],e=/[a-zA-Z]/.test(a[n+3]),b&&e&&a.splice(n+1,0,a[n+1],a[n+2],a[n+1],a[n+2]);}}function x(a,b){for(;a.length<m;){a[0]=b[m-a.length];var c=a.slice(0,l);[].splice.apply(a,[0,0].concat(c));e&&(c=a.slice(a.length-l),[].splice.apply(a,[a.length,0].concat(c)),n--);}a[0]="M";}function v(a,c){for(var f=(m-a.length)/l;0<f&&f--;){b=a.slice().splice(a.length/D-l,l*D),b[0]=c[m-l-f*l],u&&(b[l-6]=b[l-2],b[l-5]=b[l-1]),[].splice.apply(a,[a.length/D,0].concat(b)),e&&f--;}}g=g||"";var r,f=p.startX,c=p.endX,u=-1<g.indexOf("C"),l=u?7:3,m,b,n;g=g.split(" ");d=d.slice();var e=p.isArea,D=e?2:1,w;u&&(t(g),t(d));if(f&&c){for(n=0;n<f.length;n++){if(f[n]===c[0]){r=n;break;}else if(f[0]===c[c.length-f.length+n]){r=n;w=!0;break;}}void 0===r&&(g=[]);}g.length&&a.isNumber(r)&&(m=d.length+r*D*l,w?(x(g,d),v(d,g)):(x(d,g),v(g,d)));return[g,d];},fillSetter:function fillSetter(){a.Fx.prototype.strokeSetter.apply(this,arguments);},strokeSetter:function strokeSetter(){this.elem.attr(this.prop,a.color(this.start).tweenTo(a.color(this.end),this.pos),null,!0);}};a.merge=function(){var p,g=arguments,d,t={},x=function x(d,r){"object"!==_typeof(d)&&(d={});a.objectEach(r,function(f,c){!a.isObject(f,!0)||a.isClass(f)||a.isDOMElement(f)?d[c]=r[c]:d[c]=x(d[c]||{},f);});return d;};!0===g[0]&&(t=g[1],g=Array.prototype.slice.call(g,2));d=g.length;for(p=0;p<d;p++){t=x(t,g[p]);}return t;};a.pInt=function(a,g){return parseInt(a,g||10);};a.isString=function(a){return"string"===typeof a;};a.isArray=function(a){a=Object.prototype.toString.call(a);return"[object Array]"===a||"[object Array Iterator]"===a;};a.isObject=function(p,g){return!!p&&"object"===_typeof(p)&&(!g||!a.isArray(p));};a.isDOMElement=function(p){return a.isObject(p)&&"number"===typeof p.nodeType;};a.isClass=function(p){var g=p&&p.constructor;return!(!a.isObject(p,!0)||a.isDOMElement(p)||!g||!g.name||"Object"===g.name);};a.isNumber=function(a){return"number"===typeof a&&!isNaN(a)&&Infinity>a&&-Infinity<a;};a.erase=function(a,g){for(var d=a.length;d--;){if(a[d]===g){a.splice(d,1);break;}}};a.defined=function(a){return void 0!==a&&null!==a;};a.attr=function(p,g,d){var t;a.isString(g)?a.defined(d)?p.setAttribute(g,d):p&&p.getAttribute&&((t=p.getAttribute(g))||"class"!==g||(t=p.getAttribute(g+"Name"))):a.defined(g)&&a.isObject(g)&&a.objectEach(g,function(a,d){p.setAttribute(d,a);});return t;};a.splat=function(p){return a.isArray(p)?p:[p];};a.syncTimeout=function(a,g,d){if(g)return setTimeout(a,g,d);a.call(0,d);};a.clearTimeout=function(p){a.defined(p)&&clearTimeout(p);};a.extend=function(a,g){var d;a||(a={});for(d in g){a[d]=g[d];}return a;};a.pick=function(){var a=arguments,g,d,t=a.length;for(g=0;g<t;g++){if(d=a[g],void 0!==d&&null!==d)return d;}};a.css=function(p,g){a.isMS&&!a.svg&&g&&void 0!==g.opacity&&(g.filter="alpha(opacity\x3d"+100*g.opacity+")");a.extend(p.style,g);};a.createElement=function(p,g,d,t,x){p=E.createElement(p);var v=a.css;g&&a.extend(p,g);x&&v(p,{padding:0,border:"none",margin:0});d&&v(p,d);t&&t.appendChild(p);return p;};a.extendClass=function(p,g){var d=function d(){};d.prototype=new p();a.extend(d.prototype,g);return d;};a.pad=function(a,g,d){return Array((g||2)+1-String(a).replace("-","").length).join(d||0)+a;};a.relativeLength=function(a,g,d){return /%$/.test(a)?g*parseFloat(a)/100+(d||0):parseFloat(a);};a.wrap=function(a,g,d){var t=a[g];a[g]=function(){var a=Array.prototype.slice.call(arguments),g=arguments,r=this;r.proceed=function(){t.apply(r,arguments.length?arguments:g);};a.unshift(t);a=d.apply(this,a);r.proceed=null;return a;};};a.datePropsToTimestamps=function(p){a.objectEach(p,function(g,d){a.isObject(g)&&"function"===typeof g.getTime?p[d]=g.getTime():(a.isObject(g)||a.isArray(g))&&a.datePropsToTimestamps(g);});};a.formatSingle=function(p,g,d){var t=/\.([0-9])/,x=a.defaultOptions.lang;/f$/.test(p)?(d=(d=p.match(t))?d[1]:-1,null!==g&&(g=a.numberFormat(g,d,x.decimalPoint,-1<p.indexOf(",")?x.thousandsSep:""))):g=(d||a.time).dateFormat(p,g);return g;};a.format=function(p,g,d){for(var t="{",x=!1,v,r,f,c,u=[],l;p;){t=p.indexOf(t);if(-1===t)break;v=p.slice(0,t);if(x){v=v.split(":");r=v.shift().split(".");c=r.length;l=g;for(f=0;f<c;f++){l&&(l=l[r[f]]);}v.length&&(l=a.formatSingle(v.join(":"),l,d));u.push(l);}else u.push(v);p=p.slice(t+1);t=(x=!x)?"}":"{";}u.push(p);return u.join("");};a.getMagnitude=function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10));};a.normalizeTickInterval=function(p,g,d,t,x){var v,r=p;d=a.pick(d,1);v=p/d;g||(g=x?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===t&&(1===d?g=a.grep(g,function(a){return 0===a%1;}):.1>=d&&(g=[1/d])));for(t=0;t<g.length&&!(r=g[t],x&&r*d>=p||!x&&v<=(g[t]+(g[t+1]||g[t]))/2);t++){;}return r=a.correctFloat(r*d,-Math.round(Math.log(.001)/Math.LN10));};a.stableSort=function(a,g){var d=a.length,t,x;for(x=0;x<d;x++){a[x].safeI=x;}a.sort(function(a,d){t=g(a,d);return 0===t?a.safeI-d.safeI:t;});for(x=0;x<d;x++){delete a[x].safeI;}};a.arrayMin=function(a){for(var g=a.length,d=a[0];g--;){a[g]<d&&(d=a[g]);}return d;};a.arrayMax=function(a){for(var g=a.length,d=a[0];g--;){a[g]>d&&(d=a[g]);}return d;};a.destroyObjectProperties=function(p,g){a.objectEach(p,function(a,t){a&&a!==g&&a.destroy&&a.destroy();delete p[t];});};a.discardElement=function(p){var g=a.garbageBin;g||(g=a.createElement("div"));p&&g.appendChild(p);g.innerHTML="";};a.correctFloat=function(a,g){return parseFloat(a.toPrecision(g||14));};a.setAnimation=function(p,g){g.renderer.globalAnimation=a.pick(p,g.options.chart.animation,!0);};a.animObject=function(p){return a.isObject(p)?a.merge(p):{duration:p?500:0};};a.timeUnits={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:24192E5,year:314496E5};a.numberFormat=function(p,g,d,t){p=+p||0;g=+g;var x=a.defaultOptions.lang,v=(p.toString().split(".")[1]||"").split("e")[0].length,r,f,c=p.toString().split("e");-1===g?g=Math.min(v,20):a.isNumber(g)?g&&c[1]&&0>c[1]&&(r=g+ +c[1],0<=r?(c[0]=(+c[0]).toExponential(r).split("e")[0],g=r):(c[0]=c[0].split(".")[0]||0,p=20>g?(c[0]*Math.pow(10,c[1])).toFixed(g):0,c[1]=0)):g=2;f=(Math.abs(c[1]?c[0]:p)+Math.pow(10,-Math.max(g,v)-1)).toFixed(g);v=String(a.pInt(f));r=3<v.length?v.length%3:0;d=a.pick(d,x.decimalPoint);t=a.pick(t,x.thousandsSep);p=(0>p?"-":"")+(r?v.substr(0,r)+t:"");p+=v.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+t);g&&(p+=d+f.slice(-g));c[1]&&0!==+p&&(p+="e"+c[1]);return p;};Math.easeInOutSine=function(a){return-.5*(Math.cos(Math.PI*a)-1);};a.getStyle=function(p,g,d){if("width"===g)return Math.max(0,Math.min(p.offsetWidth,p.scrollWidth)-a.getStyle(p,"padding-left")-a.getStyle(p,"padding-right"));if("height"===g)return Math.max(0,Math.min(p.offsetHeight,p.scrollHeight)-a.getStyle(p,"padding-top")-a.getStyle(p,"padding-bottom"));F.getComputedStyle||a.error(27,!0);if(p=F.getComputedStyle(p,void 0))p=p.getPropertyValue(g),a.pick(d,"opacity"!==g)&&(p=a.pInt(p));return p;};a.inArray=function(p,g,d){return(a.indexOfPolyfill||Array.prototype.indexOf).call(g,p,d);};a.grep=function(p,g){return(a.filterPolyfill||Array.prototype.filter).call(p,g);};a.find=Array.prototype.find?function(a,g){return a.find(g);}:function(a,g){var d,t=a.length;for(d=0;d<t;d++){if(g(a[d],d))return a[d];}};a.some=function(p,g,d){return(a.somePolyfill||Array.prototype.some).call(p,g,d);};a.map=function(a,g){for(var d=[],t=0,x=a.length;t<x;t++){d[t]=g.call(a[t],a[t],t,a);}return d;};a.keys=function(p){return(a.keysPolyfill||Object.keys).call(void 0,p);};a.reduce=function(p,g,d){return(a.reducePolyfill||Array.prototype.reduce).apply(p,2<arguments.length?[g,d]:[g]);};a.offset=function(a){var g=E.documentElement;a=a.parentElement||a.parentNode?a.getBoundingClientRect():{top:0,left:0};return{top:a.top+(F.pageYOffset||g.scrollTop)-(g.clientTop||0),left:a.left+(F.pageXOffset||g.scrollLeft)-(g.clientLeft||0)};};a.stop=function(p,g){for(var d=a.timers.length;d--;){a.timers[d].elem!==p||g&&g!==a.timers[d].prop||(a.timers[d].stopped=!0);}};a.each=function(p,g,d){return(a.forEachPolyfill||Array.prototype.forEach).call(p,g,d);};a.objectEach=function(a,g,d){for(var t in a){a.hasOwnProperty(t)&&g.call(d||a[t],a[t],t,a);}};a.addEvent=function(p,g,d,t){var x,v=p.addEventListener||a.addEventListenerPolyfill;x="function"===typeof p&&p.prototype?p.prototype.protoEvents=p.prototype.protoEvents||{}:p.hcEvents=p.hcEvents||{};a.Point&&p instanceof a.Point&&p.series&&p.series.chart&&(p.series.chart.runTrackerClick=!0);v&&v.call(p,g,d,!1);x[g]||(x[g]=[]);x[g].push(d);t&&a.isNumber(t.order)&&(d.order=t.order,x[g].sort(function(a,f){return a.order-f.order;}));return function(){a.removeEvent(p,g,d);};};a.removeEvent=function(p,g,d){function t(f,c){var d=p.removeEventListener||a.removeEventListenerPolyfill;d&&d.call(p,f,c,!1);}function x(f){var c,d;p.nodeName&&(g?(c={},c[g]=!0):c=f,a.objectEach(c,function(a,c){if(f[c])for(d=f[c].length;d--;){t(c,f[c][d]);}}));}var v,r;a.each(["protoEvents","hcEvents"],function(f){var c=p[f];c&&(g?(v=c[g]||[],d?(r=a.inArray(d,v),-1<r&&(v.splice(r,1),c[g]=v),t(g,d)):(x(c),c[g]=[])):(x(c),p[f]={}));});};a.fireEvent=function(p,g,d,t){var x,v,r,f,c;d=d||{};E.createEvent&&(p.dispatchEvent||p.fireEvent)?(x=E.createEvent("Events"),x.initEvent(g,!0,!0),a.extend(x,d),p.dispatchEvent?p.dispatchEvent(x):p.fireEvent(g,x)):a.each(["protoEvents","hcEvents"],function(u){if(p[u])for(v=p[u][g]||[],r=v.length,d.target||a.extend(d,{preventDefault:function preventDefault(){d.defaultPrevented=!0;},target:p,type:g}),f=0;f<r;f++){(c=v[f])&&!1===c.call(p,d)&&d.preventDefault();}});t&&!d.defaultPrevented&&t.call(p,d);};a.animate=function(p,g,d){var t,x="",v,r,f;a.isObject(d)||(f=arguments,d={duration:f[2],easing:f[3],complete:f[4]});a.isNumber(d.duration)||(d.duration=400);d.easing="function"===typeof d.easing?d.easing:Math[d.easing]||Math.easeInOutSine;d.curAnim=a.merge(g);a.objectEach(g,function(c,f){a.stop(p,f);r=new a.Fx(p,d,f);v=null;"d"===f?(r.paths=r.initPath(p,p.d,g.d),r.toD=g.d,t=0,v=1):p.attr?t=p.attr(f):(t=parseFloat(a.getStyle(p,f))||0,"opacity"!==f&&(x="px"));v||(v=c);v&&v.match&&v.match("px")&&(v=v.replace(/px/g,""));r.run(t,v,x);});};a.seriesType=function(p,g,d,t,x){var v=a.getOptions(),r=a.seriesTypes;v.plotOptions[p]=a.merge(v.plotOptions[g],d);r[p]=a.extendClass(r[g]||function(){},t);r[p].prototype.type=p;x&&(r[p].prototype.pointClass=a.extendClass(a.Point,x));return r[p];};a.uniqueKey=function(){var a=Math.random().toString(36).substring(2,9),g=0;return function(){return"highcharts-"+a+"-"+g++;};}();F.jQuery&&(F.jQuery.fn.highcharts=function(){var p=[].slice.call(arguments);if(this[0])return p[0]?(new a[a.isString(p[0])?p.shift():"Chart"](this[0],p[0],p[1]),this):B[a.attr(this[0],"data-highcharts-chart")];});})(L);(function(a){var B=a.each,E=a.isNumber,F=a.map,p=a.merge,g=a.pInt;a.Color=function(d){if(!(this instanceof a.Color))return new a.Color(d);this.init(d);};a.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function parse(a){return[g(a[1]),g(a[2]),g(a[3]),parseFloat(a[4],10)];}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function parse(a){return[g(a[1]),g(a[2]),g(a[3]),1];}}],names:{white:"#ffffff",black:"#000000"},init:function init(d){var g,x,v,r;if((this.input=d=this.names[d&&d.toLowerCase?d.toLowerCase():""]||d)&&d.stops)this.stops=F(d.stops,function(f){return new a.Color(f[1]);});else if(d&&d.charAt&&"#"===d.charAt()&&(g=d.length,d=parseInt(d.substr(1),16),7===g?x=[(d&16711680)>>16,(d&65280)>>8,d&255,1]:4===g&&(x=[(d&3840)>>4|(d&3840)>>8,(d&240)>>4|d&240,(d&15)<<4|d&15,1])),!x)for(v=this.parsers.length;v--&&!x;){r=this.parsers[v],(g=r.regex.exec(d))&&(x=r.parse(g));}this.rgba=x||[];},get:function get(a){var d=this.input,x=this.rgba,g;this.stops?(g=p(d),g.stops=[].concat(g.stops),B(this.stops,function(d,f){g.stops[f]=[g.stops[f][0],d.get(a)];})):g=x&&E(x[0])?"rgb"===a||!a&&1===x[3]?"rgb("+x[0]+","+x[1]+","+x[2]+")":"a"===a?x[3]:"rgba("+x.join(",")+")":d;return g;},brighten:function brighten(a){var d,x=this.rgba;if(this.stops)B(this.stops,function(d){d.brighten(a);});else if(E(a)&&0!==a)for(d=0;3>d;d++){x[d]+=g(255*a),0>x[d]&&(x[d]=0),255<x[d]&&(x[d]=255);}return this;},setOpacity:function setOpacity(a){this.rgba[3]=a;return this;},tweenTo:function tweenTo(a,g){var d=this.rgba,v=a.rgba;v.length&&d&&d.length?(a=1!==v[3]||1!==d[3],g=(a?"rgba(":"rgb(")+Math.round(v[0]+(d[0]-v[0])*(1-g))+","+Math.round(v[1]+(d[1]-v[1])*(1-g))+","+Math.round(v[2]+(d[2]-v[2])*(1-g))+(a?","+(v[3]+(d[3]-v[3])*(1-g)):"")+")"):g=a.input||"none";return g;}};a.color=function(d){return new a.Color(d);};})(L);(function(a){var B,E,F=a.addEvent,p=a.animate,g=a.attr,d=a.charts,t=a.color,x=a.css,v=a.createElement,r=a.defined,f=a.deg2rad,c=a.destroyObjectProperties,u=a.doc,l=a.each,m=a.extend,b=a.erase,n=a.grep,e=a.hasTouch,D=a.inArray,w=a.isArray,H=a.isFirefox,A=a.isMS,z=a.isObject,q=a.isString,C=a.isWebKit,G=a.merge,I=a.noop,J=a.objectEach,k=a.pick,y=a.pInt,O=a.removeEvent,h=a.splat,K=a.stop,T=a.svg,R=a.SVG_NS,Q=a.symbolSizes,N=a.win;B=a.SVGElement=function(){return this;};m(B.prototype,{opacity:1,SVG_NS:R,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function init(a,b){this.element="span"===b?v(b):u.createElementNS(this.SVG_NS,b);this.renderer=a;},animate:function animate(b,h,y){h=a.animObject(k(h,this.renderer.globalAnimation,!0));0!==h.duration?(y&&(h.complete=y),p(this,b,h)):(this.attr(b,null,y),h.step&&h.step.call(this));return this;},complexColor:function complexColor(b,h,k){var y=this.renderer,M,e,c,q,m,f,d,n,K,D,C,u=[],O;a.fireEvent(this.renderer,"complexColor",{args:arguments},function(){b.radialGradient?e="radialGradient":b.linearGradient&&(e="linearGradient");e&&(c=b[e],m=y.gradients,d=b.stops,D=k.radialReference,w(c)&&(b[e]=c={x1:c[0],y1:c[1],x2:c[2],y2:c[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===e&&D&&!r(c.gradientUnits)&&(q=c,c=G(c,y.getRadialAttr(D,q),{gradientUnits:"userSpaceOnUse"})),J(c,function(a,b){"id"!==b&&u.push(b,a);}),J(d,function(a){u.push(a);}),u=u.join(","),m[u]?C=m[u].attr("id"):(c.id=C=a.uniqueKey(),m[u]=f=y.createElement(e).attr(c).add(y.defs),f.radAttr=q,f.stops=[],l(d,function(b){0===b[1].indexOf("rgba")?(M=a.color(b[1]),n=M.get("rgb"),K=M.get("a")):(n=b[1],K=1);b=y.createElement("stop").attr({offset:b[0],"stop-color":n,"stop-opacity":K}).add(f);f.stops.push(b);})),O="url("+y.url+"#"+C+")",k.setAttribute(h,O),k.gradient=u,b.toString=function(){return O;});});},applyTextOutline:function applyTextOutline(h){var k=this.element,y,M,e,c,q;-1!==h.indexOf("contrast")&&(h=h.replace(/contrast/g,this.renderer.getContrast(k.style.fill)));h=h.split(" ");M=h[h.length-1];if((e=h[0])&&"none"!==e&&a.svg){this.fakeTS=!0;h=[].slice.call(k.getElementsByTagName("tspan"));this.ySetter=this.xSetter;e=e.replace(/(^[\d\.]+)(.*?)$/g,function(a,b,h){return 2*b+h;});for(q=h.length;q--;){y=h[q],"highcharts-text-outline"===y.getAttribute("class")&&b(h,k.removeChild(y));}c=k.firstChild;l(h,function(a,b){0===b&&(a.setAttribute("x",k.getAttribute("x")),b=k.getAttribute("y"),a.setAttribute("y",b||0),null===b&&k.setAttribute("y",0));a=a.cloneNode(1);g(a,{"class":"highcharts-text-outline",fill:M,stroke:M,"stroke-width":e,"stroke-linejoin":"round"});k.insertBefore(a,c);});}},attr:function attr(a,b,h,k){var y,e=this.element,M,c=this,q,m;"string"===typeof a&&void 0!==b&&(y=a,a={},a[y]=b);"string"===typeof a?c=(this[a+"Getter"]||this._defaultGetter).call(this,a,e):(J(a,function(b,h){q=!1;k||K(this,h);this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(h)&&(M||(this.symbolAttr(a),M=!0),q=!0);!this.rotation||"x"!==h&&"y"!==h||(this.doTransform=!0);q||(m=this[h+"Setter"]||this._defaultSetter,m.call(this,b,h,e));},this),this.afterSetters());h&&h.call(this);return c;},afterSetters:function afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1);},addClass:function addClass(a,b){var h=this.attr("class")||"";-1===h.indexOf(a)&&(b||(a=(h+(h?" ":"")+a).replace("  "," ")),this.attr("class",a));return this;},hasClass:function hasClass(a){return-1!==D(a,(this.attr("class")||"").split(" "));},removeClass:function removeClass(a){return this.attr("class",(this.attr("class")||"").replace(a,""));},symbolAttr:function symbolAttr(a){var b=this;l("x y r start end width height innerR anchorX anchorY".split(" "),function(h){b[h]=k(a[h],b[h]);});b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)});},clip:function clip(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":"none");},crisp:function crisp(a,b){var h;b=b||a.strokeWidth||0;h=Math.round(b)%2/2;a.x=Math.floor(a.x||this.x||0)+h;a.y=Math.floor(a.y||this.y||0)+h;a.width=Math.floor((a.width||this.width||0)-2*h);a.height=Math.floor((a.height||this.height||0)-2*h);r(a.strokeWidth)&&(a.strokeWidth=b);return a;},css:function css(a){var b=this.styles,h={},k=this.element,e,c="",M,q=!b,f=["textOutline","textOverflow","width"];a&&a.color&&(a.fill=a.color);b&&J(a,function(a,k){a!==b[k]&&(h[k]=a,q=!0);});q&&(b&&(a=m(b,h)),a&&(null===a.width||"auto"===a.width?delete this.textWidth:"text"===k.nodeName.toLowerCase()&&a.width&&(e=this.textWidth=y(a.width))),this.styles=a,e&&!T&&this.renderer.forExport&&delete a.width,k.namespaceURI===this.SVG_NS?(M=function M(a,b){return"-"+b.toLowerCase();},J(a,function(a,b){-1===D(b,f)&&(c+=b.replace(/([A-Z])/g,M)+":"+a+";");}),c&&g(k,"style",c)):x(k,a),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),a&&a.textOutline&&this.applyTextOutline(a.textOutline)));return this;},getStyle:function getStyle(a){return N.getComputedStyle(this.element||this,"").getPropertyValue(a);},strokeWidth:function strokeWidth(){var a=this.getStyle("stroke-width"),b;a.indexOf("px")===a.length-2?a=y(a):(b=u.createElementNS(R,"rect"),g(b,{width:a,"stroke-width":0}),this.element.parentNode.appendChild(b),a=b.getBBox().width,b.parentNode.removeChild(b));return a;},on:function on(a,b){var h=this,k=h.element;e&&"click"===a?(k.ontouchstart=function(a){h.touchEventFired=Date.now();a.preventDefault();b.call(k,a);},k.onclick=function(a){(-1===N.navigator.userAgent.indexOf("Android")||1100<Date.now()-(h.touchEventFired||0))&&b.call(k,a);}):k["on"+a]=b;return this;},setRadialReference:function setRadialReference(a){var b=this.renderer.gradients[this.element.gradient];this.element.radialReference=a;b&&b.radAttr&&b.animate(this.renderer.getRadialAttr(a,b.radAttr));return this;},translate:function translate(a,b){return this.attr({translateX:a,translateY:b});},invert:function invert(a){this.inverted=a;this.updateTransform();return this;},updateTransform:function updateTransform(){var a=this.translateX||0,b=this.translateY||0,h=this.scaleX,y=this.scaleY,e=this.inverted,c=this.rotation,q=this.matrix,m=this.element;e&&(a+=this.width,b+=this.height);a=["translate("+a+","+b+")"];r(q)&&a.push("matrix("+q.join(",")+")");e?a.push("rotate(90) scale(-1,1)"):c&&a.push("rotate("+c+" "+k(this.rotationOriginX,m.getAttribute("x"),0)+" "+k(this.rotationOriginY,m.getAttribute("y")||0)+")");(r(h)||r(y))&&a.push("scale("+k(h,1)+" "+k(y,1)+")");a.length&&m.setAttribute("transform",a.join(" "));},toFront:function toFront(){var a=this.element;a.parentNode.appendChild(a);return this;},align:function align(a,h,y){var e,c,m,M,f={};c=this.renderer;m=c.alignedObjects;var d,l;if(a){if(this.alignOptions=a,this.alignByTranslate=h,!y||q(y))this.alignTo=e=y||"renderer",b(m,this),m.push(this),y=null;}else a=this.alignOptions,h=this.alignByTranslate,e=this.alignTo;y=k(y,c[e],c);e=a.align;c=a.verticalAlign;m=(y.x||0)+(a.x||0);M=(y.y||0)+(a.y||0);"right"===e?d=1:"center"===e&&(d=2);d&&(m+=(y.width-(a.width||0))/d);f[h?"translateX":"x"]=Math.round(m);"bottom"===c?l=1:"middle"===c&&(l=2);l&&(M+=(y.height-(a.height||0))/l);f[h?"translateY":"y"]=Math.round(M);this[this.placed?"animate":"attr"](f);this.placed=!0;this.alignAttr=f;return this;},getBBox:function getBBox(a,b){var h,y=this.renderer,e,c=this.element,q=this.styles,M,d=this.textStr,n,K=y.cache,D=y.cacheKeys,C=c.namespaceURI===this.SVG_NS,G;b=k(b,this.rotation);e=b*f;M=c&&B.prototype.getStyle.call(c,"font-size");r(d)&&(G=d.toString(),-1===G.indexOf("\x3c")&&(G=G.replace(/[0-9]/g,"0")),G+=["",b||0,M,this.textWidth,q&&q.textOverflow].join());G&&!a&&(h=K[G]);if(!h){if(C||y.forExport){try{(n=this.fakeTS&&function(a){l(c.querySelectorAll(".highcharts-text-outline"),function(b){b.style.display=a;});})&&n("none"),h=c.getBBox?m({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight},n&&n("");}catch(X){}if(!h||0>h.width)h={width:0,height:0};}else h=this.htmlGetBBox();y.isSVG&&(a=h.width,y=h.height,C&&(h.height=y={"11px,17":14,"13px,20":16}[q&&q.fontSize+","+Math.round(y)]||y),b&&(h.width=Math.abs(y*Math.sin(e))+Math.abs(a*Math.cos(e)),h.height=Math.abs(y*Math.cos(e))+Math.abs(a*Math.sin(e))));if(G&&0<h.height){for(;250<D.length;){delete K[D.shift()];}K[G]||D.push(G);K[G]=h;}}return h;},show:function show(a){return this.attr({visibility:a?"inherit":"visible"});},hide:function hide(){return this.attr({visibility:"hidden"});},fadeOut:function fadeOut(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function complete(){b.attr({y:-9999});}});},add:function add(a){var b=this.renderer,h=this.element,k;a&&(this.parentGroup=a);this.parentInverted=a&&a.inverted;void 0!==this.textStr&&b.buildText(this);this.added=!0;if(!a||a.handleZ||this.zIndex)k=this.zIndexSetter();k||(a?a.element:b.box).appendChild(h);if(this.onAdd)this.onAdd();return this;},safeRemoveChild:function safeRemoveChild(a){var b=a.parentNode;b&&b.removeChild(a);},destroy:function destroy(){var a=this,h=a.element||{},k=a.renderer.isSVG&&"SPAN"===h.nodeName&&a.parentGroup,y=h.ownerSVGElement,e=a.clipPath;h.onclick=h.onmouseout=h.onmouseover=h.onmousemove=h.point=null;K(a);e&&y&&(l(y.querySelectorAll("[clip-path],[CLIP-PATH]"),function(a){var b=a.getAttribute("clip-path"),h=e.element.id;(-1<b.indexOf("(#"+h+")")||-1<b.indexOf('("#'+h+'")'))&&a.removeAttribute("clip-path");}),a.clipPath=e.destroy());if(a.stops){for(y=0;y<a.stops.length;y++){a.stops[y]=a.stops[y].destroy();}a.stops=null;}for(a.safeRemoveChild(h);k&&k.div&&0===k.div.childNodes.length;){h=k.parentGroup,a.safeRemoveChild(k.div),delete k.div,k=h;}a.alignTo&&b(a.renderer.alignedObjects,a);J(a,function(b,h){delete a[h];});return null;},xGetter:function xGetter(a){"circle"===this.element.nodeName&&("x"===a?a="cx":"y"===a&&(a="cy"));return this._defaultGetter(a);},_defaultGetter:function _defaultGetter(a){a=k(this[a+"Value"],this[a],this.element?this.element.getAttribute(a):null,0);/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a));return a;},dSetter:function dSetter(a,b,h){a&&a.join&&(a=a.join(" "));/(NaN| {2}|^$)/.test(a)&&(a="M 0 0");this[b]!==a&&(h.setAttribute(b,a),this[b]=a);},alignSetter:function alignSetter(a){this.alignValue=a;this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a]);},opacitySetter:function opacitySetter(a,b,h){this[b]=a;h.setAttribute(b,a);},titleSetter:function titleSetter(a){var b=this.element.getElementsByTagName("title")[0];b||(b=u.createElementNS(this.SVG_NS,"title"),this.element.appendChild(b));b.firstChild&&b.removeChild(b.firstChild);b.appendChild(u.createTextNode(String(k(a),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e")));},textSetter:function textSetter(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this));},fillSetter:function fillSetter(a,b,h){"string"===typeof a?h.setAttribute(b,a):a&&this.complexColor(a,b,h);},visibilitySetter:function visibilitySetter(a,b,h){"inherit"===a?h.removeAttribute(b):this[b]!==a&&h.setAttribute(b,a);this[b]=a;},zIndexSetter:function zIndexSetter(a,b){var h=this.renderer,k=this.parentGroup,e=(k||h).element||h.box,c,q=this.element,m,f,h=e===h.box;c=this.added;var d;r(a)?(q.setAttribute("data-z-index",a),a=+a,this[b]===a&&(c=!1)):r(this[b])&&q.removeAttribute("data-z-index");this[b]=a;if(c){(a=this.zIndex)&&k&&(k.handleZ=!0);b=e.childNodes;for(d=b.length-1;0<=d&&!m;d--){if(k=b[d],c=k.getAttribute("data-z-index"),f=!r(c),k!==q)if(0>a&&f&&!h&&!d)e.insertBefore(q,b[d]),m=!0;else if(y(c)<=a||f&&(!r(a)||0<=a))e.insertBefore(q,b[d+1]||null),m=!0;}m||(e.insertBefore(q,b[h?3:0]||null),m=!0);}return m;},_defaultSetter:function _defaultSetter(a,b,h){h.setAttribute(b,a);}});B.prototype.yGetter=B.prototype.xGetter;B.prototype.translateXSetter=B.prototype.translateYSetter=B.prototype.rotationSetter=B.prototype.verticalAlignSetter=B.prototype.rotationOriginXSetter=B.prototype.rotationOriginYSetter=B.prototype.scaleXSetter=B.prototype.scaleYSetter=B.prototype.matrixSetter=function(a,b){this[b]=a;this.doTransform=!0;};E=a.SVGRenderer=function(){this.init.apply(this,arguments);};m(E.prototype,{Element:B,SVG_NS:R,init:function init(a,b,h,k,y,e){var c;k=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"});c=k.element;a.appendChild(c);g(a,"dir","ltr");-1===a.innerHTML.indexOf("xmlns")&&g(c,"xmlns",this.SVG_NS);this.isSVG=!0;this.box=c;this.boxWrapper=k;this.alignedObjects=[];this.url=(H||C)&&u.getElementsByTagName("base").length?N.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(u.createTextNode("Created with Highcharts 6.2.0"));this.defs=this.createElement("defs").add();this.allowHTML=e;this.forExport=y;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(b,h,!1);var q;H&&a.getBoundingClientRect&&(b=function b(){x(a,{left:0,top:0});q=a.getBoundingClientRect();x(a,{left:Math.ceil(q.left)-q.left+"px",top:Math.ceil(q.top)-q.top+"px"});},b(),this.unSubPixelFix=F(N,"resize",b));},definition:function definition(a){function b(a,y){var e;l(h(a),function(a){var h=k.createElement(a.tagName),c={};J(a,function(a,b){"tagName"!==b&&"children"!==b&&"textContent"!==b&&(c[b]=a);});h.attr(c);h.add(y||k.defs);a.textContent&&h.element.appendChild(u.createTextNode(a.textContent));b(a.children||[],h);e=h;});return e;}var k=this;return b(a);},isHidden:function isHidden(){return!this.boxWrapper.getBBox().width;},destroy:function destroy(){var a=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();c(this.gradients||{});this.gradients=null;a&&(this.defs=a.destroy());this.unSubPixelFix&&this.unSubPixelFix();return this.alignedObjects=null;},createElement:function createElement(a){var b=new this.Element();b.init(this,a);return b;},draw:I,getRadialAttr:function getRadialAttr(a,b){return{cx:a[0]-a[2]/2+b.cx*a[2],cy:a[1]-a[2]/2+b.cy*a[2],r:b.r*a[2]};},truncate:function truncate(a,b,h,k,y,e,c){var q=this,m=a.rotation,f,d=k?1:0,l=(h||k).length,n=l,K=[],G=function G(a){b.firstChild&&b.removeChild(b.firstChild);a&&b.appendChild(u.createTextNode(a));},D=function D(e,m){m=m||e;if(void 0===K[m])if(b.getSubStringLength)try{K[m]=y+b.getSubStringLength(0,k?m+1:m);}catch(Y){}else q.getSpanWidth&&(G(c(h||k,e)),K[m]=y+q.getSpanWidth(a,b));return K[m];},C,w;a.rotation=0;C=D(b.textContent.length);if(w=y+C>e){for(;d<=l;){n=Math.ceil((d+l)/2),k&&(f=c(k,n)),C=D(n,f&&f.length-1),d===l?d=l+1:C>e?l=n-1:d=n;}0===l?G(""):h&&l===h.length-1||G(f||c(h||k,n));}k&&k.splice(0,n);a.actualWidth=C;a.rotation=m;return w;},escapes:{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;","'":"\x26#39;",'"':"\x26quot;"},buildText:function buildText(a){var b=a.element,h=this,e=h.forExport,c=k(a.textStr,"").toString(),q=-1!==c.indexOf("\x3c"),m=b.childNodes,f,d=g(b,"x"),K=a.styles,G=a.textWidth,C=K&&K.lineHeight,w=K&&K.textOutline,O=K&&"ellipsis"===K.textOverflow,z=K&&"nowrap"===K.whiteSpace,r=K&&K.fontSize,A,I,H=m.length,K=G&&!a.added&&this.box,M=function M(a){return C?y(C):h.fontMetrics(void 0,a.getAttribute("style")?a:b).h;},v=function v(a,b){J(h.escapes,function(h,k){b&&-1!==D(h,b)||(a=a.toString().replace(new RegExp(h,"g"),k));});return a;},t=function t(a,b){var h;h=a.indexOf("\x3c");a=a.substring(h,a.indexOf("\x3e")-h);h=a.indexOf(b+"\x3d");if(-1!==h&&(h=h+b.length+1,b=a.charAt(h),'"'===b||"'"===b))return a=a.substring(h+1),a.substring(0,a.indexOf(b));};A=[c,O,z,C,w,r,G].join();if(A!==a.textCache){for(a.textCache=A;H--;){b.removeChild(m[H]);}q||w||O||G||-1!==c.indexOf(" ")?(K&&K.appendChild(b),c=q?c.replace(/<(b|strong)>/g,'\x3cspan class\x3d"highcharts-strong"\x3e').replace(/<(i|em)>/g,'\x3cspan class\x3d"highcharts-emphasized"\x3e').replace(/<a/g,"\x3cspan").replace(/<\/(b|strong|i|em|a)>/g,"\x3c/span\x3e").split(/<br.*?>/g):[c],c=n(c,function(a){return""!==a;}),l(c,function(k,y){var c,q=0,m=0;k=k.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||\x3cspan").replace(/<\/span>/g,"\x3c/span\x3e|||");c=k.split("|||");l(c,function(k){if(""!==k||1===c.length){var K={},l=u.createElementNS(h.SVG_NS,"tspan"),n,C;(n=t(k,"class"))&&g(l,"class",n);if(n=t(k,"style"))n=n.replace(/(;| |^)color([ :])/,"$1fill$2"),g(l,"style",n);(C=t(k,"href"))&&!e&&(g(l,"onclick",'location.href\x3d"'+C+'"'),g(l,"class","highcharts-anchor"));k=v(k.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" ");if(" "!==k){l.appendChild(u.createTextNode(k));q?K.dx=0:y&&null!==d&&(K.x=d);g(l,K);b.appendChild(l);!q&&I&&(!T&&e&&x(l,{display:"block"}),g(l,"dy",M(l)));if(G){var D=k.replace(/([^\^])-/g,"$1- ").split(" "),K=!z&&(1<c.length||y||1<D.length);C=0;var w=M(l);if(O)f=h.truncate(a,l,k,void 0,0,Math.max(0,G-parseInt(r||12,10)),function(a,b){return a.substring(0,b)+"\u2026";});else if(K)for(;D.length;){D.length&&!z&&0<C&&(l=u.createElementNS(R,"tspan"),g(l,{dy:w,x:d}),n&&g(l,"style",n),l.appendChild(u.createTextNode(D.join(" ").replace(/- /g,"-"))),b.appendChild(l)),h.truncate(a,l,null,D,0===C?m:0,G,function(a,b){return D.slice(0,b).join(" ").replace(/- /g,"-");}),m=a.actualWidth,C++;}}q++;}}});I=I||b.childNodes.length;}),O&&f&&a.attr("title",v(a.textStr,["\x26lt;","\x26gt;"])),K&&K.removeChild(b),w&&a.applyTextOutline&&a.applyTextOutline(w)):b.appendChild(u.createTextNode(v(c)));}},getContrast:function getContrast(a){a=t(a).rgba;a[0]*=1;a[1]*=1.2;a[2]*=.5;return 459<a[0]+a[1]+a[2]?"#000000":"#FFFFFF";},button:function button(a,b,h,k,y,e,c,q,m){var f=this.label(a,b,h,m,null,null,null,null,"button"),d=0;f.attr(G({padding:8,r:2},y));F(f.element,A?"mouseover":"mouseenter",function(){3!==d&&f.setState(1);});F(f.element,A?"mouseout":"mouseleave",function(){3!==d&&f.setState(d);});f.setState=function(a){1!==a&&(f.state=d=a);f.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][a||0]);};return f.on("click",function(a){3!==d&&k.call(f,a);});},crispLine:function crispLine(a,b){a[1]===a[4]&&(a[1]=a[4]=Math.round(a[1])-b%2/2);a[2]===a[5]&&(a[2]=a[5]=Math.round(a[2])+b%2/2);return a;},path:function path(a){var b={};w(a)?b.d=a:z(a)&&m(b,a);return this.createElement("path").attr(b);},circle:function circle(a,b,h){a=z(a)?a:{x:a,y:b,r:h};b=this.createElement("circle");b.xSetter=b.ySetter=function(a,b,h){h.setAttribute("c"+b,a);};return b.attr(a);},arc:function arc(a,b,h,k,y,e){z(a)?(k=a,b=k.y,h=k.r,a=k.x):k={innerR:k,start:y,end:e};a=this.symbol("arc",a,b,h,h,k);a.r=h;return a;},rect:function rect(a,b,h,k,y,e){y=z(a)?a.r:y;e=this.createElement("rect");a=z(a)?a:void 0===a?{}:{x:a,y:b,width:Math.max(h,0),height:Math.max(k,0)};y&&(a.r=y);e.rSetter=function(a,b,h){g(h,{rx:a,ry:a});};return e.attr(a);},setSize:function setSize(a,b,h){var y=this.alignedObjects,e=y.length;this.width=a;this.height=b;for(this.boxWrapper.animate({width:a,height:b},{step:function step(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")});},duration:k(h,!0)?void 0:0});e--;){y[e].align();}},g:function g(a){var b=this.createElement("g");return a?b.attr({"class":"highcharts-"+a}):b;},image:function image(a,b,h,k,y,e){var c={preserveAspectRatio:"none"},q,f=function f(a,b){a.setAttributeNS?a.setAttributeNS("http://www.w3.org/1999/xlink","href",b):a.setAttribute("hc-svg-href",b);},d=function d(b){f(q.element,a);e.call(q,b);};1<arguments.length&&m(c,{x:b,y:h,width:k,height:y});q=this.createElement("image").attr(c);e?(f(q.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d"),c=new N.Image(),F(c,"load",d),c.src=a,c.complete&&d({})):f(q.element,a);return q;},symbol:function symbol(a,b,h,y,e,c){var q=this,f,K=/^url\((.*?)\)$/,n=K.test(a),C=!n&&(this.symbols[a]?a:"circle"),G=C&&this.symbols[C],D=r(b)&&G&&G.call(this.symbols,Math.round(b),Math.round(h),y,e,c),w,O;G?(f=this.path(D),m(f,{symbolName:C,x:b,y:h,width:y,height:e}),c&&m(f,c)):n&&(w=a.match(K)[1],f=this.image(w),f.imgwidth=k(Q[w]&&Q[w].width,c&&c.width),f.imgheight=k(Q[w]&&Q[w].height,c&&c.height),O=function O(){f.attr({width:f.width,height:f.height});},l(["width","height"],function(a){f[a+"Setter"]=function(a,b){var h={},k=this["img"+b],y="width"===b?"translateX":"translateY";this[b]=a;r(k)&&(this.element&&this.element.setAttribute(b,k),this.alignByTranslate||(h[y]=((this[b]||0)-k)/2,this.attr(h)));};}),r(b)&&f.attr({x:b,y:h}),f.isImg=!0,r(f.imgwidth)&&r(f.imgheight)?O():(f.attr({width:0,height:0}),v("img",{onload:function onload(){var a=d[q.chartIndex];0===this.width&&(x(this,{position:"absolute",top:"-999em"}),u.body.appendChild(this));Q[w]={width:this.width,height:this.height};f.imgwidth=this.width;f.imgheight=this.height;f.element&&O();this.parentNode&&this.parentNode.removeChild(this);q.imgCount--;if(!q.imgCount&&a&&a.onload)a.onload();},src:w}),this.imgCount++));return f;},symbols:{circle:function circle(a,b,h,k){return this.arc(a+h/2,b+k/2,h/2,k/2,{start:0,end:2*Math.PI,open:!1});},square:function square(a,b,h,k){return["M",a,b,"L",a+h,b,a+h,b+k,a,b+k,"Z"];},triangle:function triangle(a,b,h,k){return["M",a+h/2,b,"L",a+h,b+k,a,b+k,"Z"];},"triangle-down":function triangleDown(a,b,h,k){return["M",a,b,"L",a+h,b,a+h/2,b+k,"Z"];},diamond:function diamond(a,b,h,k){return["M",a+h/2,b,"L",a+h,b+k/2,a+h/2,b+k,a,b+k/2,"Z"];},arc:function arc(a,b,h,y,e){var c=e.start,q=e.r||h,f=e.r||y||h,m=e.end-.001;h=e.innerR;y=k(e.open,.001>Math.abs(e.end-e.start-2*Math.PI));var d=Math.cos(c),l=Math.sin(c),K=Math.cos(m),m=Math.sin(m);e=.001>e.end-c-Math.PI?0:1;q=["M",a+q*d,b+f*l,"A",q,f,0,e,1,a+q*K,b+f*m];r(h)&&q.push(y?"M":"L",a+h*K,b+h*m,"A",h,h,0,e,0,a+h*d,b+h*l);q.push(y?"":"Z");return q;},callout:function callout(a,b,h,k,y){var e=Math.min(y&&y.r||0,h,k),c=e+6,q=y&&y.anchorX;y=y&&y.anchorY;var f;f=["M",a+e,b,"L",a+h-e,b,"C",a+h,b,a+h,b,a+h,b+e,"L",a+h,b+k-e,"C",a+h,b+k,a+h,b+k,a+h-e,b+k,"L",a+e,b+k,"C",a,b+k,a,b+k,a,b+k-e,"L",a,b+e,"C",a,b,a,b,a+e,b];q&&q>h?y>b+c&&y<b+k-c?f.splice(13,3,"L",a+h,y-6,a+h+6,y,a+h,y+6,a+h,b+k-e):f.splice(13,3,"L",a+h,k/2,q,y,a+h,k/2,a+h,b+k-e):q&&0>q?y>b+c&&y<b+k-c?f.splice(33,3,"L",a,y+6,a-6,y,a,y-6,a,b+e):f.splice(33,3,"L",a,k/2,q,y,a,k/2,a,b+e):y&&y>k&&q>a+c&&q<a+h-c?f.splice(23,3,"L",q+6,b+k,q,b+k+6,q-6,b+k,a+e,b+k):y&&0>y&&q>a+c&&q<a+h-c&&f.splice(3,3,"L",q-6,b,q,b-6,q+6,b,h-e,b);return f;}},clipRect:function clipRect(b,h,k,y){var e=a.uniqueKey(),c=this.createElement("clipPath").attr({id:e}).add(this.defs);b=this.rect(b,h,k,y,0).add(c);b.id=e;b.clipPath=c;b.count=0;return b;},text:function text(a,b,h,k){var y={};if(k&&(this.allowHTML||!this.forExport))return this.html(a,b,h);y.x=Math.round(b||0);h&&(y.y=Math.round(h));r(a)&&(y.text=a);a=this.createElement("text").attr(y);k||(a.xSetter=function(a,b,h){var k=h.getElementsByTagName("tspan"),y,e=h.getAttribute(b),c;for(c=0;c<k.length;c++){y=k[c],y.getAttribute(b)===e&&y.setAttribute(b,a);}h.setAttribute(b,a);});return a;},fontMetrics:function fontMetrics(a,b){a=b&&B.prototype.getStyle.call(b,"font-size");a=/px/.test(a)?y(a):/em/.test(a)?parseFloat(a)*(b?this.fontMetrics(null,b.parentNode).f:16):12;b=24>a?a+3:Math.round(1.2*a);return{h:b,b:Math.round(.8*b),f:a};},rotCorr:function rotCorr(a,b,h){var k=a;b&&h&&(k=Math.max(k*Math.cos(b*f),4));return{x:-a/3*Math.sin(b*f),y:k};},label:function label(b,h,k,y,e,c,q,f,d){var K=this,n=K.g("button"!==d&&"label"),C=n.text=K.text("",0,0,q).attr({zIndex:1}),D,w,u=0,z=3,g=0,A,I,T,x,H,v={},J,R=/^url\((.*?)\)$/.test(y),t=R,p,Q,N,M;d&&n.addClass("highcharts-"+d);t=!0;p=function p(){return D.strokeWidth()%2/2;};Q=function Q(){var a=C.element.style,b={};w=(void 0===A||void 0===I||H)&&r(C.textStr)&&C.getBBox();n.width=(A||w.width||0)+2*z+g;n.height=(I||w.height||0)+2*z;J=z+K.fontMetrics(a&&a.fontSize,C).b;t&&(D||(n.box=D=K.symbols[y]||R?K.symbol(y):K.rect(),D.addClass(("button"===d?"":"highcharts-label-box")+(d?" highcharts-"+d+"-box":"")),D.add(n),a=p(),b.x=a,b.y=(f?-J:0)+a),b.width=Math.round(n.width),b.height=Math.round(n.height),D.attr(m(b,v)),v={});};N=function N(){var a=g+z,b;b=f?0:J;r(A)&&w&&("center"===H||"right"===H)&&(a+={center:.5,right:1}[H]*(A-w.width));if(a!==C.x||b!==C.y)C.attr("x",a),C.hasBoxWidthChanged&&(w=C.getBBox(!0),Q()),void 0!==b&&C.attr("y",b);C.x=a;C.y=b;};M=function M(a,b){D?D.attr(a,b):v[a]=b;};n.onAdd=function(){C.add(n);n.attr({text:b||0===b?b:"",x:h,y:k});D&&r(e)&&n.attr({anchorX:e,anchorY:c});};n.widthSetter=function(b){A=a.isNumber(b)?b:null;};n.heightSetter=function(a){I=a;};n["text-alignSetter"]=function(a){H=a;};n.paddingSetter=function(a){r(a)&&a!==z&&(z=n.padding=a,N());};n.paddingLeftSetter=function(a){r(a)&&a!==g&&(g=a,N());};n.alignSetter=function(a){a={left:0,center:.5,right:1}[a];a!==u&&(u=a,w&&n.attr({x:T}));};n.textSetter=function(a){void 0!==a&&C.textSetter(a);Q();N();};n["stroke-widthSetter"]=function(a,b){a&&(t=!0);this["stroke-width"]=a;M(b,a);};n.rSetter=function(a,b){M(b,a);};n.anchorXSetter=function(a,b){e=n.anchorX=a;M(b,Math.round(a)-p()-T);};n.anchorYSetter=function(a,b){c=n.anchorY=a;M(b,a-x);};n.xSetter=function(a){n.x=a;u&&(a-=u*((A||w.width)+2*z),n["forceAnimate:x"]=!0);T=Math.round(a);n.attr("translateX",T);};n.ySetter=function(a){x=n.y=Math.round(a);n.attr("translateY",x);};var V=n.css;return m(n,{css:function css(a){if(a){var b={};a=G(a);l(n.textProps,function(h){void 0!==a[h]&&(b[h]=a[h],delete a[h]);});C.css(b);"width"in b&&Q();}return V.call(n,a);},getBBox:function getBBox(){return{width:w.width+2*z,height:w.height+2*z,x:w.x-z,y:w.y-z};},destroy:function destroy(){O(n.element,"mouseenter");O(n.element,"mouseleave");C&&(C=C.destroy());D&&(D=D.destroy());B.prototype.destroy.call(n);n=K=Q=N=M=null;}});}});a.Renderer=E;})(L);(function(a){var B=a.attr,E=a.createElement,F=a.css,p=a.defined,g=a.each,d=a.extend,t=a.isFirefox,x=a.isMS,v=a.isWebKit,r=a.pick,f=a.pInt,c=a.SVGRenderer,u=a.win,l=a.wrap;d(a.SVGElement.prototype,{htmlCss:function htmlCss(a){var b="SPAN"===this.element.tagName&&a&&"width"in a,c=r(b&&a.width,void 0);b&&(delete a.width,this.textWidth=c,this.htmlUpdateTransform());a&&"ellipsis"===a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden");this.styles=d(this.styles,a);F(this.element,a);return this;},htmlGetBBox:function htmlGetBBox(){var a=this.element;return{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight};},htmlUpdateTransform:function htmlUpdateTransform(){if(this.added){var a=this.renderer,b=this.element,c=this.x||0,e=this.y||0,d=this.textAlign||"left",l={left:0,center:.5,right:1}[d],u=this.styles,r=u&&u.whiteSpace;F(b,{marginLeft:this.translateX||0,marginTop:this.translateY||0});this.inverted&&g(b.childNodes,function(e){a.invertChild(e,b);});if("SPAN"===b.tagName){var u=this.rotation,z=this.textWidth&&f(this.textWidth),q=[u,d,b.innerHTML,this.textWidth,this.textAlign].join(),C;(C=z!==this.oldTextWidth)&&!(C=z>this.oldTextWidth)&&((C=this.textPxLength)||(F(b,{width:"",whiteSpace:r||"nowrap"}),C=b.offsetWidth),C=C>z);C&&/[ \-]/.test(b.textContent||b.innerText)?(F(b,{width:z+"px",display:"block",whiteSpace:r||"normal"}),this.oldTextWidth=z,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1;q!==this.cTT&&(r=a.fontMetrics(b.style.fontSize).b,!p(u)||u===(this.oldRotation||0)&&d===this.oldAlign||this.setSpanRotation(u,l,r),this.getSpanCorrection(!p(u)&&this.textPxLength||b.offsetWidth,r,l,u,d));F(b,{left:c+(this.xCorr||0)+"px",top:e+(this.yCorr||0)+"px"});this.cTT=q;this.oldRotation=u;this.oldAlign=d;}}else this.alignOnAdd=!0;},setSpanRotation:function setSpanRotation(a,b,c){var e={},f=this.renderer.getTransformKey();e[f]=e.transform="rotate("+a+"deg)";e[f+(t?"Origin":"-origin")]=e.transformOrigin=100*b+"% "+c+"px";F(this.element,e);},getSpanCorrection:function getSpanCorrection(a,b,c){this.xCorr=-a*c;this.yCorr=-b;}});d(c.prototype,{getTransformKey:function getTransformKey(){return x&&!/Edge/.test(u.navigator.userAgent)?"-ms-transform":v?"-webkit-transform":t?"MozTransform":u.opera?"-o-transform":"";},html:function html(a,b,c){var e=this.createElement("span"),f=e.element,n=e.renderer,m=n.isSVG,u=function u(a,b){g(["opacity","visibility"],function(e){l(a,e+"Setter",function(a,e,c,k){a.call(this,e,c,k);b[c]=e;});});a.addedSetters=!0;};e.textSetter=function(a){a!==f.innerHTML&&delete this.bBox;this.textStr=a;f.innerHTML=r(a,"");e.doTransform=!0;};m&&u(e,e.element.style);e.xSetter=e.ySetter=e.alignSetter=e.rotationSetter=function(a,b){"align"===b&&(b="textAlign");e[b]=a;e.doTransform=!0;};e.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1);};e.attr({text:a,x:Math.round(b),y:Math.round(c)}).css({position:"absolute"});f.style.whiteSpace="nowrap";e.css=e.htmlCss;m&&(e.add=function(a){var b,c=n.box.parentNode,m=[];if(this.parentGroup=a){if(b=a.div,!b){for(;a;){m.push(a),a=a.parentGroup;}g(m.reverse(),function(a){function q(b,h){a[h]=b;"translateX"===h?k.left=b+"px":k.top=b+"px";a.doTransform=!0;}var k,y=B(a.element,"class");y&&(y={className:y});b=a.div=a.div||E("div",y,{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px",display:a.display,opacity:a.opacity,pointerEvents:a.styles&&a.styles.pointerEvents},b||c);k=b.style;d(a,{classSetter:function(a){return function(b){this.element.setAttribute("class",b);a.className=b;};}(b),on:function on(){m[0].div&&e.on.apply({element:m[0].div},arguments);return a;},translateXSetter:q,translateYSetter:q});a.addedSetters||u(a,k);});}}else b=c;b.appendChild(f);e.added=!0;e.alignOnAdd&&e.htmlUpdateTransform();return e;});return e;}});})(L);(function(a){var B=a.defined,E=a.each,F=a.extend,p=a.merge,g=a.pick,d=a.timeUnits,t=a.win;a.Time=function(a){this.update(a,!1);};a.Time.prototype={defaultOptions:{},update:function update(a){var d=g(a&&a.useUTC,!0),r=this;this.options=a=p(!0,this.options||{},a);this.Date=a.Date||t.Date;this.timezoneOffset=(this.useUTC=d)&&a.timezoneOffset;this.getTimezoneOffset=this.timezoneOffsetFunction();(this.variableTimezone=!(d&&!a.getTimezoneOffset&&!a.timezone))||this.timezoneOffset?(this.get=function(a,c){var f=c.getTime(),d=f-r.getTimezoneOffset(c);c.setTime(d);a=c["getUTC"+a]();c.setTime(f);return a;},this.set=function(a,c,d){var f;if("Milliseconds"===a||"Seconds"===a||"Minutes"===a&&0===c.getTimezoneOffset()%60)c["set"+a](d);else f=r.getTimezoneOffset(c),f=c.getTime()-f,c.setTime(f),c["setUTC"+a](d),a=r.getTimezoneOffset(c),f=c.getTime()+a,c.setTime(f);}):d?(this.get=function(a,c){return c["getUTC"+a]();},this.set=function(a,c,d){return c["setUTC"+a](d);}):(this.get=function(a,c){return c["get"+a]();},this.set=function(a,c,d){return c["set"+a](d);});},makeTime:function makeTime(d,v,r,f,c,u){var l,m,b;this.useUTC?(l=this.Date.UTC.apply(0,arguments),m=this.getTimezoneOffset(l),l+=m,b=this.getTimezoneOffset(l),m!==b?l+=b-m:m-36E5!==this.getTimezoneOffset(l-36E5)||a.isSafari||(l-=36E5)):l=new this.Date(d,v,g(r,1),g(f,0),g(c,0),g(u,0)).getTime();return l;},timezoneOffsetFunction:function timezoneOffsetFunction(){var d=this,g=this.options,r=t.moment;if(!this.useUTC)return function(a){return 6E4*new Date(a).getTimezoneOffset();};if(g.timezone){if(r)return function(a){return 6E4*-r.tz(a,g.timezone).utcOffset();};a.error(25);}return this.useUTC&&g.getTimezoneOffset?function(a){return 6E4*g.getTimezoneOffset(a);}:function(){return 6E4*(d.timezoneOffset||0);};},dateFormat:function dateFormat(d,g,r){if(!a.defined(g)||isNaN(g))return a.defaultOptions.lang.invalidDate||"";d=a.pick(d,"%Y-%m-%d %H:%M:%S");var f=this,c=new this.Date(g),u=this.get("Hours",c),l=this.get("Day",c),m=this.get("Date",c),b=this.get("Month",c),n=this.get("FullYear",c),e=a.defaultOptions.lang,D=e.weekdays,w=e.shortWeekdays,x=a.pad,c=a.extend({a:w?w[l]:D[l].substr(0,3),A:D[l],d:x(m),e:x(m,2," "),w:l,b:e.shortMonths[b],B:e.months[b],m:x(b+1),o:b+1,y:n.toString().substr(2,2),Y:n,H:x(u),k:u,I:x(u%12||12),l:u%12||12,M:x(f.get("Minutes",c)),p:12>u?"AM":"PM",P:12>u?"am":"pm",S:x(c.getSeconds()),L:x(Math.floor(g%1E3),3)},a.dateFormats);a.objectEach(c,function(a,b){for(;-1!==d.indexOf("%"+b);){d=d.replace("%"+b,"function"===typeof a?a.call(f,g):a);}});return r?d.substr(0,1).toUpperCase()+d.substr(1):d;},resolveDTLFormat:function resolveDTLFormat(d){return a.isObject(d,!0)?d:(d=a.splat(d),{main:d[0],from:d[1],to:d[2]});},getTimeTicks:function getTimeTicks(a,v,r,f){var c=this,u=[],l,m={},b;l=new c.Date(v);var n=a.unitRange,e=a.count||1,D;f=g(f,1);if(B(v)){c.set("Milliseconds",l,n>=d.second?0:e*Math.floor(c.get("Milliseconds",l)/e));n>=d.second&&c.set("Seconds",l,n>=d.minute?0:e*Math.floor(c.get("Seconds",l)/e));n>=d.minute&&c.set("Minutes",l,n>=d.hour?0:e*Math.floor(c.get("Minutes",l)/e));n>=d.hour&&c.set("Hours",l,n>=d.day?0:e*Math.floor(c.get("Hours",l)/e));n>=d.day&&c.set("Date",l,n>=d.month?1:e*Math.floor(c.get("Date",l)/e));n>=d.month&&(c.set("Month",l,n>=d.year?0:e*Math.floor(c.get("Month",l)/e)),b=c.get("FullYear",l));n>=d.year&&c.set("FullYear",l,b-b%e);n===d.week&&(b=c.get("Day",l),c.set("Date",l,c.get("Date",l)-b+f+(b<f?-7:0)));b=c.get("FullYear",l);f=c.get("Month",l);var w=c.get("Date",l),x=c.get("Hours",l);v=l.getTime();c.variableTimezone&&(D=r-v>4*d.month||c.getTimezoneOffset(v)!==c.getTimezoneOffset(r));v=l.getTime();for(l=1;v<r;){u.push(v),v=n===d.year?c.makeTime(b+l*e,0):n===d.month?c.makeTime(b,f+l*e):!D||n!==d.day&&n!==d.week?D&&n===d.hour&&1<e?c.makeTime(b,f,w,x+l*e):v+n*e:c.makeTime(b,f,w+l*e*(n===d.day?1:7)),l++;}u.push(v);n<=d.hour&&1E4>u.length&&E(u,function(a){0===a%18E5&&"000000000"===c.dateFormat("%H%M%S%L",a)&&(m[a]="day");});}u.info=F(a,{higherRanks:m,totalRange:n*e});return u;}};})(L);(function(a){var B=a.merge;a.defaultOptions={symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:a.Time.prototype.defaultOptions,chart:{borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function labelFormatter(){return this.name;},borderColor:"#999999",borderRadius:0,navigation:{},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{}},loading:{},tooltip:{enabled:!0,animation:a.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:a.isTouchDevice?25:10,headerFormat:'\x3cspan class\x3d"highcharts-header"\x3e{point.key}\x3c/span\x3e\x3cbr/\x3e',pointFormat:"<span class=\"highcharts-color-{point.colorIndex}\">\u25CF</span> {series.name}: <span class=\"highcharts-strong\">{point.y}</span><br/>"},credits:{enabled:!0,href:"https://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},text:"Highcharts.com"}};a.setOptions=function(E){a.defaultOptions=B(!0,a.defaultOptions,E);a.time.update(B(a.defaultOptions.global,a.defaultOptions.time),!1);return a.defaultOptions;};a.getOptions=function(){return a.defaultOptions;};a.defaultPlotOptions=a.defaultOptions.plotOptions;a.time=new a.Time(B(a.defaultOptions.global,a.defaultOptions.time));a.dateFormat=function(B,F,p){return a.time.dateFormat(B,F,p);};})(L);(function(a){var B=a.correctFloat,E=a.defined,F=a.destroyObjectProperties,p=a.fireEvent,g=a.isNumber,d=a.pick,t=a.deg2rad;a.Tick=function(a,d,g,f,c){this.axis=a;this.pos=d;this.type=g||"";this.isNewLabel=this.isNew=!0;this.parameters=c||{};this.tickmarkOffset=this.parameters.tickmarkOffset;this.options=this.parameters.options;g||f||this.addLabel();};a.Tick.prototype={addLabel:function addLabel(){var g=this,v=g.axis,r=v.options,f=v.chart,c=v.categories,u=v.names,l=g.pos,m=d(g.options&&g.options.labels,r.labels),b=v.tickPositions,n=l===b[0],e=l===b[b.length-1],c=this.parameters.category||(c?d(c[l],u[l],l):l),D=g.label,b=b.info,w,H,A,z;v.isDatetimeAxis&&b&&(H=f.time.resolveDTLFormat(r.dateTimeLabelFormats[!r.grid&&b.higherRanks[l]||b.unitName]),w=H.main);g.isFirst=n;g.isLast=e;g.formatCtx={axis:v,chart:f,isFirst:n,isLast:e,dateTimeLabelFormat:w,tickPositionInfo:b,value:v.isLog?B(v.lin2log(c)):c,pos:l};r=v.labelFormatter.call(g.formatCtx,this.formatCtx);if(z=H&&H.list)g.shortenLabel=function(){for(A=0;A<z.length;A++){if(D.attr({text:v.labelFormatter.call(a.extend(g.formatCtx,{dateTimeLabelFormat:z[A]}))}),D.getBBox().width<v.getSlotWidth(g)-2*d(m.padding,5))return;}D.attr({text:""});};if(E(D))D&&D.textStr!==r&&(!D.textWidth||m.style&&m.style.width||D.styles.width||D.css({width:null}),D.attr({text:r}));else{if(g.label=D=E(r)&&m.enabled?f.renderer.text(r,0,0,m.useHTML).add(v.labelGroup):null)D.textPxLength=D.getBBox().width;g.rotation=0;}},getLabelSize:function getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0;},handleOverflow:function handleOverflow(a){var g=this.axis,r=g.options.labels,f=a.x,c=g.chart.chartWidth,u=g.chart.spacing,l=d(g.labelLeft,Math.min(g.pos,u[3])),u=d(g.labelRight,Math.max(g.isRadial?0:g.pos+g.len,c-u[1])),m=this.label,b=this.rotation,n={left:0,center:.5,right:1}[g.labelAlign||m.attr("align")],e=m.getBBox().width,D=g.getSlotWidth(this),w=D,H=1,A,z={};if(b||"justify"!==d(r.overflow,"justify"))0>b&&f-n*e<l?A=Math.round(f/Math.cos(b*t)-l):0<b&&f+n*e>u&&(A=Math.round((c-f)/Math.cos(b*t)));else if(c=f+(1-n)*e,f-n*e<l?w=a.x+w*(1-n)-l:c>u&&(w=u-a.x+w*n,H=-1),w=Math.min(D,w),w<D&&"center"===g.labelAlign&&(a.x+=H*(D-w-n*(D-Math.min(e,w)))),e>w||g.autoRotation&&(m.styles||{}).width)A=w;A&&(this.shortenLabel?this.shortenLabel():(z.width=A,(r.style||{}).textOverflow||(z.textOverflow="ellipsis"),m.css(z)));},getPosition:function getPosition(d,g,r,f){var c=this.axis,u=c.chart,l=f&&u.oldChartHeight||u.chartHeight;d={x:d?a.correctFloat(c.translate(g+r,null,null,f)+c.transB):c.left+c.offset+(c.opposite?(f&&u.oldChartWidth||u.chartWidth)-c.right-c.left:0),y:d?l-c.bottom+c.offset-(c.opposite?c.height:0):a.correctFloat(l-c.translate(g+r,null,null,f)-c.transB)};p(this,"afterGetPosition",{pos:d});return d;},getLabelPosition:function getLabelPosition(a,d,g,f,c,u,l,m){var b=this.axis,n=b.transA,e=b.reversed,D=b.staggerLines,w=b.tickRotCorr||{x:0,y:0},r=c.y,A=f||b.reserveSpaceDefault?0:-b.labelOffset*("center"===b.labelAlign?.5:1),z={};E(r)||(r=0===b.side?g.rotation?-8:-g.getBBox().height:2===b.side?w.y+8:Math.cos(g.rotation*t)*(w.y-g.getBBox(!1,0).height/2));a=a+c.x+A+w.x-(u&&f?u*n*(e?-1:1):0);d=d+r-(u&&!f?u*n*(e?1:-1):0);D&&(g=l/(m||1)%D,b.opposite&&(g=D-g-1),d+=b.labelOffset/D*g);z.x=a;z.y=Math.round(d);p(this,"afterGetLabelPosition",{pos:z});return z;},getMarkPath:function getMarkPath(a,d,g,f,c,u){return u.crispLine(["M",a,d,"L",a+(c?0:-g),d+(c?g:0)],f);},renderGridLine:function renderGridLine(a,g,r){var f=this.axis,c=this.gridLine,u={},l=this.pos,m=this.type,b=d(this.tickmarkOffset,f.tickmarkOffset),n=f.chart.renderer;c||(m||(u.zIndex=1),a&&(g=0),this.gridLine=c=n.path().attr(u).addClass("highcharts-"+(m?m+"-":"")+"grid-line").add(f.gridGroup));if(c&&(r=f.getPlotLinePath(l+b,c.strokeWidth()*r,a,"pass")))c[a||this.isNew?"attr":"animate"]({d:r,opacity:g});},renderMark:function renderMark(a,d,g){var f=this.axis,c=f.chart.renderer,u=this.type,l=f.tickSize(u?u+"Tick":"tick"),m=this.mark,b=!m,n=a.x;a=a.y;l&&(f.opposite&&(l[0]=-l[0]),b&&(this.mark=m=c.path().addClass("highcharts-"+(u?u+"-":"")+"tick").add(f.axisGroup)),m[b?"attr":"animate"]({d:this.getMarkPath(n,a,l[0],m.strokeWidth()*g,f.horiz,c),opacity:d}));},renderLabel:function renderLabel(a,t,r,f){var c=this.axis,u=c.horiz,l=c.options,m=this.label,b=l.labels,n=b.step,c=d(this.tickmarkOffset,c.tickmarkOffset),e=!0,D=a.x;a=a.y;m&&g(D)&&(m.xy=a=this.getLabelPosition(D,a,m,u,b,c,f,n),this.isFirst&&!this.isLast&&!d(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!d(l.showLastLabel,1)?e=!1:!u||b.step||b.rotation||t||0===r||this.handleOverflow(a),n&&f%n&&(e=!1),e&&g(a.y)?(a.opacity=r,m[this.isNewLabel?"attr":"animate"](a),this.isNewLabel=!1):(m.attr("y",-9999),this.isNewLabel=!0));},render:function render(g,t,r){var f=this.axis,c=f.horiz,u=this.pos,l=d(this.tickmarkOffset,f.tickmarkOffset),u=this.getPosition(c,u,l,t),l=u.x,m=u.y,f=c&&l===f.pos+f.len||!c&&m===f.pos?-1:1;r=d(r,1);this.isActive=!0;this.renderGridLine(t,r,f);this.renderMark(u,r,f);this.renderLabel(u,t,r,g);this.isNew=!1;a.fireEvent(this,"afterRender");},destroy:function destroy(){F(this,this.axis);}};})(L);var W=function(a){var B=a.addEvent,E=a.animObject,F=a.arrayMax,p=a.arrayMin,g=a.correctFloat,d=a.defaultOptions,t=a.defined,x=a.deg2rad,v=a.destroyObjectProperties,r=a.each,f=a.extend,c=a.fireEvent,u=a.format,l=a.getMagnitude,m=a.grep,b=a.inArray,n=a.isArray,e=a.isNumber,D=a.isString,w=a.merge,H=a.normalizeTickInterval,A=a.objectEach,z=a.pick,q=a.removeEvent,C=a.splat,G=a.syncTimeout,I=a.Tick,J=function J(){this.init.apply(this,arguments);};a.extend(J.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle"},type:"linear"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function formatter(){return a.numberFormat(this.total,-1);}}},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function init(a,y){var k=y.isX,h=this;h.chart=a;h.horiz=a.inverted&&!h.isZAxis?!k:k;h.isXAxis=k;h.coll=h.coll||(k?"xAxis":"yAxis");c(this,"init",{userOptions:y});h.opposite=y.opposite;h.side=y.side||(h.horiz?h.opposite?0:2:h.opposite?1:3);h.setOptions(y);var e=this.options,q=e.type;h.labelFormatter=e.labels.formatter||h.defaultLabelFormatter;h.userOptions=y;h.minPixelPadding=0;h.reversed=e.reversed;h.visible=!1!==e.visible;h.zoomEnabled=!1!==e.zoomEnabled;h.hasNames="category"===q||!0===e.categories;h.categories=e.categories||h.hasNames;h.names||(h.names=[],h.names.keys={});h.plotLinesAndBandsGroups={};h.isLog="logarithmic"===q;h.isDatetimeAxis="datetime"===q;h.positiveValuesOnly=h.isLog&&!h.allowNegativeLog;h.isLinked=t(e.linkedTo);h.ticks={};h.labelEdge=[];h.minorTicks={};h.plotLinesAndBands=[];h.alternateBands={};h.len=0;h.minRange=h.userMinRange=e.minRange||e.maxZoom;h.range=e.range;h.offset=e.offset||0;h.stacks={};h.oldStacks={};h.stacksTouched=0;h.max=null;h.min=null;h.crosshair=z(e.crosshair,C(a.options.tooltip.crosshairs)[k?0:1],!1);y=h.options.events;-1===b(h,a.axes)&&(k?a.axes.splice(a.xAxis.length,0,h):a.axes.push(h),a[h.coll].push(h));h.series=h.series||[];a.inverted&&!h.isZAxis&&k&&void 0===h.reversed&&(h.reversed=!0);A(y,function(a,b){B(h,b,a);});h.lin2log=e.linearToLogConverter||h.lin2log;h.isLog&&(h.val2lin=h.log2lin,h.lin2val=h.lin2log);c(this,"afterInit");},setOptions:function setOptions(a){this.options=w(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(d[this.coll],a));c(this,"afterSetOptions",{userOptions:a});},defaultLabelFormatter:function defaultLabelFormatter(){var b=this.axis,y=this.value,e=b.chart.time,h=b.categories,c=this.dateTimeLabelFormat,q=d.lang,f=q.numericSymbols,q=q.numericSymbolMagnitude||1E3,m=f&&f.length,n,l=b.options.labels.format,b=b.isLog?Math.abs(y):b.tickInterval;if(l)n=u(l,this,e);else if(h)n=y;else if(c)n=e.dateFormat(c,y);else if(m&&1E3<=b)for(;m--&&void 0===n;){e=Math.pow(q,m+1),b>=e&&0===10*y%e&&null!==f[m]&&0!==y&&(n=a.numberFormat(y/e,-1)+f[m]);}void 0===n&&(n=1E4<=Math.abs(y)?a.numberFormat(y,-1):a.numberFormat(y,-1,void 0,""));return n;},getSeriesExtremes:function getSeriesExtremes(){var a=this,b=a.chart;c(this,"getSeriesExtremes",null,function(){a.hasVisibleSeries=!1;a.dataMin=a.dataMax=a.threshold=null;a.softThreshold=!a.isXAxis;a.buildStacks&&a.buildStacks();r(a.series,function(k){if(k.visible||!b.options.chart.ignoreHiddenSeries){var h=k.options,y=h.threshold,c;a.hasVisibleSeries=!0;a.positiveValuesOnly&&0>=y&&(y=null);if(a.isXAxis)h=k.xData,h.length&&(k=p(h),c=F(h),e(k)||k instanceof Date||(h=m(h,e),k=p(h),c=F(h)),h.length&&(a.dataMin=Math.min(z(a.dataMin,h[0],k),k),a.dataMax=Math.max(z(a.dataMax,h[0],c),c)));else if(k.getExtremes(),c=k.dataMax,k=k.dataMin,t(k)&&t(c)&&(a.dataMin=Math.min(z(a.dataMin,k),k),a.dataMax=Math.max(z(a.dataMax,c),c)),t(y)&&(a.threshold=y),!h.softThreshold||a.positiveValuesOnly)a.softThreshold=!1;}});});c(this,"afterGetSeriesExtremes");},translate:function translate(a,b,c,h,q,d){var k=this.linkedParent||this,y=1,f=0,n=h?k.oldTransA:k.transA;h=h?k.oldMin:k.min;var m=k.minPixelPadding;q=(k.isOrdinal||k.isBroken||k.isLog&&q)&&k.lin2val;n||(n=k.transA);c&&(y*=-1,f=k.len);k.reversed&&(y*=-1,f-=y*(k.sector||k.len));b?(a=(a*y+f-m)/n+h,q&&(a=k.lin2val(a))):(q&&(a=k.val2lin(a)),a=e(h)?y*(a-h)*n+f+y*m+(e(d)?n*d:0):void 0);return a;},toPixels:function toPixels(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos);},toValue:function toValue(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0);},getPlotLinePath:function getPlotLinePath(a,b,c,h,q){var k=this.chart,y=this.left,d=this.top,f,n,m=c&&k.oldChartHeight||k.chartHeight,l=c&&k.oldChartWidth||k.chartWidth,C;f=this.transB;var K=function K(a,b,k){if("pass"!==h&&a<b||a>k)h?a=Math.min(Math.max(b,a),k):C=!0;return a;};q=z(q,this.translate(a,null,null,c));q=Math.min(Math.max(-1E5,q),1E5);a=c=Math.round(q+f);f=n=Math.round(m-q-f);e(q)?this.horiz?(f=d,n=m-this.bottom,a=c=K(a,y,y+this.width)):(a=y,c=l-this.right,f=n=K(f,d,d+this.height)):(C=!0,h=!1);return C&&!h?null:k.renderer.crispLine(["M",a,f,"L",c,n],b||1);},getLinearTickPositions:function getLinearTickPositions(a,b,e){var h,k=g(Math.floor(b/a)*a);e=g(Math.ceil(e/a)*a);var y=[],c;g(k+a)===k&&(c=20);if(this.single)return[b];for(b=k;b<=e;){y.push(b);b=g(b+a,c);if(b===h)break;h=b;}return y;},getMinorTickInterval:function getMinorTickInterval(){var a=this.options;return!0===a.minorTicks?z(a.minorTickInterval,"auto"):!1===a.minorTicks?null:a.minorTickInterval;},getMinorTickPositions:function getMinorTickPositions(){var a=this,b=a.options,e=a.tickPositions,h=a.minorTickInterval,c=[],q=a.pointRangePadding||0,d=a.min-q,q=a.max+q,f=q-d;if(f&&f/h<a.len/3)if(a.isLog)r(this.paddedTicks,function(b,k,y){k&&c.push.apply(c,a.getLogTickPositions(h,y[k-1],y[k],!0));});else if(a.isDatetimeAxis&&"auto"===this.getMinorTickInterval())c=c.concat(a.getTimeTicks(a.normalizeTimeTickInterval(h),d,q,b.startOfWeek));else for(b=d+(e[0]-d)%h;b<=q&&b!==c[0];b+=h){c.push(b);}0!==c.length&&a.trimTicks(c);return c;},adjustForMinRange:function adjustForMinRange(){var a=this.options,b=this.min,e=this.max,h,c,q,d,f,n,m,l;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(t(a.min)||t(a.max)?this.minRange=null:(r(this.series,function(a){n=a.xData;for(d=m=a.xIncrement?1:n.length-1;0<d;d--){if(f=n[d]-n[d-1],void 0===q||f<q)q=f;}}),this.minRange=Math.min(5*q,this.dataMax-this.dataMin)));e-b<this.minRange&&(c=this.dataMax-this.dataMin>=this.minRange,l=this.minRange,h=(l-e+b)/2,h=[b-h,z(a.min,b-h)],c&&(h[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),b=F(h),e=[b+l,z(a.max,b+l)],c&&(e[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),e=p(e),e-b<l&&(h[0]=e-l,h[1]=z(a.min,e-l),b=F(h)));this.min=b;this.max=e;},getClosest:function getClosest(){var a;this.categories?a=1:r(this.series,function(b){var k=b.closestPointRange,h=b.visible||!b.chart.options.chart.ignoreHiddenSeries;!b.noSharedTooltip&&t(k)&&h&&(a=t(a)?Math.min(a,k):k);});return a;},nameToX:function nameToX(a){var k=n(this.categories),e=k?this.categories:this.names,h=a.options.x,c;a.series.requireSorting=!1;t(h)||(h=!1===this.options.uniqueNames?a.series.autoIncrement():k?b(a.name,e):z(e.keys[a.name],-1));-1===h?k||(c=e.length):c=h;void 0!==c&&(this.names[c]=a.name,this.names.keys[a.name]=c);return c;},updateNames:function updateNames(){var b=this,e=this.names;0<e.length&&(r(a.keys(e.keys),function(a){delete e.keys[a];}),e.length=0,this.minRange=this.userMinRange,r(this.series||[],function(a){a.xIncrement=null;if(!a.points||a.isDirtyData)a.processData(),a.generatePoints();r(a.points,function(h,k){var e;h.options&&(e=b.nameToX(h),void 0!==e&&e!==h.x&&(h.x=e,a.xData[k]=e));});}));},setAxisTranslation:function setAxisTranslation(a){var b=this,k=b.max-b.min,h=b.axisPointRange||0,e,q=0,d=0,f=b.linkedParent,n=!!b.categories,m=b.transA,l=b.isXAxis;if(l||n||h)e=b.getClosest(),f?(q=f.minPointOffset,d=f.pointRangePadding):r(b.series,function(a){var k=n?1:l?z(a.options.pointRange,e,0):b.axisPointRange||0;a=a.options.pointPlacement;h=Math.max(h,k);b.single||(q=Math.max(q,D(a)?0:k/2),d=Math.max(d,"on"===a?0:k));}),f=b.ordinalSlope&&e?b.ordinalSlope/e:1,b.minPointOffset=q*=f,b.pointRangePadding=d*=f,b.pointRange=Math.min(h,k),l&&(b.closestPointRange=e);a&&(b.oldTransA=m);b.translationSlope=b.transA=m=b.staticScale||b.len/(k+d||1);b.transB=b.horiz?b.left:b.bottom;b.minPixelPadding=m*q;c(this,"afterSetAxisTranslation");},minFromRange:function minFromRange(){return this.max-this.range;},setTickInterval:function setTickInterval(b){var k=this,q=k.chart,h=k.options,d=k.isLog,f=k.isDatetimeAxis,n=k.isXAxis,m=k.isLinked,C=h.maxPadding,D=h.minPadding,G=h.tickInterval,w=h.tickPixelInterval,u=k.categories,A=e(k.threshold)?k.threshold:null,I=k.softThreshold,J,p,v,x;f||u||m||this.getTickAmount();v=z(k.userMin,h.min);x=z(k.userMax,h.max);m?(k.linkedParent=q[k.coll][h.linkedTo],q=k.linkedParent.getExtremes(),k.min=z(q.min,q.dataMin),k.max=z(q.max,q.dataMax),h.type!==k.linkedParent.options.type&&a.error(11,1)):(!I&&t(A)&&(k.dataMin>=A?(J=A,D=0):k.dataMax<=A&&(p=A,C=0)),k.min=z(v,J,k.dataMin),k.max=z(x,p,k.dataMax));d&&(k.positiveValuesOnly&&!b&&0>=Math.min(k.min,z(k.dataMin,k.min))&&a.error(10,1),k.min=g(k.log2lin(k.min),15),k.max=g(k.log2lin(k.max),15));k.range&&t(k.max)&&(k.userMin=k.min=v=Math.max(k.dataMin,k.minFromRange()),k.userMax=x=k.max,k.range=null);c(k,"foundExtremes");k.beforePadding&&k.beforePadding();k.adjustForMinRange();!(u||k.axisPointRange||k.usePercentage||m)&&t(k.min)&&t(k.max)&&(q=k.max-k.min)&&(!t(v)&&D&&(k.min-=q*D),!t(x)&&C&&(k.max+=q*C));e(h.softMin)&&!e(k.userMin)&&(k.min=Math.min(k.min,h.softMin));e(h.softMax)&&!e(k.userMax)&&(k.max=Math.max(k.max,h.softMax));e(h.floor)&&(k.min=Math.max(k.min,h.floor));e(h.ceiling)&&(k.max=Math.min(k.max,h.ceiling));I&&t(k.dataMin)&&(A=A||0,!t(v)&&k.min<A&&k.dataMin>=A?k.min=A:!t(x)&&k.max>A&&k.dataMax<=A&&(k.max=A));k.tickInterval=k.min===k.max||void 0===k.min||void 0===k.max?1:m&&!G&&w===k.linkedParent.options.tickPixelInterval?G=k.linkedParent.tickInterval:z(G,this.tickAmount?(k.max-k.min)/Math.max(this.tickAmount-1,1):void 0,u?1:(k.max-k.min)*w/Math.max(k.len,w));n&&!b&&r(k.series,function(a){a.processData(k.min!==k.oldMin||k.max!==k.oldMax);});k.setAxisTranslation(!0);k.beforeSetTickPositions&&k.beforeSetTickPositions();k.postProcessTickInterval&&(k.tickInterval=k.postProcessTickInterval(k.tickInterval));k.pointRange&&!G&&(k.tickInterval=Math.max(k.pointRange,k.tickInterval));b=z(h.minTickInterval,k.isDatetimeAxis&&k.closestPointRange);!G&&k.tickInterval<b&&(k.tickInterval=b);f||d||G||(k.tickInterval=H(k.tickInterval,null,l(k.tickInterval),z(h.allowDecimals,!(.5<k.tickInterval&&5>k.tickInterval&&1E3<k.max&&9999>k.max)),!!this.tickAmount));this.tickAmount||(k.tickInterval=k.unsquish());this.setTickPositions();},setTickPositions:function setTickPositions(){var b=this.options,e,q=b.tickPositions;e=this.getMinorTickInterval();var h=b.tickPositioner,d=b.startOnTick,f=b.endOnTick;this.tickmarkOffset=this.categories&&"between"===b.tickmarkPlacement&&1===this.tickInterval?.5:0;this.minorTickInterval="auto"===e&&this.tickInterval?this.tickInterval/5:e;this.single=this.min===this.max&&t(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==b.allowDecimals);this.tickPositions=e=q&&q.slice();!e&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(e=[this.min,this.max],a.error(19)):e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,b.units),this.min,this.max,b.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()],e[0]===e[1]&&(e.length=1)),this.tickPositions=e,h&&(h=h.apply(this,[this.min,this.max])))&&(this.tickPositions=e=h);this.paddedTicks=e.slice(0);this.trimTicks(e,d,f);this.isLinked||(this.single&&2>e.length&&(this.min-=.5,this.max+=.5),q||h||this.adjustTickAmount());c(this,"afterSetTickPositions");},trimTicks:function trimTicks(a,b,e){var h=a[0],k=a[a.length-1],c=this.minPointOffset||0;if(!this.isLinked){if(b&&-Infinity!==h)this.min=h;else for(;this.min-c>a[0];){a.shift();}if(e)this.max=k;else for(;this.max+c<a[a.length-1];){a.pop();}0===a.length&&t(h)&&!this.options.tickPositions&&a.push((k+h)/2);}},alignToOthers:function alignToOthers(){var a={},b,e=this.options;!1===this.chart.options.chart.alignTicks||!1===e.alignTicks||!1===e.startOnTick||!1===e.endOnTick||this.isLog||r(this.chart[this.coll],function(h){var k=h.options,k=[h.horiz?k.left:k.top,k.width,k.height,k.pane].join();h.series.length&&(a[k]?b=!0:a[k]=1);});return b;},getTickAmount:function getTickAmount(){var a=this.options,b=a.tickAmount,e=a.tickPixelInterval;!t(a.tickInterval)&&this.len<e&&!this.isRadial&&!this.isLog&&a.startOnTick&&a.endOnTick&&(b=2);!b&&this.alignToOthers()&&(b=Math.ceil(this.len/e)+1);4>b&&(this.finalTickAmt=b,b=5);this.tickAmount=b;},adjustTickAmount:function adjustTickAmount(){var a=this.tickInterval,b=this.tickPositions,e=this.tickAmount,h=this.finalTickAmt,c=b&&b.length,q=z(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(c<e){for(;b.length<e;){b.length%2||this.min===q?b.push(g(b[b.length-1]+a)):b.unshift(g(b[0]-a));}this.transA*=(c-1)/(e-1);this.min=b[0];this.max=b[b.length-1];}else c>e&&(this.tickInterval*=2,this.setTickPositions());if(t(h)){for(a=e=b.length;a--;){(3===h&&1===a%2||2>=h&&0<a&&a<e-1)&&b.splice(a,1);}this.finalTickAmt=void 0;}}},setScale:function setScale(){var a,b;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();b=this.len!==this.oldAxisLength;r(this.series,function(b){if(b.isDirtyData||b.isDirty||b.xAxis.isDirty)a=!0;});b||a||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=b||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks();c(this,"afterSetScale");},setExtremes:function setExtremes(a,b,e,h,q){var k=this,d=k.chart;e=z(e,!0);r(k.series,function(a){delete a.kdTree;});q=f(q,{min:a,max:b});c(k,"setExtremes",q,function(){k.userMin=a;k.userMax=b;k.eventArgs=q;e&&d.redraw(h);});},zoom:function zoom(a,b){var k=this.dataMin,h=this.dataMax,e=this.options,c=Math.min(k,z(e.min,k)),e=Math.max(h,z(e.max,h));if(a!==this.min||b!==this.max)this.allowZoomOutside||(t(k)&&(a<c&&(a=c),a>e&&(a=e)),t(h)&&(b<c&&(b=c),b>e&&(b=e))),this.displayBtn=void 0!==a||void 0!==b,this.setExtremes(a,b,!1,void 0,{trigger:"zoom"});return!0;},setAxisSize:function setAxisSize(){var b=this.chart,e=this.options,c=e.offsets||[0,0,0,0],h=this.horiz,q=this.width=Math.round(a.relativeLength(z(e.width,b.plotWidth-c[3]+c[1]),b.plotWidth)),d=this.height=Math.round(a.relativeLength(z(e.height,b.plotHeight-c[0]+c[2]),b.plotHeight)),f=this.top=Math.round(a.relativeLength(z(e.top,b.plotTop+c[0]),b.plotHeight,b.plotTop)),e=this.left=Math.round(a.relativeLength(z(e.left,b.plotLeft+c[3]),b.plotWidth,b.plotLeft));this.bottom=b.chartHeight-d-f;this.right=b.chartWidth-q-e;this.len=Math.max(h?q:d,0);this.pos=h?e:f;},getExtremes:function getExtremes(){var a=this.isLog;return{min:a?g(this.lin2log(this.min)):this.min,max:a?g(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax};},getThreshold:function getThreshold(a){var b=this.isLog,k=b?this.lin2log(this.min):this.min,b=b?this.lin2log(this.max):this.max;null===a||-Infinity===a?a=k:Infinity===a?a=b:k>a?a=k:b<a&&(a=b);return this.translate(a,0,1,0,1);},autoLabelAlign:function autoLabelAlign(a){a=(z(a,0)-90*this.side+720)%360;return 15<a&&165>a?"right":195<a&&345>a?"left":"center";},tickSize:function tickSize(a){var b=this.options,e=b[a+"Length"],h=z(b[a+"Width"],"tick"===a&&this.isXAxis?1:0);if(h&&e)return"inside"===b[a+"Position"]&&(e=-e),[e,h];},labelMetrics:function labelMetrics(){var a=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[a]&&this.ticks[a].label);},unsquish:function unsquish(){var a=this.options.labels,b=this.horiz,e=this.tickInterval,h=e,c=this.len/(((this.categories?1:0)+this.max-this.min)/e),q,d=a.rotation,f=this.labelMetrics(),n,m=Number.MAX_VALUE,l,C=function C(a){a/=c||1;a=1<a?Math.ceil(a):1;return g(a*e);};b?(l=!a.staggerLines&&!a.step&&(t(d)?[d]:c<z(a.autoRotationLimit,80)&&a.autoRotation))&&r(l,function(a){var b;if(a===d||a&&-90<=a&&90>=a)n=C(Math.abs(f.h/Math.sin(x*a))),b=n+Math.abs(a/360),b<m&&(m=b,q=a,h=n);}):a.step||(h=C(f.h));this.autoRotation=l;this.labelRotation=z(q,d);return h;},getSlotWidth:function getSlotWidth(a){var b=this.chart,e=this.horiz,h=this.options.labels,k=Math.max(this.tickPositions.length-(this.categories?0:1),1),c=b.margin[3];return a&&a.slotWidth||e&&2>(h.step||0)&&!h.rotation&&(this.staggerLines||1)*this.len/k||!e&&(h.style&&parseInt(h.style.width,10)||c&&c-b.spacing[3]||.33*b.chartWidth);},renderUnsquish:function renderUnsquish(){var a=this.chart,b=a.renderer,e=this.tickPositions,h=this.ticks,c=this.options.labels,q=c&&c.style||{},d=this.horiz,f=this.getSlotWidth(),n=Math.max(1,Math.round(f-2*(c.padding||5))),m={},l=this.labelMetrics(),C=c.style&&c.style.textOverflow,G,g,w=0,u;D(c.rotation)||(m.rotation=c.rotation||0);r(e,function(a){(a=h[a])&&a.label&&a.label.textPxLength>w&&(w=a.label.textPxLength);});this.maxLabelLength=w;if(this.autoRotation)w>n&&w>l.h?m.rotation=this.labelRotation:this.labelRotation=0;else if(f&&(G=n,!C))for(g="clip",n=e.length;!d&&n--;){if(u=e[n],u=h[u].label)u.styles&&"ellipsis"===u.styles.textOverflow?u.css({textOverflow:"clip"}):u.textPxLength>f&&u.css({width:f+"px"}),u.getBBox().height>this.len/e.length-(l.h-l.f)&&(u.specificTextOverflow="ellipsis");}m.rotation&&(G=w>.5*a.chartHeight?.33*a.chartHeight:w,C||(g="ellipsis"));if(this.labelAlign=c.align||this.autoLabelAlign(this.labelRotation))m.align=this.labelAlign;r(e,function(a){var b=(a=h[a])&&a.label,e=q.width,k={};b&&(b.attr(m),a.shortenLabel?a.shortenLabel():G&&!e&&"nowrap"!==q.whiteSpace&&(G<b.textPxLength||"SPAN"===b.element.tagName)?(k.width=G,C||(k.textOverflow=b.specificTextOverflow||g),b.css(k)):b.styles&&b.styles.width&&!k.width&&!e&&b.css({width:null}),delete b.specificTextOverflow,a.rotation=m.rotation);},this);this.tickRotCorr=b.rotCorr(l.b,this.labelRotation||0,0!==this.side);},hasData:function hasData(){return this.hasVisibleSeries||t(this.min)&&t(this.max)&&this.tickPositions&&0<this.tickPositions.length;},addTitle:function addTitle(a){var b=this.chart.renderer,e=this.horiz,h=this.opposite,k=this.options.title,c;this.axisTitle||((c=k.textAlign)||(c=(e?{low:"left",middle:"center",high:"right"}:{low:h?"right":"left",middle:"center",high:h?"left":"right"})[k.align]),this.axisTitle=b.text(k.text,0,0,k.useHTML).attr({zIndex:7,rotation:k.rotation||0,align:c}).addClass("highcharts-axis-title").add(this.axisGroup),this.axisTitle.isNew=!0);this.axisTitle.css({width:this.len});this.axisTitle[a?"show":"hide"](!0);},generateTick:function generateTick(a){var b=this.ticks;b[a]?b[a].addLabel():b[a]=new I(this,a);},getOffset:function getOffset(){var a=this,b=a.chart,e=b.renderer,h=a.options,q=a.tickPositions,d=a.ticks,f=a.horiz,n=a.side,m=b.inverted&&!a.isZAxis?[1,0,3,2][n]:n,l,C,G=0,g,w=0,D=h.title,u=h.labels,I=0,J=b.axisOffset,b=b.clipOffset,H=[-1,1,1,-1][n],v=h.className,p=a.axisParent;l=a.hasData();a.showAxis=C=l||z(h.showEmpty,!0);a.staggerLines=a.horiz&&u.staggerLines;a.axisGroup||(a.gridGroup=e.g("grid").attr({zIndex:h.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(v||"")).add(p),a.axisGroup=e.g("axis").attr({zIndex:h.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(v||"")).add(p),a.labelGroup=e.g("axis-labels").attr({zIndex:u.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(v||"")).add(p));l||a.isLinked?(r(q,function(b,h){a.generateTick(b,h);}),a.renderUnsquish(),a.reserveSpaceDefault=0===n||2===n||{1:"left",3:"right"}[n]===a.labelAlign,z(u.reserveSpace,"center"===a.labelAlign?!0:null,a.reserveSpaceDefault)&&r(q,function(a){I=Math.max(d[a].getLabelSize(),I);}),a.staggerLines&&(I*=a.staggerLines),a.labelOffset=I*(a.opposite?-1:1)):A(d,function(a,b){a.destroy();delete d[b];});D&&D.text&&!1!==D.enabled&&(a.addTitle(C),C&&!1!==D.reserveSpace&&(a.titleOffset=G=a.axisTitle.getBBox()[f?"height":"width"],g=D.offset,w=t(g)?0:z(D.margin,f?5:10)));a.renderLine();a.offset=H*z(h.offset,J[n]);a.tickRotCorr=a.tickRotCorr||{x:0,y:0};e=0===n?-a.labelMetrics().h:2===n?a.tickRotCorr.y:0;w=Math.abs(I)+w;I&&(w=w-e+H*(f?z(u.y,a.tickRotCorr.y+8*H):u.x));a.axisTitleMargin=z(g,w);a.getMaxLabelDimensions&&(a.maxLabelDimensions=a.getMaxLabelDimensions(d,q));f=this.tickSize("tick");J[n]=Math.max(J[n],a.axisTitleMargin+G+H*a.offset,w,l&&q.length&&f?f[0]+H*a.offset:0);h=h.offset?0:2*Math.floor(a.axisLine.strokeWidth()/2);b[m]=Math.max(b[m],h);c(this,"afterGetOffset");},getLinePath:function getLinePath(a){var b=this.chart,e=this.opposite,h=this.offset,k=this.horiz,c=this.left+(e?this.width:0)+h,h=b.chartHeight-this.bottom-(e?this.height:0)+h;e&&(a*=-1);return b.renderer.crispLine(["M",k?this.left:c,k?h:this.top,"L",k?b.chartWidth-this.right:c,k?h:b.chartHeight-this.bottom],a);},renderLine:function renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup));},getTitlePosition:function getTitlePosition(){var a=this.horiz,b=this.left,e=this.top,h=this.len,c=this.options.title,q=a?b:e,d=this.opposite,f=this.offset,n=c.x||0,m=c.y||0,l=this.axisTitle,C=this.chart.renderer.fontMetrics(c.style&&c.style.fontSize,l),l=Math.max(l.getBBox(null,0).height-C.h-1,0),h={low:q+(a?0:h),middle:q+h/2,high:q+(a?h:0)}[c.align],b=(a?e+this.height:b)+(a?1:-1)*(d?-1:1)*this.axisTitleMargin+[-l,l,C.f,-l][this.side];return{x:a?h+n:b+(d?this.width:0)+f+n,y:a?b+m-(d?this.height:0)+f:h+m};},renderMinorTick:function renderMinorTick(a){var b=this.chart.hasRendered&&e(this.oldMin),c=this.minorTicks;c[a]||(c[a]=new I(this,a,"minor"));b&&c[a].isNew&&c[a].render(null,!0);c[a].render(null,!1,1);},renderTick:function renderTick(a,b){var c=this.isLinked,h=this.ticks,k=this.chart.hasRendered&&e(this.oldMin);if(!c||a>=this.min&&a<=this.max)h[a]||(h[a]=new I(this,a)),k&&h[a].isNew&&h[a].render(b,!0,-1),h[a].render(b);},render:function render(){var b=this,q=b.chart,d=b.options,h=b.isLog,f=b.isLinked,n=b.tickPositions,m=b.axisTitle,l=b.ticks,C=b.minorTicks,w=b.alternateBands,D=d.stackLabels,g=d.alternateGridColor,u=b.tickmarkOffset,z=b.axisLine,J=b.showAxis,H=E(q.renderer.globalAnimation),t,v;b.labelEdge.length=0;b.overlap=!1;r([l,C,w],function(a){A(a,function(a){a.isActive=!1;});});if(b.hasData()||f)b.minorTickInterval&&!b.categories&&r(b.getMinorTickPositions(),function(a){b.renderMinorTick(a);}),n.length&&(r(n,function(a,h){b.renderTick(a,h);}),u&&(0===b.min||b.single)&&(l[-1]||(l[-1]=new I(b,-1,null,!0)),l[-1].render(-1))),g&&r(n,function(e,c){v=void 0!==n[c+1]?n[c+1]+u:b.max-u;0===c%2&&e<b.max&&v<=b.max+(q.polar?-u:u)&&(w[e]||(w[e]=new a.PlotLineOrBand(b)),t=e+u,w[e].options={from:h?b.lin2log(t):t,to:h?b.lin2log(v):v,color:g},w[e].render(),w[e].isActive=!0);}),b._addedPlotLB||(r((d.plotLines||[]).concat(d.plotBands||[]),function(a){b.addPlotBandOrLine(a);}),b._addedPlotLB=!0);r([l,C,w],function(a){var b,h=[],e=H.duration;A(a,function(a,b){a.isActive||(a.render(b,!1,0),a.isActive=!1,h.push(b));});G(function(){for(b=h.length;b--;){a[h[b]]&&!a[h[b]].isActive&&(a[h[b]].destroy(),delete a[h[b]]);}},a!==w&&q.hasRendered&&e?e:0);});z&&(z[z.isPlaced?"animate":"attr"]({d:this.getLinePath(z.strokeWidth())}),z.isPlaced=!0,z[J?"show":"hide"](!0));m&&J&&(d=b.getTitlePosition(),e(d.y)?(m[m.isNew?"attr":"animate"](d),m.isNew=!1):(m.attr("y",-9999),m.isNew=!0));D&&D.enabled&&b.renderStackTotals();b.isDirty=!1;c(this,"afterRender");},redraw:function redraw(){this.visible&&(this.render(),r(this.plotLinesAndBands,function(a){a.render();}));r(this.series,function(a){a.isDirty=!0;});},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function destroy(a){var e=this,k=e.stacks,h=e.plotLinesAndBands,d;c(this,"destroy",{keepEvents:a});a||q(e);A(k,function(a,b){v(a);k[b]=null;});r([e.ticks,e.minorTicks,e.alternateBands],function(a){v(a);});if(h)for(a=h.length;a--;){h[a].destroy();}r("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" "),function(a){e[a]&&(e[a]=e[a].destroy());});for(d in e.plotLinesAndBandsGroups){e.plotLinesAndBandsGroups[d]=e.plotLinesAndBandsGroups[d].destroy();}A(e,function(a,h){-1===b(h,e.keepProps)&&delete e[h];});},drawCrosshair:function drawCrosshair(a,b){var e,h=this.crosshair,k=z(h.snap,!0),q,d=this.cross;c(this,"drawCrosshair",{e:a,point:b});a||(a=this.cross&&this.cross.e);if(this.crosshair&&!1!==(t(b)||!k)){k?t(b)&&(q=z(b.crosshairPos,this.isXAxis?b.plotX:this.len-b.plotY)):q=a&&(this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos);t(q)&&(e=this.getPlotLinePath(b&&(this.isXAxis?b.x:z(b.stackY,b.y)),null,null,null,q)||null);if(!t(e)){this.hideCrosshair();return;}k=this.categories&&!this.isRadial;d||(this.cross=d=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(k?"category ":"thin ")+h.className).attr({zIndex:z(h.zIndex,2)}).add());d.show().attr({d:e});k&&!h.width&&d.attr({"stroke-width":this.transA});this.cross.e=a;}else this.hideCrosshair();c(this,"afterDrawCrosshair",{e:a,point:b});},hideCrosshair:function hideCrosshair(){this.cross&&this.cross.hide();}});return a.Axis=J;}(L);(function(a){var B=a.Axis,E=a.getMagnitude,F=a.normalizeTickInterval,p=a.timeUnits;B.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments);};B.prototype.normalizeTimeTickInterval=function(a,d){var g=d||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];d=g[g.length-1];var x=p[d[0]],v=d[1],r;for(r=0;r<g.length&&!(d=g[r],x=p[d[0]],v=d[1],g[r+1]&&a<=(x*v[v.length-1]+p[g[r+1][0]])/2);r++){;}x===p.year&&a<5*x&&(v=[1,2,5]);a=F(a/x,v,"year"===d[0]?Math.max(E(a/x),1):1);return{unitRange:x,count:a,unitName:d[0]};};})(L);(function(a){var B=a.Axis,E=a.getMagnitude,F=a.map,p=a.normalizeTickInterval,g=a.pick;B.prototype.getLogTickPositions=function(a,t,x,v){var d=this.options,f=this.len,c=[];v||(this._minorAutoInterval=null);if(.5<=a)a=Math.round(a),c=this.getLinearTickPositions(a,t,x);else if(.08<=a)for(var f=Math.floor(t),u,l,m,b,n,d=.3<a?[1,2,4]:.15<a?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];f<x+1&&!n;f++){for(l=d.length,u=0;u<l&&!n;u++){m=this.log2lin(this.lin2log(f)*d[u]),m>t&&(!v||b<=x)&&void 0!==b&&c.push(b),b>x&&(n=!0),b=m;}}else t=this.lin2log(t),x=this.lin2log(x),a=v?this.getMinorTickInterval():d.tickInterval,a=g("auto"===a?null:a,this._minorAutoInterval,d.tickPixelInterval/(v?5:1)*(x-t)/((v?f/this.tickPositions.length:f)||1)),a=p(a,null,E(a)),c=F(this.getLinearTickPositions(a,t,x),this.log2lin),v||(this._minorAutoInterval=a/5);v||(this.tickInterval=a);return c;};B.prototype.log2lin=function(a){return Math.log(a)/Math.LN10;};B.prototype.lin2log=function(a){return Math.pow(10,a);};})(L);(function(a,B){var E=a.arrayMax,F=a.arrayMin,p=a.defined,g=a.destroyObjectProperties,d=a.each,t=a.erase,x=a.merge,v=a.pick;a.PlotLineOrBand=function(a,d){this.axis=a;d&&(this.options=d,this.id=d.id);};a.PlotLineOrBand.prototype={render:function render(){a.fireEvent(this,"render");var d=this,f=d.axis,c=f.horiz,g=d.options,l=g.label,m=d.label,b=g.to,n=g.from,e=g.value,D=p(n)&&p(b),w=p(e),H=d.svgElem,A=!H,z=[],q=v(g.zIndex,0),C=g.events,z={"class":"highcharts-plot-"+(D?"band ":"line ")+(g.className||"")},G={},I=f.chart.renderer,J=D?"bands":"lines",k;f.isLog&&(n=f.log2lin(n),b=f.log2lin(b),e=f.log2lin(e));G.zIndex=q;J+="-"+q;(k=f.plotLinesAndBandsGroups[J])||(f.plotLinesAndBandsGroups[J]=k=I.g("plot-"+J).attr(G).add());A&&(d.svgElem=H=I.path().attr(z).add(k));if(w)z=f.getPlotLinePath(e,H.strokeWidth());else if(D)z=f.getPlotBandPath(n,b,g);else return;A&&z&&z.length?(H.attr({d:z}),C&&a.objectEach(C,function(a,b){H.on(b,function(a){C[b].apply(d,[a]);});})):H&&(z?(H.show(),H.animate({d:z})):(H.hide(),m&&(d.label=m=m.destroy())));l&&p(l.text)&&z&&z.length&&0<f.width&&0<f.height&&!z.isFlat?(l=x({align:c&&D&&"center",x:c?!D&&4:10,verticalAlign:!c&&D&&"middle",y:c?D?16:10:D?6:-4,rotation:c&&!D&&90},l),this.renderLabel(l,z,D,q)):m&&m.hide();return d;},renderLabel:function renderLabel(a,d,c,g){var f=this.label,m=this.axis.chart.renderer;f||(f={align:a.textAlign||a.align,rotation:a.rotation,"class":"highcharts-plot-"+(c?"band":"line")+"-label "+(a.className||"")},f.zIndex=g,this.label=f=m.text(a.text,0,0,a.useHTML).attr(f).add());g=d.xBounds||[d[1],d[4],c?d[6]:d[1]];d=d.yBounds||[d[2],d[5],c?d[7]:d[2]];c=F(g);m=F(d);f.align(a,!1,{x:c,y:m,width:E(g)-c,height:E(d)-m});f.show();},destroy:function destroy(){t(this.axis.plotLinesAndBands,this);delete this.axis;g(this);}};a.extend(B.prototype,{getPlotBandPath:function getPlotBandPath(a,d){var c=this.getPlotLinePath(d,null,null,!0),f=this.getPlotLinePath(a,null,null,!0),l=[],m=this.horiz,b=1,n;a=a<this.min&&d<this.min||a>this.max&&d>this.max;if(f&&c)for(a&&(n=f.toString()===c.toString(),b=0),a=0;a<f.length;a+=6){m&&c[a+1]===f[a+1]?(c[a+1]+=b,c[a+4]+=b):m||c[a+2]!==f[a+2]||(c[a+2]+=b,c[a+5]+=b),l.push("M",f[a+1],f[a+2],"L",f[a+4],f[a+5],c[a+4],c[a+5],c[a+1],c[a+2],"z"),l.isFlat=n;}return l;},addPlotBand:function addPlotBand(a){return this.addPlotBandOrLine(a,"plotBands");},addPlotLine:function addPlotLine(a){return this.addPlotBandOrLine(a,"plotLines");},addPlotBandOrLine:function addPlotBandOrLine(d,f){var c=new a.PlotLineOrBand(this,d).render(),g=this.userOptions;c&&(f&&(g[f]=g[f]||[],g[f].push(d)),this.plotLinesAndBands.push(c));return c;},removePlotBandOrLine:function removePlotBandOrLine(a){for(var f=this.plotLinesAndBands,c=this.options,g=this.userOptions,l=f.length;l--;){f[l].id===a&&f[l].destroy();}d([c.plotLines||[],g.plotLines||[],c.plotBands||[],g.plotBands||[]],function(c){for(l=c.length;l--;){c[l].id===a&&t(c,c[l]);}});},removePlotBand:function removePlotBand(a){this.removePlotBandOrLine(a);},removePlotLine:function removePlotLine(a){this.removePlotBandOrLine(a);}});})(L,W);(function(a){var B=a.doc,E=a.each,F=a.extend,p=a.format,g=a.isNumber,d=a.map,t=a.merge,x=a.pick,v=a.splat,r=a.syncTimeout,f=a.timeUnits;a.Tooltip=function(){this.init.apply(this,arguments);};a.Tooltip.prototype={init:function init(a,d){this.chart=a;this.options=d;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.split=d.split&&!a.inverted;this.shared=d.shared||this.split;this.outside=d.outside&&!this.split;},cleanSplit:function cleanSplit(a){E(this.chart.series,function(c){var d=c&&c.tt;d&&(!d.isActive||a?c.tt=d.destroy():d.isActive=!1);});},applyFilter:function applyFilter(){var a=this.chart;a.renderer.definition({tagName:"filter",id:"drop-shadow-"+a.index,opacity:.5,children:[{tagName:"feGaussianBlur","in":"SourceAlpha",stdDeviation:1},{tagName:"feOffset",dx:1,dy:1},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",type:"linear",slope:.3}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode","in":"SourceGraphic"}]}]});a.renderer.definition({tagName:"style",textContent:".highcharts-tooltip-"+a.index+"{filter:url(#drop-shadow-"+a.index+")}"});},getLabel:function getLabel(){var c=this.chart.renderer,d=this.options,f;this.label||(this.outside&&(this.container=f=a.doc.createElement("div"),f.className="highcharts-tooltip-container",a.css(f,{position:"absolute",top:"1px",pointerEvents:d.style&&d.style.pointerEvents}),a.doc.body.appendChild(f),this.renderer=c=new a.Renderer(f,0,0)),this.label=this.split?c.g("tooltip"):c.label("",0,0,d.shape||"callout",null,null,d.useHTML,null,"tooltip").attr({padding:d.padding,r:d.borderRadius}),this.applyFilter(),this.label.addClass("highcharts-tooltip-"+this.chart.index),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(a){f.style.left=a+"px";},this.label.ySetter=function(a){f.style.top=a+"px";}),this.label.attr({zIndex:8}).add());return this.label;},update:function update(a){this.destroy();t(!0,this.chart.options.tooltip.userOptions,a);this.init(this.chart,t(!0,this.options,a));},destroy:function destroy(){this.label&&(this.label=this.label.destroy());this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy());this.renderer&&(this.renderer=this.renderer.destroy(),a.discardElement(this.container));a.clearTimeout(this.hideTimer);a.clearTimeout(this.tooltipTimeout);},move:function move(c,d,f,m){var b=this,n=b.now,e=!1!==b.options.animation&&!b.isHidden&&(1<Math.abs(c-n.x)||1<Math.abs(d-n.y)),l=b.followPointer||1<b.len;F(n,{x:e?(2*n.x+c)/3:c,y:e?(n.y+d)/2:d,anchorX:l?void 0:e?(2*n.anchorX+f)/3:f,anchorY:l?void 0:e?(n.anchorY+m)/2:m});b.getLabel().attr(n);e&&(a.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){b&&b.move(c,d,f,m);},32));},hide:function hide(c){var d=this;a.clearTimeout(this.hideTimer);c=x(c,this.options.hideDelay,500);this.isHidden||(this.hideTimer=r(function(){d.getLabel()[c?"fadeOut":"hide"]();d.isHidden=!0;},c));},getAnchor:function getAnchor(a,f){var c=this.chart,m=c.pointer,b=c.inverted,n=c.plotTop,e=c.plotLeft,g=0,w=0,u,A;a=v(a);this.followPointer&&f?(void 0===f.chartX&&(f=m.normalize(f)),a=[f.chartX-c.plotLeft,f.chartY-n]):a[0].tooltipPos?a=a[0].tooltipPos:(E(a,function(a){u=a.series.yAxis;A=a.series.xAxis;g+=a.plotX+(!b&&A?A.left-e:0);w+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!b&&u?u.top-n:0);}),g/=a.length,w/=a.length,a=[b?c.plotWidth-w:g,this.shared&&!b&&1<a.length&&f?f.chartY-n:b?c.plotHeight-g:w]);return d(a,Math.round);},getPosition:function getPosition(a,d,f){var c=this.chart,b=this.distance,n={},e=c.inverted&&f.h||0,l,g=this.outside,u=g?B.documentElement.clientWidth-2*b:c.chartWidth,A=g?Math.max(B.body.scrollHeight,B.documentElement.scrollHeight,B.body.offsetHeight,B.documentElement.offsetHeight,B.documentElement.clientHeight):c.chartHeight,z=c.pointer.chartPosition,q=["y",A,d,(g?z.top-b:0)+f.plotY+c.plotTop,g?0:c.plotTop,g?A:c.plotTop+c.plotHeight],C=["x",u,a,(g?z.left-b:0)+f.plotX+c.plotLeft,g?0:c.plotLeft,g?u:c.plotLeft+c.plotWidth],G=!this.followPointer&&x(f.ttBelow,!c.inverted===!!f.negative),I=function I(a,h,c,d,k,q){var f=c<d-b,m=d+b+c<h,g=d-b-c;d+=b;if(G&&m)n[a]=d;else if(!G&&f)n[a]=g;else if(f)n[a]=Math.min(q-c,0>g-e?g:g-e);else if(m)n[a]=Math.max(k,d+e+c>h?d:d+e);else return!1;},J=function J(a,h,e,c){var d;c<b||c>h-b?d=!1:n[a]=c<e/2?1:c>h-e/2?h-e-2:c-e/2;return d;},k=function k(a){var b=q;q=C;C=b;l=a;},y=function y(){!1!==I.apply(0,q)?!1!==J.apply(0,C)||l||(k(!0),y()):l?n.x=n.y=0:(k(!0),y());};(c.inverted||1<this.len)&&k();y();return n;},defaultFormatter:function defaultFormatter(a){var c=this.points||v(this),d;d=[a.tooltipFooterHeaderFormatter(c[0])];d=d.concat(a.bodyFormatter(c));d.push(a.tooltipFooterHeaderFormatter(c[0],!0));return d;},refresh:function refresh(c,d){var f,m=this.options,b=c,n,e={},g=[];f=m.formatter||this.defaultFormatter;var e=this.shared,w;m.enabled&&(a.clearTimeout(this.hideTimer),this.followPointer=v(b)[0].series.tooltipOptions.followPointer,n=this.getAnchor(b,d),d=n[0],m=n[1],!e||b.series&&b.series.noSharedTooltip?e=b.getLabelConfig():(E(b,function(a){a.setState("hover");g.push(a.getLabelConfig());}),e={x:b[0].category,y:b[0].y},e.points=g,b=b[0]),this.len=g.length,e=f.call(e,this),w=b.series,this.distance=x(w.tooltipOptions.distance,16),!1===e?this.hide():(f=this.getLabel(),this.isHidden&&f.attr({opacity:1}).show(),this.split?this.renderSplit(e,v(c)):(f.css({width:this.chart.spacingBox.width}),f.attr({text:e&&e.join?e.join(""):e}),f.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+x(b.colorIndex,w.colorIndex)),this.updatePosition({plotX:d,plotY:m,negative:b.negative,ttBelow:b.ttBelow,h:n[2]||0})),this.isHidden=!1));},renderSplit:function renderSplit(c,d){var f=this,m=[],b=this.chart,n=b.renderer,e=!0,g=this.options,w=0,u,A=this.getLabel(),z=b.plotTop;a.isString(c)&&(c=[!1,c]);E(c.slice(0,d.length+1),function(a,c){if(!1!==a){c=d[c-1]||{isHeader:!0,plotX:d[0].plotX};var q=c.series||f,C=q.tt,l="highcharts-color-"+x(c.colorIndex,(c.series||{}).colorIndex,"none");C||(q.tt=C=n.label(null,null,null,"callout",null,null,g.useHTML).addClass("highcharts-tooltip-box "+l+(c.isHeader?" highcharts-tooltip-header":"")).attr({padding:g.padding,r:g.borderRadius}).add(A));C.isActive=!0;C.attr({text:a});a=C.getBBox();l=a.width+C.strokeWidth();c.isHeader?(w=a.height,b.xAxis[0].opposite&&(u=!0,z-=w),l=Math.max(0,Math.min(c.plotX+b.plotLeft-l/2,b.chartWidth+(b.scrollablePixels?b.scrollablePixels-b.marginRight:0)-l))):l=c.plotX+b.plotLeft-x(g.distance,16)-l;0>l&&(e=!1);a=(c.series&&c.series.yAxis&&c.series.yAxis.pos)+(c.plotY||0);a-=z;c.isHeader&&(a=u?-w:b.plotHeight+w);m.push({target:a,rank:c.isHeader?1:0,size:q.tt.getBBox().height+1,point:c,x:l,tt:C});}});this.cleanSplit();a.distribute(m,b.plotHeight+w);E(m,function(a){var c=a.point,d=c.series;a.tt.attr({visibility:void 0===a.pos?"hidden":"inherit",x:e||c.isHeader?a.x:c.plotX+b.plotLeft+x(g.distance,16),y:a.pos+z,anchorX:c.isHeader?c.plotX+b.plotLeft:c.plotX+d.xAxis.pos,anchorY:c.isHeader?b.plotTop+b.plotHeight/2:c.plotY+d.yAxis.pos});});},updatePosition:function updatePosition(a){var c=this.chart,d=this.getLabel(),f=(this.options.positioner||this.getPosition).call(this,d.width,d.height,a),b=a.plotX+c.plotLeft;a=a.plotY+c.plotTop;var n;this.outside&&(n=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(d.width+n,d.height+n,!1),b+=c.pointer.chartPosition.left-f.x,a+=c.pointer.chartPosition.top-f.y);this.move(Math.round(f.x),Math.round(f.y||0),b,a);},getDateFormat:function getDateFormat(a,d,g,m){var b=this.chart.time,c=b.dateFormat("%m-%d %H:%M:%S.%L",d),e,l,w={millisecond:15,second:12,minute:9,hour:6,day:3},u="millisecond";for(l in f){if(a===f.week&&+b.dateFormat("%w",d)===g&&"00:00:00.000"===c.substr(6)){l="week";break;}if(f[l]>a){l=u;break;}if(w[l]&&c.substr(w[l])!=="01-01 00:00:00.000".substr(w[l]))break;"week"!==l&&(u=l);}l&&(e=b.resolveDTLFormat(m[l]).main);return e;},getXDateFormat:function getXDateFormat(a,d,f){d=d.dateTimeLabelFormats;var c=f&&f.closestPointRange;return(c?this.getDateFormat(c,a.x,f.options.startOfWeek,d):d.day)||d.year;},tooltipFooterHeaderFormatter:function tooltipFooterHeaderFormatter(a,d){d=d?"footer":"header";var c=a.series,f=c.tooltipOptions,b=f.xDateFormat,n=c.xAxis,e=n&&"datetime"===n.options.type&&g(a.key),D=f[d+"Format"];e&&!b&&(b=this.getXDateFormat(a,f,n));e&&b&&E(a.point&&a.point.tooltipDateKeys||["key"],function(a){D=D.replace("{point."+a+"}","{point."+a+":"+b+"}");});return p(D,{point:a,series:c},this.chart.time);},bodyFormatter:function bodyFormatter(a){return d(a,function(a){var c=a.series.tooltipOptions;return(c[(a.point.formatPrefix||"point")+"Formatter"]||a.point.tooltipFormatter).call(a.point,c[(a.point.formatPrefix||"point")+"Format"]);});}};})(L);(function(a){var B=a.addEvent,E=a.attr,F=a.charts,p=a.css,g=a.defined,d=a.each,t=a.extend,x=a.find,v=a.fireEvent,r=a.isNumber,f=a.isObject,c=a.offset,u=a.pick,l=a.splat,m=a.Tooltip;a.Pointer=function(a,c){this.init(a,c);};a.Pointer.prototype={init:function init(a,c){this.options=c;this.chart=a;this.runChartClick=c.chart.events&&!!c.chart.events.click;this.pinchDown=[];this.lastValidTouch={};m&&(a.tooltip=new m(a,c.tooltip),this.followTouchMove=u(c.tooltip.followTouchMove,!0));this.setDOMEvents();},zoomOption:function zoomOption(a){var b=this.chart,e=b.options.chart,c=e.zoomType||"",b=b.inverted;/touch/.test(a.type)&&(c=u(e.pinchType,c));this.zoomX=a=/x/.test(c);this.zoomY=c=/y/.test(c);this.zoomHor=a&&!b||c&&b;this.zoomVert=c&&!b||a&&b;this.hasZoom=a||c;},normalize:function normalize(a,d){var b;b=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a;d||(this.chartPosition=d=c(this.chart.container));return t(a,{chartX:Math.round(b.pageX-d.left),chartY:Math.round(b.pageY-d.top)});},getCoordinates:function getCoordinates(a){var b={xAxis:[],yAxis:[]};d(this.chart.axes,function(e){b[e.isXAxis?"xAxis":"yAxis"].push({axis:e,value:e.toValue(a[e.horiz?"chartX":"chartY"])});});return b;},findNearestKDPoint:function findNearestKDPoint(a,c,e){var b;d(a,function(a){var d=!(a.noSharedTooltip&&c)&&0>a.options.findNearestPointBy.indexOf("y");a=a.searchPoint(e,d);if((d=f(a,!0))&&!(d=!f(b,!0)))var d=b.distX-a.distX,n=b.dist-a.dist,m=(a.series.group&&a.series.group.zIndex)-(b.series.group&&b.series.group.zIndex),d=0<(0!==d&&c?d:0!==n?n:0!==m?m:b.series.index>a.series.index?-1:1);d&&(b=a);});return b;},getPointFromEvent:function getPointFromEvent(a){a=a.target;for(var b;a&&!b;){b=a.point,a=a.parentNode;}return b;},getChartCoordinatesFromPoint:function getChartCoordinatesFromPoint(a,c){var b=a.series,d=b.xAxis,b=b.yAxis,f=u(a.clientX,a.plotX),n=a.shapeArgs;if(d&&b)return c?{chartX:d.len+d.pos-f,chartY:b.len+b.pos-a.plotY}:{chartX:f+d.pos,chartY:a.plotY+b.pos};if(n&&n.x&&n.y)return{chartX:n.x,chartY:n.y};},getHoverData:function getHoverData(b,c,e,m,g,l,A){var n,q=[],C=A&&A.isBoosting;m=!(!m||!b);A=c&&!c.stickyTracking?[c]:a.grep(e,function(a){return a.visible&&!(!g&&a.directTouch)&&u(a.options.enableMouseTracking,!0)&&a.stickyTracking;});c=(n=m?b:this.findNearestKDPoint(A,g,l))&&n.series;n&&(g&&!c.noSharedTooltip?(A=a.grep(e,function(a){return a.visible&&!(!g&&a.directTouch)&&u(a.options.enableMouseTracking,!0)&&!a.noSharedTooltip;}),d(A,function(a){var b=x(a.points,function(a){return a.x===n.x&&!a.isNull;});f(b)&&(C&&(b=a.getPoint(b)),q.push(b));})):q.push(n));return{hoverPoint:n,hoverSeries:c,hoverPoints:q};},runPointActions:function runPointActions(b,c){var e=this.chart,f=e.tooltip&&e.tooltip.options.enabled?e.tooltip:void 0,n=f?f.shared:!1,m=c||e.hoverPoint,g=m&&m.series||e.hoverSeries,g=this.getHoverData(m,g,e.series,"touchmove"!==b.type&&(!!c||g&&g.directTouch&&this.isDirectTouch),n,b,{isBoosting:e.isBoosting}),l,m=g.hoverPoint;l=g.hoverPoints;c=(g=g.hoverSeries)&&g.tooltipOptions.followPointer;n=n&&g&&!g.noSharedTooltip;if(m&&(m!==e.hoverPoint||f&&f.isHidden)){d(e.hoverPoints||[],function(b){-1===a.inArray(b,l)&&b.setState();});d(l||[],function(a){a.setState("hover");});if(e.hoverSeries!==g)g.onMouseOver();e.hoverPoint&&e.hoverPoint.firePointEvent("mouseOut");if(!m.series)return;m.firePointEvent("mouseOver");e.hoverPoints=l;e.hoverPoint=m;f&&f.refresh(n?l:m,b);}else c&&f&&!f.isHidden&&(m=f.getAnchor([{}],b),f.updatePosition({plotX:m[0],plotY:m[1]}));this.unDocMouseMove||(this.unDocMouseMove=B(e.container.ownerDocument,"mousemove",function(b){var e=F[a.hoverChartIndex];if(e)e.pointer.onDocumentMouseMove(b);}));d(e.axes,function(e){var c=u(e.crosshair.snap,!0),d=c?a.find(l,function(a){return a.series[e.coll]===e;}):void 0;d||!c?e.drawCrosshair(b,d):e.hideCrosshair();});},reset:function reset(a,c){var b=this.chart,f=b.hoverSeries,m=b.hoverPoint,n=b.hoverPoints,g=b.tooltip,u=g&&g.shared?n:m;a&&u&&d(l(u),function(b){b.series.isCartesian&&void 0===b.plotX&&(a=!1);});if(a)g&&u&&(g.refresh(u),g.shared&&n?d(n,function(a){a.setState(a.state,!0);a.series.isCartesian&&(a.series.xAxis.crosshair&&a.series.xAxis.drawCrosshair(null,a),a.series.yAxis.crosshair&&a.series.yAxis.drawCrosshair(null,a));}):m&&(m.setState(m.state,!0),d(b.axes,function(a){a.crosshair&&a.drawCrosshair(null,m);})));else{if(m)m.onMouseOut();n&&d(n,function(a){a.setState();});if(f)f.onMouseOut();g&&g.hide(c);this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove());d(b.axes,function(a){a.hideCrosshair();});this.hoverX=b.hoverPoints=b.hoverPoint=null;}},scaleGroups:function scaleGroups(a,c){var b=this.chart,f;d(b.series,function(e){f=a||e.getPlotBox();e.xAxis&&e.xAxis.zoomEnabled&&e.group&&(e.group.attr(f),e.markerGroup&&(e.markerGroup.attr(f),e.markerGroup.clip(c?b.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(f));});b.clipRect.attr(c||b.clipBox);},dragStart:function dragStart(a){var b=this.chart;b.mouseIsDown=a.type;b.cancelClick=!1;b.mouseDownX=this.mouseDownX=a.chartX;b.mouseDownY=this.mouseDownY=a.chartY;},drag:function drag(a){var b=this.chart,e=b.options.chart,c=a.chartX,d=a.chartY,f=this.zoomHor,m=this.zoomVert,g=b.plotLeft,q=b.plotTop,l=b.plotWidth,G=b.plotHeight,u,J=this.selectionMarker,k=this.mouseDownX,y=this.mouseDownY,t=e.panKey&&a[e.panKey+"Key"];J&&J.touch||(c<g?c=g:c>g+l&&(c=g+l),d<q?d=q:d>q+G&&(d=q+G),this.hasDragged=Math.sqrt(Math.pow(k-c,2)+Math.pow(y-d,2)),10<this.hasDragged&&(u=b.isInsidePlot(k-g,y-q),b.hasCartesianSeries&&(this.zoomX||this.zoomY)&&u&&!t&&!J&&(this.selectionMarker=J=b.renderer.rect(g,q,f?1:l,m?1:G,0).attr({"class":"highcharts-selection-marker",zIndex:7}).add()),J&&f&&(c-=k,J.attr({width:Math.abs(c),x:(0<c?0:c)+k})),J&&m&&(c=d-y,J.attr({height:Math.abs(c),y:(0<c?0:c)+y})),u&&!J&&e.panning&&b.pan(a,e.panning)));},drop:function drop(a){var b=this,e=this.chart,c=this.hasPinched;if(this.selectionMarker){var f={originalEvent:a,xAxis:[],yAxis:[]},m=this.selectionMarker,l=m.attr?m.attr("x"):m.x,u=m.attr?m.attr("y"):m.y,q=m.attr?m.attr("width"):m.width,C=m.attr?m.attr("height"):m.height,G;if(this.hasDragged||c)d(e.axes,function(e){if(e.zoomEnabled&&g(e.min)&&(c||b[{xAxis:"zoomX",yAxis:"zoomY"}[e.coll]])){var d=e.horiz,k="touchend"===a.type?e.minPixelPadding:0,m=e.toValue((d?l:u)+k),d=e.toValue((d?l+q:u+C)-k);f[e.coll].push({axis:e,min:Math.min(m,d),max:Math.max(m,d)});G=!0;}}),G&&v(e,"selection",f,function(a){e.zoom(t(a,c?{animation:!1}:null));});r(e.index)&&(this.selectionMarker=this.selectionMarker.destroy());c&&this.scaleGroups();}e&&r(e.index)&&(p(e.container,{cursor:e._cursor}),e.cancelClick=10<this.hasDragged,e.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[]);},onContainerMouseDown:function onContainerMouseDown(a){a=this.normalize(a);2!==a.button&&(this.zoomOption(a),a.preventDefault&&a.preventDefault(),this.dragStart(a));},onDocumentMouseUp:function onDocumentMouseUp(b){F[a.hoverChartIndex]&&F[a.hoverChartIndex].pointer.drop(b);},onDocumentMouseMove:function onDocumentMouseMove(a){var b=this.chart,e=this.chartPosition;a=this.normalize(a,e);!e||this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)||this.reset();},onContainerMouseLeave:function onContainerMouseLeave(b){var c=F[a.hoverChartIndex];c&&(b.relatedTarget||b.toElement)&&(c.pointer.reset(),c.pointer.chartPosition=null);},onContainerMouseMove:function onContainerMouseMove(b){var c=this.chart;g(a.hoverChartIndex)&&F[a.hoverChartIndex]&&F[a.hoverChartIndex].mouseIsDown||(a.hoverChartIndex=c.index);b=this.normalize(b);b.returnValue=!1;"mousedown"===c.mouseIsDown&&this.drag(b);!this.inClass(b.target,"highcharts-tracker")&&!c.isInsidePlot(b.chartX-c.plotLeft,b.chartY-c.plotTop)||c.openMenu||this.runPointActions(b);},inClass:function inClass(a,c){for(var b;a;){if(b=E(a,"class")){if(-1!==b.indexOf(c))return!0;if(-1!==b.indexOf("highcharts-container"))return!1;}a=a.parentNode;}},onTrackerMouseOut:function onTrackerMouseOut(a){var b=this.chart.hoverSeries;a=a.relatedTarget||a.toElement;this.isDirectTouch=!1;if(!(!b||!a||b.stickyTracking||this.inClass(a,"highcharts-tooltip")||this.inClass(a,"highcharts-series-"+b.index)&&this.inClass(a,"highcharts-tracker")))b.onMouseOut();},onContainerClick:function onContainerClick(a){var b=this.chart,e=b.hoverPoint,c=b.plotLeft,d=b.plotTop;a=this.normalize(a);b.cancelClick||(e&&this.inClass(a.target,"highcharts-tracker")?(v(e.series,"click",t(a,{point:e})),b.hoverPoint&&e.firePointEvent("click",a)):(t(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-c,a.chartY-d)&&v(b,"click",a)));},setDOMEvents:function setDOMEvents(){var b=this,c=b.chart.container,e=c.ownerDocument;c.onmousedown=function(a){b.onContainerMouseDown(a);};c.onmousemove=function(a){b.onContainerMouseMove(a);};c.onclick=function(a){b.onContainerClick(a);};this.unbindContainerMouseLeave=B(c,"mouseleave",b.onContainerMouseLeave);a.unbindDocumentMouseUp||(a.unbindDocumentMouseUp=B(e,"mouseup",b.onDocumentMouseUp));a.hasTouch&&(c.ontouchstart=function(a){b.onContainerTouchStart(a);},c.ontouchmove=function(a){b.onContainerTouchMove(a);},a.unbindDocumentTouchEnd||(a.unbindDocumentTouchEnd=B(e,"touchend",b.onDocumentTouchEnd)));},destroy:function destroy(){var b=this;b.unDocMouseMove&&b.unDocMouseMove();this.unbindContainerMouseLeave();a.chartCount||(a.unbindDocumentMouseUp&&(a.unbindDocumentMouseUp=a.unbindDocumentMouseUp()),a.unbindDocumentTouchEnd&&(a.unbindDocumentTouchEnd=a.unbindDocumentTouchEnd()));clearInterval(b.tooltipTimeout);a.objectEach(b,function(a,c){b[c]=null;});}};})(L);(function(a){var B=a.charts,E=a.each,F=a.extend,p=a.map,g=a.noop,d=a.pick;F(a.Pointer.prototype,{pinchTranslate:function pinchTranslate(a,d,g,r,f,c){this.zoomHor&&this.pinchTranslateDirection(!0,a,d,g,r,f,c);this.zoomVert&&this.pinchTranslateDirection(!1,a,d,g,r,f,c);},pinchTranslateDirection:function pinchTranslateDirection(a,d,g,r,f,c,u,l){var m=this.chart,b=a?"x":"y",n=a?"X":"Y",e="chart"+n,D=a?"width":"height",w=m["plot"+(a?"Left":"Top")],t,A,z=l||1,q=m.inverted,C=m.bounds[a?"h":"v"],G=1===d.length,I=d[0][e],J=g[0][e],k=!G&&d[1][e],y=!G&&g[1][e],p;g=function g(){!G&&20<Math.abs(I-k)&&(z=l||Math.abs(J-y)/Math.abs(I-k));A=(w-J)/z+I;t=m["plot"+(a?"Width":"Height")]/z;};g();d=A;d<C.min?(d=C.min,p=!0):d+t>C.max&&(d=C.max-t,p=!0);p?(J-=.8*(J-u[b][0]),G||(y-=.8*(y-u[b][1])),g()):u[b]=[J,y];q||(c[b]=A-w,c[D]=t);c=q?1/z:z;f[D]=t;f[b]=d;r[q?a?"scaleY":"scaleX":"scale"+n]=z;r["translate"+n]=c*w+(J-c*I);},pinch:function pinch(a){var t=this,v=t.chart,r=t.pinchDown,f=a.touches,c=f.length,u=t.lastValidTouch,l=t.hasZoom,m=t.selectionMarker,b={},n=1===c&&(t.inClass(a.target,"highcharts-tracker")&&v.runTrackerClick||t.runChartClick),e={};1<c&&(t.initiated=!0);l&&t.initiated&&!n&&a.preventDefault();p(f,function(a){return t.normalize(a);});"touchstart"===a.type?(E(f,function(a,b){r[b]={chartX:a.chartX,chartY:a.chartY};}),u.x=[r[0].chartX,r[1]&&r[1].chartX],u.y=[r[0].chartY,r[1]&&r[1].chartY],E(v.axes,function(a){if(a.zoomEnabled){var b=v.bounds[a.horiz?"h":"v"],c=a.minPixelPadding,e=a.toPixels(d(a.options.min,a.dataMin)),f=a.toPixels(d(a.options.max,a.dataMax)),q=Math.max(e,f);b.min=Math.min(a.pos,Math.min(e,f)-c);b.max=Math.max(a.pos+a.len,q+c);}}),t.res=!0):t.followTouchMove&&1===c?this.runPointActions(t.normalize(a)):r.length&&(m||(t.selectionMarker=m=F({destroy:g,touch:!0},v.plotBox)),t.pinchTranslate(r,f,b,m,e,u),t.hasPinched=l,t.scaleGroups(b,e),t.res&&(t.res=!1,this.reset(!1,0)));},touch:function touch(g,p){var t=this.chart,r,f;if(t.index!==a.hoverChartIndex)this.onContainerMouseLeave({relatedTarget:!0});a.hoverChartIndex=t.index;1===g.touches.length?(g=this.normalize(g),(f=t.isInsidePlot(g.chartX-t.plotLeft,g.chartY-t.plotTop))&&!t.openMenu?(p&&this.runPointActions(g),"touchmove"===g.type&&(p=this.pinchDown,r=p[0]?4<=Math.sqrt(Math.pow(p[0].chartX-g.chartX,2)+Math.pow(p[0].chartY-g.chartY,2)):!1),d(r,!0)&&this.pinch(g)):p&&this.reset()):2===g.touches.length&&this.pinch(g);},onContainerTouchStart:function onContainerTouchStart(a){this.zoomOption(a);this.touch(a,!0);},onContainerTouchMove:function onContainerTouchMove(a){this.touch(a);},onDocumentTouchEnd:function onDocumentTouchEnd(d){B[a.hoverChartIndex]&&B[a.hoverChartIndex].pointer.drop(d);}});})(L);(function(a){var B=a.addEvent,E=a.charts,F=a.css,p=a.doc,g=a.extend,d=a.noop,t=a.Pointer,x=a.removeEvent,v=a.win,r=a.wrap;if(!a.hasTouch&&(v.PointerEvent||v.MSPointerEvent)){var f={},c=!!v.PointerEvent,u=function u(){var c=[];c.item=function(a){return this[a];};a.objectEach(f,function(a){c.push({pageX:a.pageX,pageY:a.pageY,target:a.target});});return c;},l=function l(c,b,f,e){"touch"!==c.pointerType&&c.pointerType!==c.MSPOINTER_TYPE_TOUCH||!E[a.hoverChartIndex]||(e(c),e=E[a.hoverChartIndex].pointer,e[b]({type:f,target:c.currentTarget,preventDefault:d,touches:u()}));};g(t.prototype,{onContainerPointerDown:function onContainerPointerDown(a){l(a,"onContainerTouchStart","touchstart",function(a){f[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget};});},onContainerPointerMove:function onContainerPointerMove(a){l(a,"onContainerTouchMove","touchmove",function(a){f[a.pointerId]={pageX:a.pageX,pageY:a.pageY};f[a.pointerId].target||(f[a.pointerId].target=a.currentTarget);});},onDocumentPointerUp:function onDocumentPointerUp(a){l(a,"onDocumentTouchEnd","touchend",function(a){delete f[a.pointerId];});},batchMSEvents:function batchMSEvents(a){a(this.chart.container,c?"pointerdown":"MSPointerDown",this.onContainerPointerDown);a(this.chart.container,c?"pointermove":"MSPointerMove",this.onContainerPointerMove);a(p,c?"pointerup":"MSPointerUp",this.onDocumentPointerUp);}});r(t.prototype,"init",function(a,b,c){a.call(this,b,c);this.hasZoom&&F(b.container,{"-ms-touch-action":"none","touch-action":"none"});});r(t.prototype,"setDOMEvents",function(a){a.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(B);});r(t.prototype,"destroy",function(a){this.batchMSEvents(x);a.call(this);});}})(L);(function(a){var B=a.addEvent,E=a.css,F=a.discardElement,p=a.defined,g=a.each,d=a.fireEvent,t=a.isFirefox,x=a.marginNames,v=a.merge,r=a.pick,f=a.setAnimation,c=a.stableSort,u=a.win,l=a.wrap;a.Legend=function(a,b){this.init(a,b);};a.Legend.prototype={init:function init(a,b){this.chart=a;this.setOptions(b);b.enabled&&(this.render(),B(this.chart,"endResize",function(){this.legend.positionCheckboxes();}),this.proximate?this.unchartrender=B(this.chart,"render",function(){this.legend.proximatePositions();this.legend.positionItems();}):this.unchartrender&&this.unchartrender());},setOptions:function setOptions(a){var b=r(a.padding,8);this.options=a;this.itemMarginTop=a.itemMarginTop||0;this.padding=b;this.initialItemY=b-5;this.symbolWidth=r(a.symbolWidth,16);this.pages=[];this.proximate="proximate"===a.layout&&!this.chart.inverted;},update:function update(a,b){var c=this.chart;this.setOptions(v(!0,this.options,a));this.destroy();c.isDirtyLegend=c.isDirtyBox=!0;r(b,!0)&&c.redraw();d(this,"afterUpdate");},colorizeItem:function colorizeItem(a,b){a.legendGroup[b?"removeClass":"addClass"]("highcharts-legend-item-hidden");d(this,"afterColorizeItem",{item:a,visible:b});},positionItems:function positionItems(){g(this.allItems,this.positionItem,this);this.chart.isResizing||this.positionCheckboxes();},positionItem:function positionItem(a){var b=this.options,c=b.symbolPadding,b=!b.rtl,e=a._legendItemPos,d=e[0],e=e[1],f=a.checkbox;if((a=a.legendGroup)&&a.element)a[p(a.translateY)?"animate":"attr"]({translateX:b?d:this.legendWidth-d-2*c-4,translateY:e});f&&(f.x=d,f.y=e);},destroyItem:function destroyItem(a){var b=a.checkbox;g(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy());});b&&F(a.checkbox);},destroy:function destroy(){function a(a){this[a]&&(this[a]=this[a].destroy());}g(this.getAllItems(),function(b){g(["legendItem","legendGroup"],a,b);});g("clipRect up down pager nav box title group".split(" "),a,this);this.display=null;},positionCheckboxes:function positionCheckboxes(){var a=this.group&&this.group.alignAttr,b,c=this.clipHeight||this.legendHeight,e=this.titleHeight;a&&(b=a.translateY,g(this.allItems,function(d){var f=d.checkbox,g;f&&(g=b+e+f.y+(this.scrollOffset||0)+3,E(f,{left:a.translateX+d.checkboxOffset+f.x-20+"px",top:g+"px",display:this.proximate||g>b-6&&g<b+c-6?"":"none"}));},this));},renderTitle:function renderTitle(){var a=this.options,b=this.padding,c=a.title,e=0;c.text&&(this.title||(this.title=this.chart.renderer.label(c.text,b-3,b-4,null,null,null,a.useHTML,null,"legend-title").attr({zIndex:1}).add(this.group)),a=this.title.getBBox(),e=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:e}));this.titleHeight=e;},setText:function setText(c){var b=this.options;c.legendItem.attr({text:b.labelFormat?a.format(b.labelFormat,c,this.chart.time):b.labelFormatter.call(c)});},renderItem:function renderItem(a){var b=this.chart,c=b.renderer,e=this.options,d=this.symbolWidth,f=e.symbolPadding,g="horizontal"===e.layout?r(e.itemDistance,20):0,l=!e.rtl,m=a.legendItem,q=!a.series,C=!q&&a.series.drawLegendSymbol?a.series:a,G=C.options,G=this.createCheckboxForItem&&G&&G.showCheckbox,g=d+f+g+(G?20:0),u=e.useHTML,t=a.options.className;m||(a.legendGroup=c.g("legend-item").addClass("highcharts-"+C.type+"-series highcharts-color-"+a.colorIndex+(t?" "+t:"")+(q?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.legendItem=m=c.text("",l?d+f:-f,this.baseline||0,u).attr({align:l?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(this.fontMetrics=c.fontMetrics(12,m),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,m.attr("y",this.baseline)),this.symbolHeight=e.symbolHeight||this.fontMetrics.f,C.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,m,u),G&&this.createCheckboxForItem(a));this.colorizeItem(a,a.visible);m.css({width:(e.itemWidth||e.width||b.spacingBox.width)-g});this.setText(a);b=m.getBBox();a.itemWidth=a.checkboxOffset=e.itemWidth||a.legendItemWidth||b.width+g;this.maxItemWidth=Math.max(this.maxItemWidth,a.itemWidth);this.totalItemWidth+=a.itemWidth;this.itemHeight=a.itemHeight=Math.round(a.legendItemHeight||b.height||this.symbolHeight);},layoutItem:function layoutItem(a){var b=this.options,c=this.padding,e="horizontal"===b.layout,d=a.itemHeight,f=b.itemMarginBottom||0,g=this.itemMarginTop,l=e?r(b.itemDistance,20):0,m=b.width,q=m||this.chart.spacingBox.width-2*c-b.x,b=b.alignColumns&&this.totalItemWidth>q?this.maxItemWidth:a.itemWidth;e&&this.itemX-c+b>q&&(this.itemX=c,this.itemY+=g+this.lastLineHeight+f,this.lastLineHeight=0);this.lastItemY=g+this.itemY+f;this.lastLineHeight=Math.max(d,this.lastLineHeight);a._legendItemPos=[this.itemX,this.itemY];e?this.itemX+=b:(this.itemY+=g+d+f,this.lastLineHeight=d);this.offsetWidth=m||Math.max((e?this.itemX-c-(a.checkbox?0:l):b)+c,this.offsetWidth);},getAllItems:function getAllItems(){var a=[];g(this.chart.series,function(b){var c=b&&b.options;b&&r(c.showInLegend,p(c.linkedTo)?!1:void 0,!0)&&(a=a.concat(b.legendItems||("point"===c.legendType?b.data:b)));});d(this,"afterGetAllItems",{allItems:a});return a;},getAlignment:function getAlignment(){var a=this.options;return this.proximate?a.align.charAt(0)+"tv":a.floating?"":a.align.charAt(0)+a.verticalAlign.charAt(0)+a.layout.charAt(0);},adjustMargins:function adjustMargins(a,b){var c=this.chart,e=this.options,d=this.getAlignment();d&&g([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(f,g){f.test(d)&&!p(a[g])&&(c[x[g]]=Math.max(c[x[g]],c.legend[(g+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][g]*e[g%2?"x":"y"]+r(e.margin,12)+b[g]+(0===g&&void 0!==c.options.title.margin?c.titleOffset+c.options.title.margin:0)));});},proximatePositions:function proximatePositions(){var c=this.chart,b=[],d="left"===this.options.align;g(this.allItems,function(e){var f,g;f=d;e.xAxis&&e.points&&(e.xAxis.options.reversed&&(f=!f),f=a.find(f?e.points:e.points.slice(0).reverse(),function(b){return a.isNumber(b.plotY);}),g=e.legendGroup.getBBox().height,b.push({target:e.visible?(f?f.plotY:e.xAxis.height)-.3*g:c.plotHeight,size:g,item:e}));},this);a.distribute(b,c.plotHeight);g(b,function(a){a.item._legendItemPos[1]=c.plotTop-c.spacing[0]+a.pos;});},render:function render(){var a=this.chart,b=a.renderer,d=this.group,e,f,l,u=this.box,A=this.options,z=this.padding;this.itemX=z;this.itemY=this.initialItemY;this.lastItemY=this.offsetWidth=0;d||(this.group=d=b.g("legend").attr({zIndex:7}).add(),this.contentGroup=b.g().attr({zIndex:1}).add(d),this.scrollGroup=b.g().add(this.contentGroup));this.renderTitle();e=this.getAllItems();c(e,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0);});A.reversed&&e.reverse();this.allItems=e;this.display=f=!!e.length;this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0;g(e,this.renderItem,this);g(e,this.layoutItem,this);e=(A.width||this.offsetWidth)+z;l=this.lastItemY+this.lastLineHeight+this.titleHeight;l=this.handleOverflow(l);l+=z;u||(this.box=u=b.rect().addClass("highcharts-legend-box").attr({r:A.borderRadius}).add(d),u.isNew=!0);0<e&&0<l&&(u[u.isNew?"attr":"animate"](u.crisp.call({},{x:0,y:0,width:e,height:l},u.strokeWidth())),u.isNew=!1);u[f?"show":"hide"]();"none"===d.getStyle("display")&&(e=l=0);this.legendWidth=e;this.legendHeight=l;f&&(b=a.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(b=v(b,{y:b.y+a.titleOffset+a.options.title.margin})),d.align(v(A,{width:e,height:l,verticalAlign:this.proximate?"top":A.verticalAlign}),!0,b));this.proximate||this.positionItems();},handleOverflow:function handleOverflow(a){var b=this,c=this.chart,e=c.renderer,d=this.options,f=d.y,l=this.padding,c=c.spacingBox.height+("top"===d.verticalAlign?-f:f)-l,f=d.maxHeight,m,u=this.clipRect,q=d.navigation,C=r(q.animation,!0),G=q.arrowSize||12,I=this.nav,t=this.pages,k,y=this.allItems,p=function p(a){"number"===typeof a?u.attr({height:a}):u&&(b.clipRect=u.destroy(),b.contentGroup.clip());b.contentGroup.div&&(b.contentGroup.div.style.clip=a?"rect("+l+"px,9999px,"+(l+a)+"px,0)":"auto");};"horizontal"!==d.layout||"middle"===d.verticalAlign||d.floating||(c/=2);f&&(c=Math.min(c,f));t.length=0;a>c&&!1!==q.enabled?(this.clipHeight=m=Math.max(c-20-this.titleHeight-l,0),this.currentPage=r(this.currentPage,1),this.fullHeight=a,g(y,function(a,b){var c=a._legendItemPos[1],h=Math.round(a.legendItem.getBBox().height),e=t.length;if(!e||c-t[e-1]>m&&(k||c)!==t[e-1])t.push(k||c),e++;a.pageIx=e-1;k&&(y[b-1].pageIx=e-1);b===y.length-1&&c+h-t[e-1]>m&&(t.push(c),a.pageIx=e);c!==k&&(k=c);}),u||(u=b.clipRect=e.clipRect(0,l,9999,0),b.contentGroup.clip(u)),p(m),I||(this.nav=I=e.g().attr({zIndex:1}).add(this.group),this.up=e.symbol("triangle",0,0,G,G).on("click",function(){b.scroll(-1,C);}).add(I),this.pager=e.text("",15,10).addClass("highcharts-legend-navigation").add(I),this.down=e.symbol("triangle-down",0,0,G,G).on("click",function(){b.scroll(1,C);}).add(I)),b.scroll(0),a=c):I&&(p(),this.nav=I.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0);return a;},scroll:function scroll(a,b){var c=this.pages,e=c.length;a=this.currentPage+a;var d=this.clipHeight,g=this.pager,l=this.padding;a>e&&(a=e);0<a&&(void 0!==b&&f(b,this.chart),this.nav.attr({translateX:l,translateY:d+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),g.attr({text:a+"/"+e}),this.down.attr({x:18+this.pager.getBBox().width,"class":a===e?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.scrollOffset=-c[a-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=a,this.positionCheckboxes());}};a.LegendSymbolMixin={drawRectangle:function drawRectangle(a,b){var c=a.symbolHeight,e=a.options.squareSymbol;b.legendSymbol=this.chart.renderer.rect(e?(a.symbolWidth-c)/2:0,a.baseline-c+1,e?c:a.symbolWidth,c,r(a.options.symbolRadius,c/2)).addClass("highcharts-point").attr({zIndex:3}).add(b.legendGroup);},drawLineMarker:function drawLineMarker(a){var b=this.options.marker,c,e=a.symbolWidth,d=a.symbolHeight;c=d/2;var f=this.chart.renderer,g=this.legendGroup;a=a.baseline-Math.round(.3*a.fontMetrics.b);this.legendLine=f.path(["M",0,a,"L",e,a]).addClass("highcharts-graph").attr({}).add(g);b&&!1!==b.enabled&&e&&(c=Math.min(r(b.radius,c),c),0===this.symbol.indexOf("url")&&(b=v(b,{width:d,height:d}),c=0),this.legendSymbol=b=f.symbol(this.symbol,e/2-c,a-c,2*c,2*c,b).addClass("highcharts-point").add(g),b.isMarker=!0);}};(/Trident\/7\.0/.test(u.navigator.userAgent)||t)&&l(a.Legend.prototype,"positionItem",function(a,b){var c=this,e=function e(){b._legendItemPos&&a.call(c,b);};e();setTimeout(e);});})(L);(function(a){var B=a.addEvent,E=a.animObject,F=a.attr,p=a.doc,g=a.Axis,d=a.createElement,t=a.defaultOptions,x=a.discardElement,v=a.charts,r=a.defined,f=a.each,c=a.extend,u=a.find,l=a.fireEvent,m=a.grep,b=a.isNumber,n=a.isObject,e=a.isString,D=a.Legend,w=a.marginNames,H=a.merge,A=a.objectEach,z=a.Pointer,q=a.pick,C=a.pInt,G=a.removeEvent,I=a.seriesTypes,J=a.splat,k=a.syncTimeout,y=a.win,O=a.Chart=function(){this.getArgs.apply(this,arguments);};a.chart=function(a,b,c){return new O(a,b,c);};c(O.prototype,{callbacks:[],getArgs:function getArgs(){var a=[].slice.call(arguments);if(e(a[0])||a[0].nodeName)this.renderTo=a.shift();this.init(a[0],a[1]);},init:function init(b,c){var e,h,d=b.series,f=b.plotOptions||{};l(this,"init",{args:arguments},function(){b.series=null;e=H(t,b);for(h in e.plotOptions){e.plotOptions[h].tooltip=f[h]&&H(f[h].tooltip)||void 0;}e.tooltip.userOptions=b.chart&&b.chart.forExport&&b.tooltip.userOptions||b.tooltip;e.series=b.series=d;this.userOptions=b;var k=e.chart,q=k.events;this.margin=[];this.spacing=[];this.bounds={h:{},v:{}};this.labelCollectors=[];this.callback=c;this.isResizing=0;this.options=e;this.axes=[];this.series=[];this.time=b.time&&a.keys(b.time).length?new a.Time(b.time):a.time;this.hasCartesianSeries=k.showAxes;var g=this;g.index=v.length;v.push(g);a.chartCount++;q&&A(q,function(a,b){B(g,b,a);});g.xAxis=[];g.yAxis=[];g.pointCount=g.colorCounter=g.symbolCounter=0;l(g,"afterInit");g.firstRender();});},initSeries:function initSeries(b){var c=this.options.chart;(c=I[b.type||c.type||c.defaultSeriesType])||a.error(17,!0);c=new c();c.init(this,b);return c;},orderSeries:function orderSeries(a){var b=this.series;for(a=a||0;a<b.length;a++){b[a]&&(b[a].index=a,b[a].name=b[a].getName());}},isInsidePlot:function isInsidePlot(a,b,c){var e=c?b:a;a=c?a:b;return 0<=e&&e<=this.plotWidth&&0<=a&&a<=this.plotHeight;},redraw:function redraw(b){l(this,"beforeRedraw");var e=this.axes,h=this.series,d=this.pointer,k=this.legend,q=this.userOptions.legend,g=this.isDirtyLegend,C,G,m=this.hasCartesianSeries,n=this.isDirtyBox,u,y=this.renderer,w=y.isHidden(),z=[];this.setResponsive&&this.setResponsive(!1);a.setAnimation(b,this);w&&this.temporaryDisplay();this.layOutTitles();for(b=h.length;b--;){if(u=h[b],u.options.stacking&&(C=!0,u.isDirty)){G=!0;break;}}if(G)for(b=h.length;b--;){u=h[b],u.options.stacking&&(u.isDirty=!0);}f(h,function(a){a.isDirty&&("point"===a.options.legendType?(a.updateTotals&&a.updateTotals(),g=!0):q&&(q.labelFormatter||q.labelFormat)&&(g=!0));a.isDirtyData&&l(a,"updatedData");});g&&k&&k.options.enabled&&(k.render(),this.isDirtyLegend=!1);C&&this.getStacks();m&&f(e,function(a){a.updateNames();a.updateYNames&&a.updateYNames();a.setScale();});this.getMargins();m&&(f(e,function(a){a.isDirty&&(n=!0);}),f(e,function(a){var b=a.min+","+a.max;a.extKey!==b&&(a.extKey=b,z.push(function(){l(a,"afterSetExtremes",c(a.eventArgs,a.getExtremes()));delete a.eventArgs;}));(n||C)&&a.redraw();}));n&&this.drawChartBox();l(this,"predraw");f(h,function(a){(n||a.isDirty)&&a.visible&&a.redraw();a.isDirtyData=!1;});d&&d.reset(!0);y.draw();l(this,"redraw");l(this,"render");w&&this.temporaryDisplay(!0);f(z,function(a){a.call();});},get:function get(a){function b(b){return b.id===a||b.options&&b.options.id===a;}var c,e=this.series,h;c=u(this.axes,b)||u(this.series,b);for(h=0;!c&&h<e.length;h++){c=u(e[h].points||[],b);}return c;},getAxes:function getAxes(){var a=this,b=this.options,c=b.xAxis=J(b.xAxis||{}),b=b.yAxis=J(b.yAxis||{});l(this,"getAxes");f(c,function(a,b){a.index=b;a.isX=!0;});f(b,function(a,b){a.index=b;});c=c.concat(b);f(c,function(b){new g(a,b);});l(this,"afterGetAxes");},getSelectedPoints:function getSelectedPoints(){var a=[];f(this.series,function(b){a=a.concat(m(b.data||[],function(a){return a.selected;}));});return a;},getSelectedSeries:function getSelectedSeries(){return m(this.series,function(a){return a.selected;});},setTitle:function setTitle(a,b,c){var e=this,h=e.options,d;d=h.title=H(h.title,a);h=h.subtitle=H(h.subtitle,b);f([["title",a,d],["subtitle",b,h]],function(a,b){var c=a[0],h=e[c],d=a[1];a=a[2];h&&d&&(e[c]=h=h.destroy());a&&!h&&(e[c]=e.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+c,zIndex:a.zIndex||4}).add(),e[c].update=function(a){e.setTitle(!b&&a,b&&a);});});e.layOutTitles(c);},layOutTitles:function layOutTitles(a){var b=0,e,h=this.renderer,d=this.spacingBox;f(["title","subtitle"],function(a){var e=this[a],f=this.options[a];a="title"===a?-3:f.verticalAlign?0:b+2;var k;e&&(k=h.fontMetrics(k,e).b,e.css({width:(f.width||d.width+f.widthAdjust)+"px"}).align(c({y:a+k},f),!1,"spacingBox"),f.floating||f.verticalAlign||(b=Math.ceil(b+e.getBBox(f.useHTML).height)));},this);e=this.titleOffset!==b;this.titleOffset=b;!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&q(a,!0)&&this.isDirtyBox&&this.redraw());},getChartSize:function getChartSize(){var b=this.options.chart,c=b.width,b=b.height,e=this.renderTo;r(c)||(this.containerWidth=a.getStyle(e,"width"));r(b)||(this.containerHeight=a.getStyle(e,"height"));this.chartWidth=Math.max(0,c||this.containerWidth||600);this.chartHeight=Math.max(0,a.relativeLength(b,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400));},temporaryDisplay:function temporaryDisplay(b){var c=this.renderTo;if(b)for(;c&&c.style;){c.hcOrigStyle&&(a.css(c,c.hcOrigStyle),delete c.hcOrigStyle),c.hcOrigDetached&&(p.body.removeChild(c),c.hcOrigDetached=!1),c=c.parentNode;}else for(;c&&c.style;){p.body.contains(c)||c.parentNode||(c.hcOrigDetached=!0,p.body.appendChild(c));if("none"===a.getStyle(c,"display",!1)||c.hcOricDetached)c.hcOrigStyle={display:c.style.display,height:c.style.height,overflow:c.style.overflow},b={display:"block",overflow:"hidden"},c!==this.renderTo&&(b.height=0),a.css(c,b),c.offsetWidth||c.style.setProperty("display","block","important");c=c.parentNode;if(c===p.body)break;}},setClassName:function setClassName(a){this.container.className="highcharts-container "+(a||"");},getContainer:function getContainer(){var c,f=this.options,k=f.chart,q,g;c=this.renderTo;var G=a.uniqueKey(),m;c||(this.renderTo=c=k.renderTo);e(c)&&(this.renderTo=c=p.getElementById(c));c||a.error(13,!0);q=C(F(c,"data-highcharts-chart"));b(q)&&v[q]&&v[q].hasRendered&&v[q].destroy();F(c,"data-highcharts-chart",this.index);c.innerHTML="";k.skipClone||c.offsetWidth||this.temporaryDisplay();this.getChartSize();q=this.chartWidth;g=this.chartHeight;this.container=c=d("div",{id:G},void 0,c);this._cursor=c.style.cursor;this.renderer=new(a[k.renderer]||a.Renderer)(c,q,g,null,k.forExport,f.exporting&&f.exporting.allowHTML);this.setClassName(k.className);for(m in f.defs){this.renderer.definition(f.defs[m]);}this.renderer.chartIndex=this.index;l(this,"afterGetContainer");},getMargins:function getMargins(a){var b=this.spacing,c=this.margin,e=this.titleOffset;this.resetMargins();e&&!r(c[0])&&(this.plotTop=Math.max(this.plotTop,e+this.options.title.margin+b[0]));this.legend&&this.legend.display&&this.legend.adjustMargins(c,b);l(this,"getMargins");a||this.getAxisMargins();},getAxisMargins:function getAxisMargins(){var a=this,b=a.axisOffset=[0,0,0,0],c=a.margin;a.hasCartesianSeries&&f(a.axes,function(a){a.visible&&a.getOffset();});f(w,function(e,d){r(c[d])||(a[e]+=b[d]);});a.setChartSize();},reflow:function reflow(b){var c=this,e=c.options.chart,d=c.renderTo,h=r(e.width)&&r(e.height),f=e.width||a.getStyle(d,"width"),e=e.height||a.getStyle(d,"height"),d=b?b.target:y;if(!h&&!c.isPrinting&&f&&e&&(d===y||d===p)){if(f!==c.containerWidth||e!==c.containerHeight)a.clearTimeout(c.reflowTimeout),c.reflowTimeout=k(function(){c.container&&c.setSize(void 0,void 0,!1);},b?100:0);c.containerWidth=f;c.containerHeight=e;}},setReflow:function setReflow(a){var b=this;!1===a||this.unbindReflow?!1===a&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=B(y,"resize",function(a){b.reflow(a);}),B(this,"destroy",this.unbindReflow));},setSize:function setSize(b,c,e){var d=this,h=d.renderer;d.isResizing+=1;a.setAnimation(e,d);d.oldChartHeight=d.chartHeight;d.oldChartWidth=d.chartWidth;void 0!==b&&(d.options.chart.width=b);void 0!==c&&(d.options.chart.height=c);d.getChartSize();d.setChartSize(!0);h.setSize(d.chartWidth,d.chartHeight,e);f(d.axes,function(a){a.isDirty=!0;a.setScale();});d.isDirtyLegend=!0;d.isDirtyBox=!0;d.layOutTitles();d.getMargins();d.redraw(e);d.oldChartHeight=null;l(d,"resize");k(function(){d&&l(d,"endResize",null,function(){--d.isResizing;});},E(void 0).duration);},setChartSize:function setChartSize(a){var b=this.inverted,c=this.renderer,e=this.chartWidth,d=this.chartHeight,h=this.options.chart,k=this.spacing,q=this.clipOffset,g,C,G,m;this.plotLeft=g=Math.round(this.plotLeft);this.plotTop=C=Math.round(this.plotTop);this.plotWidth=G=Math.max(0,Math.round(e-g-this.marginRight));this.plotHeight=m=Math.max(0,Math.round(d-C-this.marginBottom));this.plotSizeX=b?m:G;this.plotSizeY=b?G:m;this.plotBorderWidth=h.plotBorderWidth||0;this.spacingBox=c.spacingBox={x:k[3],y:k[0],width:e-k[3]-k[1],height:d-k[0]-k[2]};this.plotBox=c.plotBox={x:g,y:C,width:G,height:m};e=2*Math.floor(this.plotBorderWidth/2);b=Math.ceil(Math.max(e,q[3])/2);c=Math.ceil(Math.max(e,q[0])/2);this.clipBox={x:b,y:c,width:Math.floor(this.plotSizeX-Math.max(e,q[1])/2-b),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(e,q[2])/2-c))};a||f(this.axes,function(a){a.setAxisSize();a.setAxisTranslation();});l(this,"afterSetChartSize",{skipAxes:a});},resetMargins:function resetMargins(){var a=this,b=a.options.chart;f(["margin","spacing"],function(c){var e=b[c],d=n(e)?e:[e,e,e,e];f(["Top","Right","Bottom","Left"],function(e,h){a[c][h]=q(b[c+e],d[h]);});});f(w,function(b,c){a[b]=q(a.margin[c],a.spacing[c]);});a.axisOffset=[0,0,0,0];a.clipOffset=[0,0,0,0];},drawChartBox:function drawChartBox(){var a=this.options.chart,b=this.renderer,c=this.chartWidth,e=this.chartHeight,d=this.chartBackground,f=this.plotBackground,k=this.plotBorder,q,g,C=this.plotLeft,G=this.plotTop,m=this.plotWidth,n=this.plotHeight,u=this.plotBox,y=this.clipRect,w=this.clipBox,z="animate";d||(this.chartBackground=d=b.rect().addClass("highcharts-background").add(),z="attr");q=g=d.strokeWidth();d[z]({x:g/2,y:g/2,width:c-g-q%2,height:e-g-q%2,r:a.borderRadius});z="animate";f||(z="attr",this.plotBackground=f=b.rect().addClass("highcharts-plot-background").add());f[z](u);y?y.animate({width:w.width,height:w.height}):this.clipRect=b.clipRect(w);z="animate";k||(z="attr",this.plotBorder=k=b.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add());k[z](k.crisp({x:C,y:G,width:m,height:n},-k.strokeWidth()));this.isDirtyBox=!1;l(this,"afterDrawChartBox");},propFromSeries:function propFromSeries(){var a=this,b=a.options.chart,c,e=a.options.series,d,k;f(["inverted","angular","polar"],function(h){c=I[b.type||b.defaultSeriesType];k=b[h]||c&&c.prototype[h];for(d=e&&e.length;!k&&d--;){(c=I[e[d].type])&&c.prototype[h]&&(k=!0);}a[h]=k;});},linkSeries:function linkSeries(){var a=this,b=a.series;f(b,function(a){a.linkedSeries.length=0;});f(b,function(b){var c=b.options.linkedTo;e(c)&&(c=":previous"===c?a.series[b.index-1]:a.get(c))&&c.linkedParent!==b&&(c.linkedSeries.push(b),b.linkedParent=c,b.visible=q(b.options.visible,c.options.visible,b.visible));});l(this,"afterLinkSeries");},renderSeries:function renderSeries(){f(this.series,function(a){a.translate();a.render();});},renderLabels:function renderLabels(){var a=this,b=a.options.labels;b.items&&f(b.items,function(e){var d=c(b.style,e.style),h=C(d.left)+a.plotLeft,f=C(d.top)+a.plotTop+12;delete d.left;delete d.top;a.renderer.text(e.html,h,f).attr({zIndex:2}).css(d).add();});},render:function render(){var a=this.axes,b=this.renderer,c=this.options,e,d,k;this.setTitle();this.legend=new D(this,c.legend);this.getStacks&&this.getStacks();this.getMargins(!0);this.setChartSize();c=this.plotWidth;e=this.plotHeight=Math.max(this.plotHeight-21,0);f(a,function(a){a.setScale();});this.getAxisMargins();d=1.1<c/this.plotWidth;k=1.05<e/this.plotHeight;if(d||k)f(a,function(a){(a.horiz&&d||!a.horiz&&k)&&a.setTickInterval(!0);}),this.getMargins();this.drawChartBox();this.hasCartesianSeries&&f(a,function(a){a.visible&&a.render();});this.seriesGroup||(this.seriesGroup=b.g("series-group").attr({zIndex:3}).add());this.renderSeries();this.renderLabels();this.addCredits();this.setResponsive&&this.setResponsive();this.hasRendered=!0;},addCredits:function addCredits(a){var b=this;a=H(!0,this.options.credits,a);a.enabled&&!this.credits&&(this.credits=this.renderer.text(a.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){a.href&&(y.location.href=a.href);}).attr({align:a.position.align,zIndex:8}).add().align(a.position),this.credits.update=function(a){b.credits=b.credits.destroy();b.addCredits(a);});},destroy:function destroy(){var b=this,c=b.axes,e=b.series,d=b.container,k,q=d&&d.parentNode;l(b,"destroy");b.renderer.forExport?a.erase(v,b):v[b.index]=void 0;a.chartCount--;b.renderTo.removeAttribute("data-highcharts-chart");G(b);for(k=c.length;k--;){c[k]=c[k].destroy();}this.scroller&&this.scroller.destroy&&this.scroller.destroy();for(k=e.length;k--;){e[k]=e[k].destroy();}f("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(a){var c=b[a];c&&c.destroy&&(b[a]=c.destroy());});d&&(d.innerHTML="",G(d),q&&x(d));A(b,function(a,c){delete b[c];});},firstRender:function firstRender(){var a=this,b=a.options;if(!a.isReadyToRender||a.isReadyToRender()){a.getContainer();a.resetMargins();a.setChartSize();a.propFromSeries();a.getAxes();f(b.series||[],function(b){a.initSeries(b);});a.linkSeries();l(a,"beforeRender");z&&(a.pointer=new z(a,b));a.render();if(!a.renderer.imgCount&&a.onload)a.onload();a.temporaryDisplay(!0);}},onload:function onload(){f([this.callback].concat(this.callbacks),function(a){a&&void 0!==this.index&&a.apply(this,[this]);},this);l(this,"load");l(this,"render");r(this.index)&&this.setReflow(this.options.chart.reflow);this.onload=null;}});})(L);(function(a){var B=a.addEvent,E=a.Chart,F=a.each;B(E,"afterSetChartSize",function(p){var g=this.options.chart.scrollablePlotArea;(g=g&&g.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=g=Math.max(0,g-this.chartWidth))&&(this.plotWidth+=g,this.clipBox.width+=g,p.skipAxes||F(this.axes,function(d){1===d.side?d.getPlotLinePath=function(){var g=this.right,p;this.right=g-d.chart.scrollablePixels;p=a.Axis.prototype.getPlotLinePath.apply(this,arguments);this.right=g;return p;}:(d.setAxisSize(),d.setAxisTranslation());}));});B(E,"render",function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed();});E.prototype.setUpScrolling=function(){this.scrollingContainer=a.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo);this.innerContainer=a.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer);this.innerContainer.appendChild(this.container);this.setUpScrolling=null;};E.prototype.applyFixed=function(){var p=this.container,g,d,t=!this.fixedDiv;t&&(this.fixedDiv=a.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=g=new a.Renderer(this.fixedDiv,0,0),this.scrollableMask=g.path().attr({fill:a.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),a.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title",".highcharts-legend-checkbox"],function(d){a.each(p.querySelectorAll(d),function(a){(a.namespaceURI===g.SVG_NS?g.box:g.box.parentNode).appendChild(a);a.style.pointerEvents="auto";});}));this.fixedRenderer.setSize(this.chartWidth,this.chartHeight);d=this.chartWidth+this.scrollablePixels;a.stop(this.container);this.container.style.width=d+"px";this.renderer.boxWrapper.attr({width:d,height:this.chartHeight,viewBox:[0,0,d,this.chartHeight].join(" ")});this.chartBackground.attr({width:d});t&&(d=this.options.chart.scrollablePlotArea,d.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*d.scrollPositionX));t=this.axisOffset;d=this.plotTop-t[0]-1;var t=this.plotTop+this.plotHeight+t[2],x=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,d,"L",this.plotLeft-1,d,"L",this.plotLeft-1,t,"L",0,t,"Z","M",x,d,"L",this.chartWidth,d,"L",this.chartWidth,t,"L",x,t,"Z"]:["M",0,0]});};})(L);(function(a){var B,E=a.each,F=a.extend,p=a.erase,g=a.fireEvent,d=a.format,t=a.isArray,x=a.isNumber,v=a.pick,r=a.uniqueKey,f=a.defined,c=a.removeEvent;a.Point=B=function B(){};a.Point.prototype={init:function init(a,c,d){var b=a.chart.options.chart.colorCount;this.series=a;this.applyOptions(c,d);this.id=f(this.id)?this.id:r();a.options.colorByPoint?(c=a.colorCounter,a.colorCounter++,a.colorCounter===b&&(a.colorCounter=0)):c=a.colorIndex;this.colorIndex=v(this.colorIndex,c);a.chart.pointCount++;g(this,"afterInit");return this;},applyOptions:function applyOptions(a,c){var d=this.series,b=d.options.pointValKey||d.pointValKey;a=B.prototype.optionsToObject.call(this,a);F(this,a);this.options=this.options?F(this.options,a):a;a.group&&delete this.group;a.dataLabels&&delete this.dataLabels;b&&(this.y=this[b]);this.isNull=v(this.isValid&&!this.isValid(),null===this.x||!x(this.y,!0));this.selected&&(this.state="select");"name"in this&&void 0===c&&d.xAxis&&d.xAxis.hasNames&&(this.x=d.xAxis.nameToX(this));void 0===this.x&&d&&(this.x=void 0===c?d.autoIncrement(this):c);return this;},setNestedProperty:function setNestedProperty(c,d,f){f=f.split(".");a.reduce(f,function(b,c,e,f){b[c]=f.length-1===e?d:a.isObject(b[c],!0)?b[c]:{};return b[c];},c);return c;},optionsToObject:function optionsToObject(c){var d={},f=this.series,b=f.options.keys,g=b||f.pointArrayMap||["y"],e=g.length,u=0,w=0;if(x(c)||null===c)d[g[0]]=c;else if(t(c))for(!b&&c.length>e&&(f=_typeof(c[0]),"string"===f?d.name=c[0]:"number"===f&&(d.x=c[0]),u++);w<e;){b&&void 0===c[u]||(0<g[w].indexOf(".")?a.Point.prototype.setNestedProperty(d,c[u],g[w]):d[g[w]]=c[u]),u++,w++;}else"object"===_typeof(c)&&(d=c,c.dataLabels&&(f._hasPointLabels=!0),c.marker&&(f._hasPointMarkers=!0));return d;},getClassName:function getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"");},getZone:function getZone(){var a=this.series,c=a.zones,a=a.zoneAxis||"y",d=0,b;for(b=c[d];this[a]>=b.value;){b=c[++d];}this.nonZonedColor||(this.nonZonedColor=this.color);this.color=b&&b.color&&!this.options.color?b.color:this.nonZonedColor;return b;},destroy:function destroy(){var a=this.series.chart,d=a.hoverPoints,f;a.pointCount--;d&&(this.setState(),p(d,this),d.length||(a.hoverPoints=null));if(this===a.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel||this.dataLabels)c(this),this.destroyElements();this.legendItem&&a.legend.destroyItem(this);for(f in this){this[f]=null;}},destroyElements:function destroyElements(){for(var a=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],c,d=6;d--;){c=a[d],this[c]&&(this[c]=this[c].destroy());}this.dataLabels&&(E(this.dataLabels,function(a){a.element&&a.destroy();}),delete this.dataLabels);this.connectors&&(E(this.connectors,function(a){a.element&&a.destroy();}),delete this.connectors);},getLabelConfig:function getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal};},tooltipFormatter:function tooltipFormatter(a){var c=this.series,f=c.tooltipOptions,b=v(f.valueDecimals,""),g=f.valuePrefix||"",e=f.valueSuffix||"";E(c.pointArrayMap||["y"],function(c){c="{point."+c;if(g||e)a=a.replace(RegExp(c+"}","g"),g+c+"}"+e);a=a.replace(RegExp(c+"}","g"),c+":,."+b+"f}");});return d(a,{point:this,series:this.series},c.chart.time);},firePointEvent:function firePointEvent(a,c,d){var b=this,f=this.series.options;(f.point.events[a]||b.options&&b.options.events&&b.options.events[a])&&this.importEvents();"click"===a&&f.allowPointSelect&&(d=function d(a){b.select&&b.select(null,a.ctrlKey||a.metaKey||a.shiftKey);});g(this,a,c,d);},visible:!0};})(L);(function(a){var B=a.addEvent,E=a.animObject,F=a.arrayMax,p=a.arrayMin,g=a.correctFloat,d=a.defaultOptions,t=a.defined,x=a.each,v=a.erase,r=a.extend,f=a.fireEvent,c=a.grep,u=a.isArray,l=a.isNumber,m=a.isString,b=a.merge,n=a.objectEach,e=a.pick,D=a.removeEvent,w=a.splat,H=a.SVGElement,A=a.syncTimeout,z=a.win;a.Series=a.seriesType("line",null,{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},marker:{enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function formatter(){return null===this.y?"":a.numberFormat(this.y,-1);},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10}},select:{}},stickyTracking:!0,turboThreshold:1E3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:a.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function init(a,b){var c=this,d,g=a.series,k;c.chart=a;c.options=b=c.setOptions(b);c.linkedSeries=[];c.bindAxes();r(c,{name:b.name,state:"",visible:!1!==b.visible,selected:!0===b.selected});d=b.events;n(d,function(a,b){B(c,b,a);});if(d&&d.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)a.runTrackerClick=!0;c.getColor();c.getSymbol();x(c.parallelArrays,function(a){c[a+"Data"]=[];});c.setData(b.data,!1);c.isCartesian&&(a.hasCartesianSeries=!0);g.length&&(k=g[g.length-1]);c._i=e(k&&k._i,-1)+1;a.orderSeries(this.insert(g));f(this,"afterInit");},insert:function insert(a){var b=this.options.index,c;if(l(b)){for(c=a.length;c--;){if(b>=e(a[c].options.index,a[c]._i)){a.splice(c+1,0,this);break;}}-1===c&&a.unshift(this);c+=1;}else a.push(this);return e(c,a.length-1);},bindAxes:function bindAxes(){var b=this,c=b.options,e=b.chart,d;x(b.axisTypes||[],function(f){x(e[f],function(a){d=a.options;if(c[f]===d.index||void 0!==c[f]&&c[f]===d.id||void 0===c[f]&&0===d.index)b.insert(a.series),b[f]=a,a.isDirty=!0;});b[f]||b.optionalAxis===f||a.error(18,!0);});},updateParallelArrays:function updateParallelArrays(a,b){var c=a.series,e=arguments,d=l(b)?function(e){var d="y"===e&&c.toYData?c.toYData(a):a[e];c[e+"Data"][b]=d;}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(e,2));};x(c.parallelArrays,d);},autoIncrement:function autoIncrement(){var a=this.options,b=this.xIncrement,c,d=a.pointIntervalUnit,f=this.chart.time,b=e(b,a.pointStart,0);this.pointInterval=c=e(this.pointInterval,a.pointInterval,1);d&&(a=new f.Date(b),"day"===d?f.set("Date",a,f.get("Date",a)+c):"month"===d?f.set("Month",a,f.get("Month",a)+c):"year"===d&&f.set("FullYear",a,f.get("FullYear",a)+c),c=a.getTime()-b);this.xIncrement=b+c;return b;},setOptions:function setOptions(a){var c=this.chart,g=c.options,q=g.plotOptions,l=(c.userOptions||{}).plotOptions||{},k=q[this.type];this.userOptions=a;c=b(k,q.series,a);this.tooltipOptions=b(d.tooltip,d.plotOptions.series&&d.plotOptions.series.tooltip,d.plotOptions[this.type].tooltip,g.tooltip.userOptions,q.series&&q.series.tooltip,q[this.type].tooltip,a.tooltip);this.stickyTracking=e(a.stickyTracking,l[this.type]&&l[this.type].stickyTracking,l.series&&l.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:c.stickyTracking);null===k.marker&&delete c.marker;this.zoneAxis=c.zoneAxis;a=this.zones=(c.zones||[]).slice();!c.negativeColor&&!c.negativeFillColor||c.zones||a.push({value:c[this.zoneAxis+"Threshold"]||c.threshold||0,className:"highcharts-negative"});a.length&&t(a[a.length-1].value)&&a.push({});f(this,"afterSetOptions",{options:c});return c;},getName:function getName(){return this.name||"Series "+(this.index+1);},getCyclic:function getCyclic(a,b,c){var d,f=this.chart,k=this.userOptions,g=a+"Index",q=a+"Counter",h=c?c.length:e(f.options.chart[a+"Count"],f[a+"Count"]);b||(d=e(k[g],k["_"+g]),t(d)||(f.series.length||(f[q]=0),k["_"+g]=d=f[q]%h,f[q]+=1),c&&(b=c[d]));void 0!==d&&(this[g]=d);this[a]=b;},getColor:function getColor(){this.getCyclic("color");},getSymbol:function getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols);},drawLegendSymbol:a.LegendSymbolMixin.drawLineMarker,updateData:function updateData(b){var c=this.options,e=this.points,d=[],f,k,g,q=this.requireSorting;x(b,function(b){var h;h=a.defined(b)&&this.pointClass.prototype.optionsToObject.call({series:this},b).x;l(h)&&(h=a.inArray(h,this.xData,g),-1===h||e[h].touched?d.push(b):b!==c.data[h]?(e[h].update(b,!1,null,!1),e[h].touched=!0,q&&(g=h+1)):e[h]&&(e[h].touched=!0),f=!0);},this);if(f)for(b=e.length;b--;){k=e[b],k.touched||k.remove(!1),k.touched=!1;}else if(b.length===e.length)x(b,function(a,b){e[b].update&&a!==c.data[b]&&e[b].update(a,!1,null,!1);});else return!1;x(d,function(a){this.addPoint(a,!1);},this);return!0;},setData:function setData(b,c,d,f){var g=this,k=g.points,q=k&&k.length||0,C,h=g.options,n=g.chart,w=null,G=g.xAxis,z=h.turboThreshold,t=this.xData,A=this.yData,p=(C=g.pointArrayMap)&&C.length,r;b=b||[];C=b.length;c=e(c,!0);!1!==f&&C&&q&&!g.cropped&&!g.hasGroupedData&&g.visible&&!g.isSeriesBoosting&&(r=this.updateData(b));if(!r){g.xIncrement=null;g.colorCounter=0;x(this.parallelArrays,function(a){g[a+"Data"].length=0;});if(z&&C>z){for(d=0;null===w&&d<C;){w=b[d],d++;}if(l(w))for(d=0;d<C;d++){t[d]=this.autoIncrement(),A[d]=b[d];}else if(u(w)){if(p)for(d=0;d<C;d++){w=b[d],t[d]=w[0],A[d]=w.slice(1,p+1);}else for(d=0;d<C;d++){w=b[d],t[d]=w[0],A[d]=w[1];}}else a.error(12);}else for(d=0;d<C;d++){void 0!==b[d]&&(w={series:g},g.pointClass.prototype.applyOptions.apply(w,[b[d]]),g.updateParallelArrays(w,d));}A&&m(A[0])&&a.error(14,!0);g.data=[];g.options.data=g.userOptions.data=b;for(d=q;d--;){k[d]&&k[d].destroy&&k[d].destroy();}G&&(G.minRange=G.userMinRange);g.isDirty=n.isDirtyBox=!0;g.isDirtyData=!!k;d=!1;}"point"===h.legendType&&(this.processData(),this.generatePoints());c&&n.redraw(d);},processData:function processData(b){var c=this.xData,d=this.yData,e=c.length,f;f=0;var k,g,q=this.xAxis,h,l=this.options;h=l.cropThreshold;var m=this.getExtremesFromAll||l.getExtremesFromAll,n=this.isCartesian,l=q&&q.val2lin,w=q&&q.isLog,u=this.requireSorting,z,A;if(n&&!this.isDirty&&!q.isDirty&&!this.yAxis.isDirty&&!b)return!1;q&&(b=q.getExtremes(),z=b.min,A=b.max);n&&this.sorted&&!m&&(!h||e>h||this.forceCrop)&&(c[e-1]<z||c[0]>A?(c=[],d=[]):this.yData&&(c[0]<z||c[e-1]>A)&&(f=this.cropData(this.xData,this.yData,z,A),c=f.xData,d=f.yData,f=f.start,k=!0));for(h=c.length||1;--h;){e=w?l(c[h])-l(c[h-1]):c[h]-c[h-1],0<e&&(void 0===g||e<g)?g=e:0>e&&u&&(a.error(15),u=!1);}this.cropped=k;this.cropStart=f;this.processedXData=c;this.processedYData=d;this.closestPointRange=g;},cropData:function cropData(a,b,c,d,f){var k=a.length,g=0,q=k,h;f=e(f,this.cropShoulder,1);for(h=0;h<k;h++){if(a[h]>=c){g=Math.max(0,h-f);break;}}for(c=h;c<k;c++){if(a[c]>d){q=c+f;break;}}return{xData:a.slice(g,q),yData:b.slice(g,q),start:g,end:q};},generatePoints:function generatePoints(){var a=this.options,b=a.data,c=this.data,d,e=this.processedXData,f=this.processedYData,g=this.pointClass,l=e.length,h=this.cropStart||0,m,n=this.hasGroupedData,a=a.keys,u,z=[],A;c||n||(c=[],c.length=b.length,c=this.data=c);a&&n&&(this.options.keys=!1);for(A=0;A<l;A++){m=h+A,n?(u=new g().init(this,[e[A]].concat(w(f[A]))),u.dataGroup=this.groupMap[A],u.dataGroup.options&&(u.options=u.dataGroup.options,r(u,u.dataGroup.options))):(u=c[m])||void 0===b[m]||(c[m]=u=new g().init(this,b[m],e[A])),u&&(u.index=m,z[A]=u);}this.options.keys=a;if(c&&(l!==(d=c.length)||n))for(A=0;A<d;A++){A!==h||n||(A+=l),c[A]&&(c[A].destroyElements(),c[A].plotX=void 0);}this.data=c;this.points=z;},getExtremes:function getExtremes(a){var b=this.yAxis,c=this.processedXData,d,e=[],f=0;d=this.xAxis.getExtremes();var g=d.min,q=d.max,h,m,n=this.requireSorting?1:0,w,A;a=a||this.stackedYData||this.processedYData||[];d=a.length;for(A=0;A<d;A++){if(m=c[A],w=a[A],h=(l(w,!0)||u(w))&&(!b.positiveValuesOnly||w.length||0<w),m=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(c[A+n]||m)>=g&&(c[A-n]||m)<=q,h&&m)if(h=w.length)for(;h--;){"number"===typeof w[h]&&(e[f++]=w[h]);}else e[f++]=w;}this.dataMin=p(e);this.dataMax=F(e);},translate:function translate(){this.processedXData||this.processData();this.generatePoints();var a=this.options,b=a.stacking,c=this.xAxis,d=c.categories,m=this.yAxis,k=this.points,n=k.length,w=!!this.modifyValue,h=a.pointPlacement,u="between"===h||l(h),A=a.threshold,z=a.startFromThreshold?A:0,p,r,v,D,x=Number.MAX_VALUE;"between"===h&&(h=.5);l(h)&&(h*=e(a.pointRange||c.pointRange));for(a=0;a<n;a++){var H=k[a],B=H.x,E=H.y;r=H.low;var F=b&&m.stacks[(this.negStacks&&E<(z?0:A)?"-":"")+this.stackKey],L;m.positiveValuesOnly&&null!==E&&0>=E&&(H.isNull=!0);H.plotX=p=g(Math.min(Math.max(-1E5,c.translate(B,0,0,0,1,h,"flags"===this.type)),1E5));b&&this.visible&&!H.isNull&&F&&F[B]&&(D=this.getStackIndicator(D,B,this.index),L=F[B],E=L.points[D.key],r=E[0],E=E[1],r===z&&D.key===F[B].base&&(r=e(l(A)&&A,m.min)),m.positiveValuesOnly&&0>=r&&(r=null),H.total=H.stackTotal=L.total,H.percentage=L.total&&H.y/L.total*100,H.stackY=E,L.setOffset(this.pointXOffset||0,this.barW||0));H.yBottom=t(r)?Math.min(Math.max(-1E5,m.translate(r,0,1,0,1)),1E5):null;w&&(E=this.modifyValue(E,H));H.plotY=r="number"===typeof E&&Infinity!==E?Math.min(Math.max(-1E5,m.translate(E,0,1,0,1)),1E5):void 0;H.isInside=void 0!==r&&0<=r&&r<=m.len&&0<=p&&p<=c.len;H.clientX=u?g(c.translate(B,0,0,0,1,h)):p;H.negative=H.y<(A||0);H.category=d&&void 0!==d[H.x]?d[H.x]:H.x;H.isNull||(void 0!==v&&(x=Math.min(x,Math.abs(p-v))),v=p);H.zone=this.zones.length&&H.getZone();}this.closestPointRangePx=x;f(this,"afterTranslate");},getValidPoints:function getValidPoints(a,b){var d=this.chart;return c(a||this.points||[],function(a){return b&&!d.isInsidePlot(a.plotX,a.plotY,d.inverted)?!1:!a.isNull;});},setClip:function setClip(a){var b=this.chart,c=this.options,d=b.renderer,e=b.inverted,f=this.clipBox,g=f||b.clipBox,q=this.sharedClipKey||["_sharedClip",a&&a.duration,a&&a.easing,g.height,c.xAxis,c.yAxis].join(),h=b[q],l=b[q+"m"];h||(a&&(g.width=0,e&&(g.x=b.plotSizeX),b[q+"m"]=l=d.clipRect(e?b.plotSizeX+99:-99,e?-b.plotLeft:-b.plotTop,99,e?b.chartWidth:b.chartHeight)),b[q]=h=d.clipRect(g),h.count={length:0});a&&!h.count[this.index]&&(h.count[this.index]=!0,h.count.length+=1);!1!==c.clip&&(this.group.clip(a||f?h:b.clipRect),this.markerGroup.clip(l),this.sharedClipKey=q);a||(h.count[this.index]&&(delete h.count[this.index],--h.count.length),0===h.count.length&&q&&b[q]&&(f||(b[q]=b[q].destroy()),b[q+"m"]&&(b[q+"m"]=b[q+"m"].destroy())));},animate:function animate(a){var b=this.chart,c=E(this.options.animation),d;a?this.setClip(c):(d=this.sharedClipKey,(a=b[d])&&a.animate({width:b.plotSizeX,x:0},c),b[d+"m"]&&b[d+"m"].animate({width:b.plotSizeX+99,x:0},c),this.animate=null);},afterAnimate:function afterAnimate(){this.setClip();f(this,"afterAnimate");this.finishedAnimating=!0;},drawPoints:function drawPoints(){var a=this.points,b=this.chart,c,d,f,k,g=this.options.marker,l,h,m,n=this[this.specialGroup]||this.markerGroup,w,u=e(g.enabled,this.xAxis.isRadial?!0:null,this.closestPointRangePx>=g.enabledThreshold*g.radius);if(!1!==g.enabled||this._hasPointMarkers)for(c=0;c<a.length;c++){d=a[c],k=d.graphic,l=d.marker||{},h=!!d.marker,f=u&&void 0===l.enabled||l.enabled,m=d.isInside,f&&!d.isNull?(f=e(l.symbol,this.symbol),w=this.markerAttribs(d,d.selected&&"select"),k?k[m?"show":"hide"](!0).animate(w):m&&(0<w.width||d.hasImage)&&(d.graphic=k=b.renderer.symbol(f,w.x,w.y,w.width,w.height,h?l:g).add(n)),k&&k.addClass(d.getClassName(),!0)):k&&(d.graphic=k.destroy());}},markerAttribs:function markerAttribs(a,b){var c=this.options.marker,d=a.marker||{},f=d.symbol||c.symbol,g=e(d.radius,c.radius);b&&(c=c.states[b],b=d.states&&d.states[b],g=e(b&&b.radius,c&&c.radius,g+(c&&c.radiusPlus||0)));a.hasImage=f&&0===f.indexOf("url");a.hasImage&&(g=0);a={x:Math.floor(a.plotX)-g,y:a.plotY-g};g&&(a.width=a.height=2*g);return a;},destroy:function destroy(){var b=this,c=b.chart,d=/AppleWebKit\/533/.test(z.navigator.userAgent),e,g,k=b.data||[],l,m;f(b,"destroy");D(b);x(b.axisTypes||[],function(a){(m=b[a])&&m.series&&(v(m.series,b),m.isDirty=m.forceRedraw=!0);});b.legendItem&&b.chart.legend.destroyItem(b);for(g=k.length;g--;){(l=k[g])&&l.destroy&&l.destroy();}b.points=null;a.clearTimeout(b.animationTimeout);n(b,function(a,b){a instanceof H&&!a.survive&&(e=d&&"group"===b?"hide":"destroy",a[e]());});c.hoverSeries===b&&(c.hoverSeries=null);v(c.series,b);c.orderSeries();n(b,function(a,c){delete b[c];});},getGraphPath:function getGraphPath(a,b,c){var d=this,e=d.options,f=e.step,g,q=[],h=[],l;a=a||d.points;(g=a.reversed)&&a.reverse();(f={right:1,center:2}[f]||f&&3)&&g&&(f=4-f);!e.connectNulls||b||c||(a=this.getValidPoints(a));x(a,function(g,k){var m=g.plotX,n=g.plotY,w=a[k-1];(g.leftCliff||w&&w.rightCliff)&&!c&&(l=!0);g.isNull&&!t(b)&&0<k?l=!e.connectNulls:g.isNull&&!b?l=!0:(0===k||l?k=["M",g.plotX,g.plotY]:d.getPointSpline?k=d.getPointSpline(a,g,k):f?(k=1===f?["L",w.plotX,n]:2===f?["L",(w.plotX+m)/2,w.plotY,"L",(w.plotX+m)/2,n]:["L",m,w.plotY],k.push("L",m,n)):k=["L",m,n],h.push(g.x),f&&(h.push(g.x),2===f&&h.push(g.x)),q.push.apply(q,k),l=!1);});q.xMap=h;return d.graphPath=q;},drawGraph:function drawGraph(){var a=this,b=(this.gappedPath||this.getGraphPath).call(this),c=[["graph","highcharts-graph"]],c=a.getZonesGraphs(c);x(c,function(c,d){d=c[0];var e=a[d];e?(e.endX=a.preventGraphAnimation?null:b.xMap,e.animate({d:b})):b.length&&(a[d]=a.chart.renderer.path(b).addClass(c[1]).attr({zIndex:1}).add(a.group));e&&(e.startX=b.xMap,e.isArea=b.isArea);});},getZonesGraphs:function getZonesGraphs(a){x(this.zones,function(b,c){a.push(["zone-graph-"+c,"highcharts-graph highcharts-zone-graph-"+c+" "+(b.className||"")]);},this);return a;},applyZones:function applyZones(){var a=this,b=this.chart,c=b.renderer,d=this.zones,f,g,l=this.clips||[],m,h=this.graph,n=this.area,w=Math.max(b.chartWidth,b.chartHeight),u=this[(this.zoneAxis||"y")+"Axis"],A,z,t=b.inverted,p,r,v,D,H=!1;d.length&&(h||n)&&u&&void 0!==u.min&&(z=u.reversed,p=u.horiz,h&&!this.showLine&&h.hide(),n&&n.hide(),A=u.getExtremes(),x(d,function(d,k){f=z?p?b.plotWidth:0:p?0:u.toPixels(A.min);f=Math.min(Math.max(e(g,f),0),w);g=Math.min(Math.max(Math.round(u.toPixels(e(d.value,A.max),!0)),0),w);H&&(f=g=u.toPixels(A.max));r=Math.abs(f-g);v=Math.min(f,g);D=Math.max(f,g);u.isXAxis?(m={x:t?D:v,y:0,width:r,height:w},p||(m.x=b.plotHeight-m.x)):(m={x:0,y:t?D:v,width:w,height:r},p&&(m.y=b.plotWidth-m.y));l[k]?l[k].animate(m):(l[k]=c.clipRect(m),h&&a["zone-graph-"+k].clip(l[k]),n&&a["zone-area-"+k].clip(l[k]));H=d.value>A.max;a.resetZones&&0===g&&(g=void 0);}),this.clips=l);},invertGroups:function invertGroups(a){function b(){x(["group","markerGroup"],function(b){c[b]&&(d.renderer.isVML&&c[b].attr({width:c.yAxis.len,height:c.xAxis.len}),c[b].width=c.yAxis.len,c[b].height=c.xAxis.len,c[b].invert(a));});}var c=this,d=c.chart,e;c.xAxis&&(e=B(d,"resize",b),B(c,"destroy",e),b(a),c.invertGroups=b);},plotGroup:function plotGroup(a,b,c,d,e){var f=this[a],g=!f;g&&(this[a]=f=this.chart.renderer.g().attr({zIndex:d||.1}).add(e));f.addClass("highcharts-"+b+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(t(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(f.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0);f.attr({visibility:c})[g?"attr":"animate"](this.getPlotBox());return f;},getPlotBox:function getPlotBox(){var a=this.chart,b=this.xAxis,c=this.yAxis;a.inverted&&(b=c,c=this.xAxis);return{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1};},render:function render(){var a=this,b=a.chart,c,d=a.options,e=!!a.animate&&b.renderer.isSVG&&E(d.animation).duration,g=a.visible?"inherit":"hidden",l=d.zIndex,m=a.hasRendered,h=b.seriesGroup,n=b.inverted;c=a.plotGroup("group","series",g,l,h);a.markerGroup=a.plotGroup("markerGroup","markers",g,l,h);e&&a.animate(!0);c.inverted=a.isCartesian?n:!1;a.drawGraph&&(a.drawGraph(),a.applyZones());a.drawDataLabels&&a.drawDataLabels();a.visible&&a.drawPoints();a.drawTracker&&!1!==a.options.enableMouseTracking&&a.drawTracker();a.invertGroups(n);!1===d.clip||a.sharedClipKey||m||c.clip(b.clipRect);e&&a.animate();m||(a.animationTimeout=A(function(){a.afterAnimate();},e));a.isDirty=!1;a.hasRendered=!0;f(a,"afterRender");},redraw:function redraw(){var a=this.chart,b=this.isDirty||this.isDirtyData,c=this.group,d=this.xAxis,f=this.yAxis;c&&(a.inverted&&c.attr({width:a.plotWidth,height:a.plotHeight}),c.animate({translateX:e(d&&d.left,a.plotLeft),translateY:e(f&&f.top,a.plotTop)}));this.translate();this.render();b&&delete this.kdTree;},kdAxisArray:["clientX","plotY"],searchPoint:function searchPoint(a,b){var c=this.xAxis,d=this.yAxis,e=this.chart.inverted;return this.searchKDTree({clientX:e?c.len-a.chartY+c.pos:a.chartX-c.pos,plotY:e?d.len-a.chartX+d.pos:a.chartY-d.pos},b);},buildKDTree:function buildKDTree(){function a(c,d,e){var f,g;if(g=c&&c.length)return f=b.kdAxisArray[d%e],c.sort(function(a,b){return a[f]-b[f];}),g=Math.floor(g/2),{point:c[g],left:a(c.slice(0,g),d+1,e),right:a(c.slice(g+1),d+1,e)};}this.buildingKdTree=!0;var b=this,c=-1<b.options.findNearestPointBy.indexOf("y")?2:1;delete b.kdTree;A(function(){b.kdTree=a(b.getValidPoints(null,!b.directTouch),c,c);b.buildingKdTree=!1;},b.options.kdNow?0:1);},searchKDTree:function searchKDTree(a,b){function c(a,b,k,l){var h=b.point,q=d.kdAxisArray[k%l],m,n,w=h;n=t(a[e])&&t(h[e])?Math.pow(a[e]-h[e],2):null;m=t(a[f])&&t(h[f])?Math.pow(a[f]-h[f],2):null;m=(n||0)+(m||0);h.dist=t(m)?Math.sqrt(m):Number.MAX_VALUE;h.distX=t(n)?Math.sqrt(n):Number.MAX_VALUE;q=a[q]-h[q];m=0>q?"left":"right";n=0>q?"right":"left";b[m]&&(m=c(a,b[m],k+1,l),w=m[g]<w[g]?m:h);b[n]&&Math.sqrt(q*q)<w[g]&&(a=c(a,b[n],k+1,l),w=a[g]<w[g]?a:w);return w;}var d=this,e=this.kdAxisArray[0],f=this.kdAxisArray[1],g=b?"distX":"dist";b=-1<d.options.findNearestPointBy.indexOf("y")?2:1;this.kdTree||this.buildingKdTree||this.buildKDTree();if(this.kdTree)return c(a,this.kdTree,b,b);}});})(L);(function(a){var B=a.Axis,E=a.Chart,F=a.correctFloat,p=a.defined,g=a.destroyObjectProperties,d=a.each,t=a.format,x=a.objectEach,v=a.pick,r=a.Series;a.StackItem=function(a,c,d,g,m){var b=a.chart.inverted;this.axis=a;this.isNegative=d;this.options=c;this.x=g;this.total=null;this.points={};this.stack=m;this.rightCliff=this.leftCliff=0;this.alignOptions={align:c.align||(b?d?"left":"right":"center"),verticalAlign:c.verticalAlign||(b?"middle":d?"bottom":"top"),y:v(c.y,b?4:d?14:-6),x:v(c.x,b?d?-6:6:0)};this.textAlign=c.textAlign||(b?d?"right":"left":"center");};a.StackItem.prototype={destroy:function destroy(){g(this,this.axis);},render:function render(a){var c=this.axis.chart,d=this.options,f=d.format,f=f?t(f,this,c.time):d.formatter.call(this);this.label?this.label.attr({text:f,visibility:"hidden"}):this.label=c.renderer.text(f,null,null,d.useHTML).css(d.style).attr({align:this.textAlign,rotation:d.rotation,visibility:"hidden"}).add(a);this.label.labelrank=c.plotHeight;},setOffset:function setOffset(a,c){var d=this.axis,f=d.chart,g=d.translate(d.usePercentage?100:this.total,0,0,0,1),b=d.translate(0),b=p(g)&&Math.abs(g-b);a=f.xAxis[0].translate(this.x)+a;d=p(g)&&this.getStackBox(f,this,a,g,c,b,d);(c=this.label)&&d&&(c.align(this.alignOptions,null,d),d=c.alignAttr,c[!1===this.options.crop||f.isInsidePlot(d.x,d.y)?"show":"hide"](!0));},getStackBox:function getStackBox(a,c,d,g,m,b,n){var e=c.axis.reversed,f=a.inverted;a=n.height+n.pos-(f?a.plotLeft:a.plotTop);c=c.isNegative&&!e||!c.isNegative&&e;return{x:f?c?g:g-b:d,y:f?a-d-m:c?a-g-b:a-g,width:f?b:m,height:f?m:b};}};E.prototype.getStacks=function(){var a=this;d(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks);});d(a.series,function(c){!c.options.stacking||!0!==c.visible&&!1!==a.options.chart.ignoreHiddenSeries||(c.stackKey=c.type+v(c.options.stack,""));});};B.prototype.buildStacks=function(){var a=this.series,c=v(this.options.reversedStacks,!0),d=a.length,g;if(!this.isXAxis){this.usePercentage=!1;for(g=d;g--;){a[c?g:d-g-1].setStackedPoints();}for(g=0;g<d;g++){a[g].modifyStacks();}}};B.prototype.renderStackTotals=function(){var a=this.chart,c=a.renderer,d=this.stacks,g=this.stackTotalGroup;g||(this.stackTotalGroup=g=c.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());g.translate(a.plotLeft,a.plotTop);x(d,function(a){x(a,function(a){a.render(g);});});};B.prototype.resetStacks=function(){var a=this,c=a.stacks;a.isXAxis||x(c,function(c){x(c,function(d,f){d.touched<a.stacksTouched?(d.destroy(),delete c[f]):(d.total=null,d.cumulative=null);});});};B.prototype.cleanStacks=function(){var a;this.isXAxis||(this.oldStacks&&(a=this.stacks=this.oldStacks),x(a,function(a){x(a,function(a){a.cumulative=a.total;});}));};r.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var d=this.processedXData,c=this.processedYData,g=[],l=c.length,m=this.options,b=m.threshold,n=v(m.startFromThreshold&&b,0),e=m.stack,m=m.stacking,t=this.stackKey,w="-"+t,r=this.negStacks,A=this.yAxis,z=A.stacks,q=A.oldStacks,C,x,I,J,k,y,B;A.stacksTouched+=1;for(k=0;k<l;k++){y=d[k],B=c[k],C=this.getStackIndicator(C,y,this.index),J=C.key,I=(x=r&&B<(n?0:b))?w:t,z[I]||(z[I]={}),z[I][y]||(q[I]&&q[I][y]?(z[I][y]=q[I][y],z[I][y].total=null):z[I][y]=new a.StackItem(A,A.options.stackLabels,x,y,e)),I=z[I][y],null!==B?(I.points[J]=I.points[this.index]=[v(I.cumulative,n)],p(I.cumulative)||(I.base=J),I.touched=A.stacksTouched,0<C.index&&!1===this.singleStacks&&(I.points[J][0]=I.points[this.index+","+y+",0"][0])):I.points[J]=I.points[this.index]=null,"percent"===m?(x=x?t:w,r&&z[x]&&z[x][y]?(x=z[x][y],I.total=x.total=Math.max(x.total,I.total)+Math.abs(B)||0):I.total=F(I.total+(Math.abs(B)||0))):I.total=F(I.total+(B||0)),I.cumulative=v(I.cumulative,n)+(B||0),null!==B&&(I.points[J].push(I.cumulative),g[k]=I.cumulative);}"percent"===m&&(A.usePercentage=!0);this.stackedYData=g;A.oldStacks={};}};r.prototype.modifyStacks=function(){var a=this,c=a.stackKey,g=a.yAxis.stacks,l=a.processedXData,m,b=a.options.stacking;a[b+"Stacker"]&&d([c,"-"+c],function(c){for(var d=l.length,f,n;d--;){if(f=l[d],m=a.getStackIndicator(m,f,a.index,c),n=(f=g[c]&&g[c][f])&&f.points[m.key])a[b+"Stacker"](n,f,d);}});};r.prototype.percentStacker=function(a,c,d){c=c.total?100/c.total:0;a[0]=F(a[0]*c);a[1]=F(a[1]*c);this.stackedYData[d]=a[1];};r.prototype.getStackIndicator=function(a,c,d,g){!p(a)||a.x!==c||g&&a.key!==g?a={x:c,index:0,key:g}:a.index++;a.key=[d,c,a.index].join();return a;};})(L);(function(a){var B=a.addEvent,E=a.Axis,F=a.createElement,p=a.css,g=a.defined,d=a.each,t=a.erase,x=a.extend,v=a.fireEvent,r=a.inArray,f=a.isNumber,c=a.isObject,u=a.isArray,l=a.merge,m=a.objectEach,b=a.pick,n=a.Point,e=a.Series,D=a.seriesTypes,w=a.setAnimation,H=a.splat;x(a.Chart.prototype,{addSeries:function addSeries(a,c,d){var e,f=this;a&&(c=b(c,!0),v(f,"addSeries",{options:a},function(){e=f.initSeries(a);f.isDirtyLegend=!0;f.linkSeries();v(f,"afterAddSeries");c&&f.redraw(d);}));return e;},addAxis:function addAxis(a,c,d,e){var f=c?"xAxis":"yAxis",g=this.options;a=l(a,{index:this[f].length,isX:c});c=new E(this,a);g[f]=H(g[f]||{});g[f].push(a);b(d,!0)&&this.redraw(e);return c;},showLoading:function showLoading(a){var b=this,c=b.options,d=b.loadingDiv,e=function e(){d&&p(d,{left:b.plotLeft+"px",top:b.plotTop+"px",width:b.plotWidth+"px",height:b.plotHeight+"px"});};d||(b.loadingDiv=d=F("div",{className:"highcharts-loading highcharts-loading-hidden"},null,b.container),b.loadingSpan=F("span",{className:"highcharts-loading-inner"},null,d),B(b,"redraw",e));d.className="highcharts-loading";b.loadingSpan.innerHTML=a||c.lang.loading;b.loadingShown=!0;e();},hideLoading:function hideLoading(){var a=this.loadingDiv;a&&(a.className="highcharts-loading highcharts-loading-hidden");this.loadingShown=!1;},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function update(a,c,e,n){var q=this,w={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},A=a.chart,k,t,z=[];v(q,"update",{options:a});if(A){l(!0,q.options.chart,A);"className"in A&&q.setClassName(A.className);"reflow"in A&&q.setReflow(A.reflow);if("inverted"in A||"polar"in A||"type"in A)q.propFromSeries(),k=!0;"alignTicks"in A&&(k=!0);m(A,function(a,b){-1!==r("chart."+b,q.propsRequireUpdateSeries)&&(t=!0);-1!==r(b,q.propsRequireDirtyBox)&&(q.isDirtyBox=!0);});}a.plotOptions&&l(!0,this.options.plotOptions,a.plotOptions);m(a,function(a,b){if(q[b]&&"function"===typeof q[b].update)q[b].update(a,!1);else if("function"===typeof q[w[b]])q[w[b]](a);"chart"!==b&&-1!==r(b,q.propsRequireUpdateSeries)&&(t=!0);});d("xAxis yAxis zAxis series colorAxis pane".split(" "),function(b){var c;a[b]&&("series"===b&&(c=[],d(q[b],function(a,b){a.options.isInternal||c.push(b);})),d(H(a[b]),function(a,d){(d=g(a.id)&&q.get(a.id)||q[b][c?c[d]:d])&&d.coll===b&&(d.update(a,!1),e&&(d.touched=!0));if(!d&&e)if("series"===b)q.addSeries(a,!1).touched=!0;else if("xAxis"===b||"yAxis"===b)q.addAxis(a,"xAxis"===b,!1).touched=!0;}),e&&d(q[b],function(a){a.touched||a.options.isInternal?delete a.touched:z.push(a);}));});d(z,function(a){a.remove&&a.remove(!1);});k&&d(q.axes,function(a){a.update({},!1);});t&&d(q.series,function(a){a.update({},!1);});a.loading&&l(!0,q.options.loading,a.loading);k=A&&A.width;A=A&&A.height;f(k)&&k!==q.chartWidth||f(A)&&A!==q.chartHeight?q.setSize(k,A,n):b(c,!0)&&q.redraw(n);v(q,"afterUpdate",{options:a});},setSubtitle:function setSubtitle(a){this.setTitle(void 0,a);}});x(n.prototype,{update:function update(a,d,e,f){function g(){l.applyOptions(a);null===l.y&&k&&(l.graphic=k.destroy());c(a,!0)&&(k&&k.element&&a&&a.marker&&void 0!==a.marker.symbol&&(l.graphic=k.destroy()),a&&a.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.connector&&(l.connector=l.connector.destroy()));m=l.index;q.updateParallelArrays(l,m);h.data[m]=c(h.data[m],!0)||c(a,!0)?l.options:b(a,h.data[m]);q.isDirty=q.isDirtyData=!0;!q.fixedBox&&q.hasCartesianSeries&&(n.isDirtyBox=!0);"point"===h.legendType&&(n.isDirtyLegend=!0);d&&n.redraw(e);}var l=this,q=l.series,k=l.graphic,m,n=q.chart,h=q.options;d=b(d,!0);!1===f?g():l.firePointEvent("update",{options:a},g);},remove:function remove(a,b){this.series.removePoint(r(this,this.series.data),a,b);}});x(e.prototype,{addPoint:function addPoint(a,c,d,e){var f=this.options,g=this.data,l=this.chart,k=this.xAxis,k=k&&k.hasNames&&k.names,q=f.data,m,h,n=this.xData,w,A;c=b(c,!0);m={series:this};this.pointClass.prototype.applyOptions.apply(m,[a]);A=m.x;w=n.length;if(this.requireSorting&&A<n[w-1])for(h=!0;w&&n[w-1]>A;){w--;}this.updateParallelArrays(m,"splice",w,0,0);this.updateParallelArrays(m,w);k&&m.name&&(k[A]=m.name);q.splice(w,0,a);h&&(this.data.splice(w,0,null),this.processData());"point"===f.legendType&&this.generatePoints();d&&(g[0]&&g[0].remove?g[0].remove(!1):(g.shift(),this.updateParallelArrays(m,"shift"),q.shift()));this.isDirtyData=this.isDirty=!0;c&&l.redraw(e);},removePoint:function removePoint(a,c,d){var e=this,f=e.data,g=f[a],l=e.points,k=e.chart,q=function q(){l&&l.length===f.length&&l.splice(a,1);f.splice(a,1);e.options.data.splice(a,1);e.updateParallelArrays(g||{series:e},"splice",a,1);g&&g.destroy();e.isDirty=!0;e.isDirtyData=!0;c&&k.redraw();};w(d,k);c=b(c,!0);g?g.firePointEvent("remove",null,q):q();},remove:function remove(a,c,d){function e(){f.destroy();f.remove=null;g.isDirtyLegend=g.isDirtyBox=!0;g.linkSeries();b(a,!0)&&g.redraw(c);}var f=this,g=f.chart;!1!==d?v(f,"remove",null,e):e();},update:function update(c,e){var f=this,g=f.chart,m=f.userOptions,n=f.oldType||f.type,w=c.type||m.type||g.options.chart.type,k=D[n].prototype,t,A=["group","markerGroup","dataLabelsGroup"],h=["navigatorSeries","baseSeries"],u=f.finishedAnimating&&{animation:!1},p=["data","name","turboThreshold"],z=a.keys(c),H=0<z.length;d(z,function(a){-1===r(a,p)&&(H=!1);});if(H)c.data&&this.setData(c.data,!1),c.name&&this.setName(c.name,!1);else{h=A.concat(h);d(h,function(a){h[a]=f[a];delete f[a];});c=l(m,u,{index:f.index,pointStart:b(m.pointStart,f.xData[0])},{data:f.options.data},c);f.remove(!1,null,!1);for(t in k){f[t]=void 0;}D[w||n]?x(f,D[w||n].prototype):a.error(17,!0);d(h,function(a){f[a]=h[a];});f.init(g,c);c.zIndex!==m.zIndex&&d(A,function(a){f[a]&&f[a].attr({zIndex:c.zIndex});});f.oldType=n;g.linkSeries();}v(this,"afterUpdate");b(e,!0)&&g.redraw(H?void 0:!1);},setName:function setName(a){this.name=this.options.name=this.userOptions.name=a;this.chart.isDirtyLegend=!0;}});x(E.prototype,{update:function update(a,c){var d=this.chart,e=a&&a.events||{};a=l(this.userOptions,a);d.options[this.coll].indexOf&&(d.options[this.coll][d.options[this.coll].indexOf(this.userOptions)]=a);m(d.options[this.coll].events,function(a,b){"undefined"===typeof e[b]&&(e[b]=void 0);});this.destroy(!0);this.init(d,x(a,{events:e}));d.isDirtyBox=!0;b(c,!0)&&d.redraw();},remove:function remove(a){for(var c=this.chart,e=this.coll,f=this.series,g=f.length;g--;){f[g]&&f[g].remove(!1);}t(c.axes,this);t(c[e],this);u(c.options[e])?c.options[e].splice(this.options.index,1):delete c.options[e];d(c[e],function(a,b){a.options.index=a.userOptions.index=b;});this.destroy();c.isDirtyBox=!0;b(a,!0)&&c.redraw();},setTitle:function setTitle(a,b){this.update({title:a},b);},setCategories:function setCategories(a,b){this.update({categories:a},b);}});})(L);(function(a){var B=a.each,E=a.map,F=a.pick,p=a.Series,g=a.seriesType;g("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function getStackPoints(d){var g=[],p=[],v=this.xAxis,r=this.yAxis,f=r.stacks[this.stackKey],c={},u=this.index,l=r.series,m=l.length,b,n=F(r.options.reversedStacks,!0)?1:-1,e;d=d||this.points;if(this.options.stacking){for(e=0;e<d.length;e++){d[e].leftNull=d[e].rightNull=null,c[d[e].x]=d[e];}a.objectEach(f,function(a,b){null!==a.total&&p.push(b);});p.sort(function(a,b){return a-b;});b=E(l,function(){return this.visible;});B(p,function(a,d){var l=0,w,t;if(c[a]&&!c[a].isNull)g.push(c[a]),B([-1,1],function(g){var l=1===g?"rightNull":"leftNull",q=0,r=f[p[d+g]];if(r)for(e=u;0<=e&&e<m;){w=r.points[e],w||(e===u?c[a][l]=!0:b[e]&&(t=f[a].points[e])&&(q-=t[1]-t[0])),e+=n;}c[a][1===g?"rightCliff":"leftCliff"]=q;});else{for(e=u;0<=e&&e<m;){if(w=f[a].points[e]){l=w[1];break;}e+=n;}l=r.translate(l,0,1,0,1);g.push({isNull:!0,plotX:v.translate(a,0,0,0,1),x:a,plotY:l,yBottom:l});}});}return g;},getGraphPath:function getGraphPath(a){var d=p.prototype.getGraphPath,g=this.options,v=g.stacking,r=this.yAxis,f,c,u=[],l=[],m=this.index,b,n=r.stacks[this.stackKey],e=g.threshold,D=r.getThreshold(g.threshold),w,g=g.connectNulls||"percent"===v,H=function H(c,d,f){var g=a[c];c=v&&n[g.x].points[m];var q=g[f+"Null"]||0;f=g[f+"Cliff"]||0;var w,p,g=!0;f||q?(w=(q?c[0]:c[1])+f,p=c[0]+f,g=!!q):!v&&a[d]&&a[d].isNull&&(w=p=e);void 0!==w&&(l.push({plotX:b,plotY:null===w?D:r.getThreshold(w),isNull:g,isCliff:!0}),u.push({plotX:b,plotY:null===p?D:r.getThreshold(p),doCurve:!1}));};a=a||this.points;v&&(a=this.getStackPoints(a));for(f=0;f<a.length;f++){if(c=a[f].isNull,b=F(a[f].rectPlotX,a[f].plotX),w=F(a[f].yBottom,D),!c||g)g||H(f,f-1,"left"),c&&!v&&g||(l.push(a[f]),u.push({x:f,plotX:b,plotY:w})),g||H(f,f+1,"right");}f=d.call(this,l,!0,!0);u.reversed=!0;c=d.call(this,u,!0,!0);c.length&&(c[0]="L");c=f.concat(c);d=d.call(this,l,!1,g);c.xMap=f.xMap;this.areaPath=c;return d;},drawGraph:function drawGraph(){this.areaPath=[];p.prototype.drawGraph.apply(this);var a=this,g=this.areaPath,x=this.options,v=[["area","highcharts-area"]];B(this.zones,function(a,d){v.push(["zone-area-"+d,"highcharts-area highcharts-zone-area-"+d+" "+a.className]);});B(v,function(d){var f=d[0],c=a[f];c?(c.endX=a.preventGraphAnimation?null:g.xMap,c.animate({d:g})):(c=a[f]=a.chart.renderer.path(g).addClass(d[1]).attr({zIndex:0}).add(a.group),c.isArea=!0);c.startX=g.xMap;c.shiftUnit=x.step?2:1;});},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle});})(L);(function(a){var B=a.pick;a=a.seriesType;a("spline","line",{},{getPointSpline:function getPointSpline(a,F,p){var g=F.plotX,d=F.plotY,t=a[p-1];p=a[p+1];var x,v,r,f;if(t&&!t.isNull&&!1!==t.doCurve&&!F.isCliff&&p&&!p.isNull&&!1!==p.doCurve&&!F.isCliff){a=t.plotY;r=p.plotX;p=p.plotY;var c=0;x=(1.5*g+t.plotX)/2.5;v=(1.5*d+a)/2.5;r=(1.5*g+r)/2.5;f=(1.5*d+p)/2.5;r!==x&&(c=(f-v)*(r-g)/(r-x)+d-f);v+=c;f+=c;v>a&&v>d?(v=Math.max(a,d),f=2*d-v):v<a&&v<d&&(v=Math.min(a,d),f=2*d-v);f>p&&f>d?(f=Math.max(p,d),v=2*d-f):f<p&&f<d&&(f=Math.min(p,d),v=2*d-f);F.rightContX=r;F.rightContY=f;}F=["C",B(t.rightContX,t.plotX),B(t.rightContY,t.plotY),B(x,g),B(v,d),g,d];t.rightContX=t.rightContY=null;return F;}});})(L);(function(a){var B=a.seriesTypes.area.prototype,E=a.seriesType;E("areaspline","spline",a.defaultPlotOptions.area,{getStackPoints:B.getStackPoints,getGraphPath:B.getGraphPath,drawGraph:B.drawGraph,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle});})(L);(function(a){var B=a.animObject,E=a.each,F=a.extend,p=a.defined,g=a.isNumber,d=a.merge,t=a.pick,x=a.Series,v=a.seriesType,r=a.svg;v("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function init(){x.prototype.init.apply(this,arguments);var a=this,c=a.chart;c.hasRendered&&E(c.series,function(c){c.type===a.type&&(c.isDirty=!0);});},getColumnMetrics:function getColumnMetrics(){var a=this,c=a.options,d=a.xAxis,g=a.yAxis,m=d.options.reversedStacks,m=d.reversed&&!m||!d.reversed&&m,b,n={},e=0;!1===c.grouping?e=1:E(a.chart.series,function(c){var d=c.options,f=c.yAxis,l;c.type!==a.type||!c.visible&&a.chart.options.chart.ignoreHiddenSeries||g.len!==f.len||g.pos!==f.pos||(d.stacking?(b=c.stackKey,void 0===n[b]&&(n[b]=e++),l=n[b]):!1!==d.grouping&&(l=e++),c.columnIndex=l);});var p=Math.min(Math.abs(d.transA)*(d.ordinalSlope||c.pointRange||d.closestPointRange||d.tickInterval||1),d.len),w=p*c.groupPadding,r=(p-2*w)/(e||1),c=Math.min(c.maxPointWidth||d.len,t(c.pointWidth,r*(1-2*c.pointPadding)));a.columnMetrics={width:c,offset:(r-c)/2+(w+((a.columnIndex||0)+(m?1:0))*r-p/2)*(m?-1:1)};return a.columnMetrics;},crispCol:function crispCol(a,c,d,g){var f=this.chart,b=this.borderWidth,l=-(b%2?.5:0),b=b%2?.5:1;f.inverted&&f.renderer.isVML&&(b+=1);this.options.crisp&&(d=Math.round(a+d)+l,a=Math.round(a)+l,d-=a);g=Math.round(c+g)+b;l=.5>=Math.abs(c)&&.5<g;c=Math.round(c)+b;g-=c;l&&g&&(--c,g+=1);return{x:a,y:c,width:d,height:g};},translate:function translate(){var a=this,c=a.chart,d=a.options,g=a.dense=2>a.closestPointRange*a.xAxis.transA,g=a.borderWidth=t(d.borderWidth,g?0:1),m=a.yAxis,b=d.threshold,n=a.translatedThreshold=m.getThreshold(b),e=t(d.minPointLength,5),r=a.getColumnMetrics(),w=r.width,v=a.barW=Math.max(w,1+2*g),A=a.pointXOffset=r.offset;c.inverted&&(n-=.5);d.pointPadding&&(v=Math.ceil(v));x.prototype.translate.apply(a);E(a.points,function(d){var g=t(d.yBottom,n),f=999+Math.abs(g),l=w,f=Math.min(Math.max(-f,d.plotY),m.len+f),r=d.plotX+A,u=v,k=Math.min(f,g),y,z=Math.max(f,g)-k;e&&Math.abs(z)<e&&(z=e,y=!m.reversed&&!d.negative||m.reversed&&d.negative,d.y===b&&a.dataMax<=b&&m.min<b&&(y=!y),k=Math.abs(k-n)>e?g-e:n-(y?e:0));p(d.options.pointWidth)&&(l=u=Math.ceil(d.options.pointWidth),r-=Math.round((l-w)/2));d.barX=r;d.pointWidth=l;d.tooltipPos=c.inverted?[m.len+m.pos-c.plotLeft-f,a.xAxis.len-r-u/2,z]:[r+u/2,f+m.pos-c.plotTop,z];d.shapeType="rect";d.shapeArgs=a.crispCol.apply(a,d.isNull?[r,n,u,0]:[r,k,u,z]);});},getSymbol:a.noop,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,drawGraph:function drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data");},drawPoints:function drawPoints(){var a=this,c=this.chart,p=a.options,l=c.renderer,m=p.animationLimit||250,b;E(a.points,function(f){var e=f.graphic,n=e&&c.pointCount<m?"animate":"attr";if(g(f.plotY)&&null!==f.y){b=f.shapeArgs;if(e)e[n](d(b));else f.graphic=e=l[f.shapeType](b).add(f.group||a.group);p.borderRadius&&e.attr({r:p.borderRadius});e.addClass(f.getClassName(),!0);}else e&&(f.graphic=e.destroy());});},animate:function animate(a){var c=this,d=this.yAxis,g=c.options,f=this.chart.inverted,b={},n=f?"translateX":"translateY",e;r&&(a?(b.scaleY=.001,a=Math.min(d.pos+d.len,Math.max(d.pos,d.toPixels(g.threshold))),f?b.translateX=a-d.len:b.translateY=a,c.group.attr(b)):(e=c.group.attr(n),c.group.animate({scaleY:1},F(B(c.options.animation),{step:function step(a,g){b[n]=e+g.pos*(d.pos-e);c.group.attr(b);}})),c.animate=null));},remove:function remove(){var a=this,c=a.chart;c.hasRendered&&E(c.series,function(c){c.type===a.type&&(c.isDirty=!0);});x.prototype.remove.apply(a,arguments);}});})(L);(function(a){a=a.seriesType;a("bar","column",null,{inverted:!0});})(L);(function(a){var B=a.Series;a=a.seriesType;a("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:"<span class=\"highcharts-color-{point.colorIndex}\">\u25CF</span> <span class=\"highcharts-header\"> {series.name}</span><br/>",pointFormat:"x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3e"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function drawGraph(){this.options.lineWidth&&B.prototype.drawGraph.call(this);}});})(L);(function(a){var B=a.deg2rad,E=a.isNumber,F=a.pick,p=a.relativeLength;a.CenteredSeriesMixin={getCenter:function getCenter(){var a=this.options,d=this.chart,t=2*(a.slicedOffset||0),x=d.plotWidth-2*t,d=d.plotHeight-2*t,v=a.center,v=[F(v[0],"50%"),F(v[1],"50%"),a.size||"100%",a.innerSize||0],r=Math.min(x,d),f,c;for(f=0;4>f;++f){c=v[f],a=2>f||2===f&&/%$/.test(c),v[f]=p(c,[x,d,r,v[2]][f])+(a?t:0);}v[3]>v[2]&&(v[3]=v[2]);return v;},getStartAndEndRadians:function getStartAndEndRadians(a,d){a=E(a)?a:0;d=E(d)&&d>a&&360>d-a?d:a+360;return{start:B*(a+-90),end:B*(d+-90)};}};})(L);(function(a){var B=a.addEvent,E=a.CenteredSeriesMixin,F=a.defined,p=a.each,g=a.extend,d=E.getStartAndEndRadians,t=a.inArray,x=a.noop,v=a.pick,r=a.Point,f=a.Series,c=a.seriesType,u=a.setAnimation;c("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function formatter(){return this.point.isNull?void 0:this.point.name;},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:a.seriesTypes.column.prototype.pointAttribs,animate:function animate(a){var c=this,b=c.points,d=c.startAngleRad;a||(p(b,function(a){var b=a.graphic,e=a.shapeArgs;b&&(b.attr({r:a.startR||c.center[3]/2,start:d,end:d}),b.animate({r:e.r,start:e.start,end:e.end},c.options.animation));}),c.animate=null);},updateTotals:function updateTotals(){var a,c=0,b=this.points,d=b.length,e,g=this.options.ignoreHiddenPoint;for(a=0;a<d;a++){e=b[a],c+=g&&!e.visible?0:e.isNull?0:e.y;}this.total=c;for(a=0;a<d;a++){e=b[a],e.percentage=0<c&&(e.visible||!g)?e.y/c*100:0,e.total=c;}},generatePoints:function generatePoints(){f.prototype.generatePoints.call(this);this.updateTotals();},translate:function translate(a){this.generatePoints();var c=0,b=this.options,g=b.slicedOffset,e=g+(b.borderWidth||0),f,l,p,r=d(b.startAngle,b.endAngle),t=this.startAngleRad=r.start,r=(this.endAngleRad=r.end)-t,q=this.points,u,x=b.dataLabels.distance,b=b.ignoreHiddenPoint,B,J=q.length,k;a||(this.center=a=this.getCenter());this.getX=function(b,c,d){p=Math.asin(Math.min((b-a[1])/(a[2]/2+d.labelDistance),1));return a[0]+(c?-1:1)*Math.cos(p)*(a[2]/2+d.labelDistance);};for(B=0;B<J;B++){k=q[B];k.labelDistance=v(k.options.dataLabels&&k.options.dataLabels.distance,x);this.maxLabelDistance=Math.max(this.maxLabelDistance||0,k.labelDistance);f=t+c*r;if(!b||k.visible)c+=k.percentage/100;l=t+c*r;k.shapeType="arc";k.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:Math.round(1E3*f)/1E3,end:Math.round(1E3*l)/1E3};p=(l+f)/2;p>1.5*Math.PI?p-=2*Math.PI:p<-Math.PI/2&&(p+=2*Math.PI);k.slicedTranslation={translateX:Math.round(Math.cos(p)*g),translateY:Math.round(Math.sin(p)*g)};l=Math.cos(p)*a[2]/2;u=Math.sin(p)*a[2]/2;k.tooltipPos=[a[0]+.7*l,a[1]+.7*u];k.half=p<-Math.PI/2||p>Math.PI/2?1:0;k.angle=p;f=Math.min(e,k.labelDistance/5);k.labelPos=[a[0]+l+Math.cos(p)*k.labelDistance,a[1]+u+Math.sin(p)*k.labelDistance,a[0]+l+Math.cos(p)*f,a[1]+u+Math.sin(p)*f,a[0]+l,a[1]+u,0>k.labelDistance?"center":k.half?"right":"left",p];}},drawGraph:null,drawPoints:function drawPoints(){var a=this,c=a.chart.renderer,b,d,e;p(a.points,function(f){d=f.graphic;f.isNull?d&&(f.graphic=d.destroy()):(e=f.shapeArgs,b=f.getTranslate(),d?d.setRadialReference(a.center).animate(g(e,b)):f.graphic=d=c[f.shapeType](e).setRadialReference(a.center).attr(b).add(a.group),d.attr({visibility:f.visible?"inherit":"hidden"}),d.addClass(f.getClassName()));});},searchPoint:x,sortByAngle:function sortByAngle(a,c){a.sort(function(a,d){return void 0!==a.angle&&(d.angle-a.angle)*c;});},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,getCenter:E.getCenter,getSymbol:x},{init:function init(){r.prototype.init.apply(this,arguments);var a=this,c;a.name=v(a.name,"Slice");c=function c(b){a.slice("select"===b.type);};B(a,"select",c);B(a,"unselect",c);return a;},isValid:function isValid(){return a.isNumber(this.y,!0)&&0<=this.y;},setVisible:function setVisible(a,c){var b=this,d=b.series,e=d.chart,f=d.options.ignoreHiddenPoint;c=v(c,f);a!==b.visible&&(b.visible=b.options.visible=a=void 0===a?!b.visible:a,d.options.data[t(b,d.data)]=b.options,p(["graphic","dataLabel","connector","shadowGroup"],function(c){if(b[c])b[c][a?"show":"hide"](!0);}),b.legendItem&&e.legend.colorizeItem(b,a),a||"hover"!==b.state||b.setState(""),f&&(d.isDirty=!0),c&&e.redraw());},slice:function slice(a,c,b){var d=this.series;u(b,d.chart);v(c,!0);this.sliced=this.options.sliced=F(a)?a:!this.sliced;d.options.data[t(this,d.data)]=this.options;this.graphic.animate(this.getTranslate());},getTranslate:function getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0};},haloPath:function haloPath(a){var c=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.x,c.y,c.r+a,c.r+a,{innerR:this.shapeArgs.r-1,start:c.start,end:c.end});}});})(L);(function(a){var B=a.addEvent,E=a.arrayMax,F=a.defined,p=a.each,g=a.extend,d=a.format,t=a.map,x=a.merge,v=a.noop,r=a.pick,f=a.relativeLength,c=a.Series,u=a.seriesTypes,l=a.some,m=a.stableSort,b=a.isArray,n=a.splat;a.distribute=function(b,c,d){function e(a,b){return a.target-b.target;}var f,g=!0,q=b,w=[],n;n=0;var u=q.reducedLen||c;for(f=b.length;f--;){n+=b[f].size;}if(n>u){m(b,function(a,b){return(b.rank||0)-(a.rank||0);});for(n=f=0;n<=u;){n+=b[f].size,f++;}w=b.splice(f-1,b.length);}m(b,e);for(b=t(b,function(a){return{size:a.size,targets:[a.target],align:r(a.align,.5)};});g;){for(f=b.length;f--;){g=b[f],n=(Math.min.apply(0,g.targets)+Math.max.apply(0,g.targets))/2,g.pos=Math.min(Math.max(0,n-g.size*g.align),c-g.size);}f=b.length;for(g=!1;f--;){0<f&&b[f-1].pos+b[f-1].size>b[f].pos&&(b[f-1].size+=b[f].size,b[f-1].targets=b[f-1].targets.concat(b[f].targets),b[f-1].align=.5,b[f-1].pos+b[f-1].size>c&&(b[f-1].pos=c-b[f-1].size),b.splice(f,1),g=!0);}}q.push.apply(q,w);f=0;l(b,function(b){var e=0;if(l(b.targets,function(){q[f].pos=b.pos+e;if(Math.abs(q[f].pos-q[f].target)>d)return p(q.slice(0,f+1),function(a){delete a.pos;}),q.reducedLen=(q.reducedLen||c)-.1*c,q.reducedLen>.1*c&&a.distribute(q,c,d),!0;e+=q[f].size;f++;}))return!0;});m(q,e);};c.prototype.drawDataLabels=function(){function c(a,b){var c=b.filter;return c?(b=c.operator,a=a[c.property],c=c.value,"\x3e"===b&&a>c||"\x3c"===b&&a<c||"\x3e\x3d"===b&&a>=c||"\x3c\x3d"===b&&a<=c||"\x3d\x3d"===b&&a==c||"\x3d\x3d\x3d"===b&&a===c?!0:!1):!0;}function f(a,c){var d=[],e;if(b(a)&&!b(c))d=t(a,function(a){return x(a,c);});else if(b(c)&&!b(a))d=t(c,function(b){return x(a,b);});else if(b(a)||b(c))for(e=Math.max(a.length,c.length);e--;){d[e]=x(a[e],c[e]);}else d=x(a,c);return d;}var g=this,l=g.chart,m=g.options,u=m.dataLabels,q=g.points,v,G=g.hasRendered||0,I,E=r(u.defer,!!m.animation),k=l.renderer,u=f(f(l.options.plotOptions&&l.options.plotOptions.series&&l.options.plotOptions.series.dataLabels,l.options.plotOptions&&l.options.plotOptions[g.type]&&l.options.plotOptions[g.type].dataLabels),u);if(b(u)||u.enabled||g._hasPointLabels)I=g.plotGroup("dataLabelsGroup","data-labels",E&&!G?"hidden":"visible",u.zIndex||6),E&&(I.attr({opacity:+G}),G||B(g,"afterAnimate",function(){g.visible&&I.show(!0);I[m.animation?"animate":"attr"]({opacity:1},{duration:200});})),p(q,function(b){v=n(f(u,b.dlOptions||b.options&&b.options.dataLabels));p(v,function(e,f){var h=e.enabled&&!b.isNull&&c(b,e),q,m,n,w=b.dataLabels?b.dataLabels[f]:b.dataLabel,p=b.connectors?b.connectors[f]:b.connector,r=!w;h&&(q=b.getLabelConfig(),m=e[b.formatPrefix+"Format"]||e.format,q=F(m)?d(m,q,l.time):(e[b.formatPrefix+"Formatter"]||e.formatter).call(q,e),m=e.rotation,n={r:e.borderRadius||0,rotation:m,padding:e.padding,zIndex:1},a.objectEach(n,function(a,b){void 0===a&&delete n[b];}));!w||h&&F(q)?h&&F(q)&&(w?n.text=q:(b.dataLabels=b.dataLabels||[],w=b.dataLabels[f]=m?k.text(q,0,-9999).addClass("highcharts-data-label"):k.label(q,0,-9999,e.shape,null,null,e.useHTML,null,"data-label"),f||(b.dataLabel=w),w.addClass(" highcharts-data-label-color-"+b.colorIndex+" "+(e.className||"")+(e.useHTML?" highcharts-tracker":""))),w.options=e,w.attr(n),w.added||w.add(I),g.alignDataLabel(b,w,e,null,r)):(b.dataLabel=b.dataLabel.destroy(),b.dataLabels&&(1===b.dataLabels.length?delete b.dataLabels:delete b.dataLabels[f]),f||delete b.dataLabel,p&&(b.connector=b.connector.destroy(),b.connectors&&(1===b.connectors.length?delete b.connectors:delete b.connectors[f])));});});a.fireEvent(this,"afterDrawDataLabels");};c.prototype.alignDataLabel=function(a,b,c,d,f){var e=this.chart,l=e.inverted,m=r(a.dlBox&&a.dlBox.centerX,a.plotX,-9999),n=r(a.plotY,-9999),w=b.getBBox(),p,k=c.rotation,t=c.align,u=this.visible&&(a.series.forceDL||e.isInsidePlot(m,Math.round(n),l)||d&&e.isInsidePlot(m,l?d.x+1:d.y+d.height-1,l)),h="justify"===r(c.overflow,"justify");if(u&&(p=e.renderer.fontMetrics(void 0,b).b,d=g({x:l?this.yAxis.len-n:m,y:Math.round(l?this.xAxis.len-m:n),width:0,height:0},d),g(c,{width:w.width,height:w.height}),k?(h=!1,m=e.renderer.rotCorr(p,k),m={x:d.x+c.x+d.width/2+m.x,y:d.y+c.y+{top:0,middle:.5,bottom:1}[c.verticalAlign]*d.height},b[f?"attr":"animate"](m).attr({align:t}),n=(k+720)%360,n=180<n&&360>n,"left"===t?m.y-=n?w.height:0:"center"===t?(m.x-=w.width/2,m.y-=w.height/2):"right"===t&&(m.x-=w.width,m.y-=n?0:w.height),b.placed=!0,b.alignAttr=m):(b.align(c,null,d),m=b.alignAttr),h&&0<=d.height?a.isLabelJustified=this.justifyDataLabel(b,c,m,w,d,f):r(c.crop,!0)&&(u=e.isInsidePlot(m.x,m.y)&&e.isInsidePlot(m.x+w.width,m.y+w.height)),c.shape&&!k))b[f?"attr":"animate"]({anchorX:l?e.plotWidth-a.plotY:a.plotX,anchorY:l?e.plotHeight-a.plotX:a.plotY});u||(b.attr({y:-9999}),b.placed=!1);};c.prototype.justifyDataLabel=function(a,b,c,d,f,g){var e=this.chart,l=b.align,m=b.verticalAlign,n,w,k=a.box?0:a.padding||0;n=c.x+k;0>n&&("right"===l?b.align="left":b.x=-n,w=!0);n=c.x+d.width-k;n>e.plotWidth&&("left"===l?b.align="right":b.x=e.plotWidth-n,w=!0);n=c.y+k;0>n&&("bottom"===m?b.verticalAlign="top":b.y=-n,w=!0);n=c.y+d.height-k;n>e.plotHeight&&("top"===m?b.verticalAlign="bottom":b.y=e.plotHeight-n,w=!0);w&&(a.placed=!g,a.align(b,null,f));return w;};u.pie&&(u.pie.prototype.drawDataLabels=function(){var b=this,d=b.data,f,g=b.chart,l=b.options.dataLabels,m=r(l.connectorPadding,10),n=r(l.connectorWidth,1),t=g.plotWidth,u=g.plotHeight,v=Math.round(g.chartWidth/3),x,k=b.center,y=k[2]/2,B=k[1],h,K,L,R,Q=[[],[]],N,M,P,U,S=[0,0,0,0];b.visible&&(l.enabled||b._hasPointLabels)&&(p(d,function(a){a.dataLabel&&a.visible&&a.dataLabel.shortened&&(a.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),a.dataLabel.shortened=!1);}),c.prototype.drawDataLabels.apply(b),p(d,function(a){a.dataLabel&&(a.visible?(Q[a.half].push(a),a.dataLabel._pos=null,a.dataLabel.getBBox().width>v&&(a.dataLabel.css({width:.7*v}),a.dataLabel.shortened=!0)):(a.dataLabel=a.dataLabel.destroy(),a.dataLabels&&1===a.dataLabels.length&&delete a.dataLabels));}),p(Q,function(c,d){var e,n,q=c.length,w=[],v;if(q)for(b.sortByAngle(c,d-.5),0<b.maxLabelDistance&&(e=Math.max(0,B-y-b.maxLabelDistance),n=Math.min(B+y+b.maxLabelDistance,g.plotHeight),p(c,function(a){0<a.labelDistance&&a.dataLabel&&(a.top=Math.max(0,B-y-a.labelDistance),a.bottom=Math.min(B+y+a.labelDistance,g.plotHeight),v=a.dataLabel.getBBox().height||21,a.distributeBox={target:a.labelPos[1]-a.top+v/2,size:v,rank:a.y},w.push(a.distributeBox));}),e=n+v-e,a.distribute(w,e,e/5)),U=0;U<q;U++){f=c[U],L=f.labelPos,h=f.dataLabel,P=!1===f.visible?"hidden":"inherit",M=e=L[1],w&&F(f.distributeBox)&&(void 0===f.distributeBox.pos?P="hidden":(R=f.distributeBox.size,M=f.top+f.distributeBox.pos)),delete f.positionIndex,N=l.justify?k[0]+(d?-1:1)*(y+f.labelDistance):b.getX(M<f.top+2||M>f.bottom-2?e:M,d,f),h._attr={visibility:P,align:L[6]},h._pos={x:N+l.x+({left:m,right:-m}[L[6]]||0),y:M+l.y-10},L.x=N,L.y=M,r(l.crop,!0)&&(K=h.getBBox().width,e=null,N-K<m&&1===d?(e=Math.round(K-N+m),S[3]=Math.max(e,S[3])):N+K>t-m&&0===d&&(e=Math.round(N+K-t+m),S[1]=Math.max(e,S[1])),0>M-R/2?S[0]=Math.max(Math.round(-M+R/2),S[0]):M+R/2>u&&(S[2]=Math.max(Math.round(M+R/2-u),S[2])),h.sideOverflow=e);}}),0===E(S)||this.verifyDataLabelOverflow(S))&&(this.placeDataLabels(),n&&p(this.points,function(a){var c;x=a.connector;if((h=a.dataLabel)&&h._pos&&a.visible&&0<a.labelDistance){P=h._attr.visibility;if(c=!x)a.connector=x=g.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+a.colorIndex+(a.className?" "+a.className:"")).add(b.dataLabelsGroup);x[c?"attr":"animate"]({d:b.connectorPath(a.labelPos)});x.attr("visibility",P);}else x&&(a.connector=x.destroy());}));},u.pie.prototype.connectorPath=function(a){var b=a.x,c=a.y;return r(this.options.dataLabels.softConnector,!0)?["M",b+("left"===a[6]?5:-5),c,"C",b,c,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],"L",a[4],a[5]]:["M",b+("left"===a[6]?5:-5),c,"L",a[2],a[3],"L",a[4],a[5]];},u.pie.prototype.placeDataLabels=function(){p(this.points,function(a){var b=a.dataLabel;b&&a.visible&&((a=b._pos)?(b.sideOverflow&&(b._attr.width=b.getBBox().width-b.sideOverflow,b.css({width:b._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),b.shortened=!0),b.attr(b._attr),b[b.moved?"animate":"attr"](a),b.moved=!0):b&&b.attr({y:-9999}));},this);},u.pie.prototype.alignDataLabel=v,u.pie.prototype.verifyDataLabelOverflow=function(a){var b=this.center,c=this.options,d=c.center,e=c.minSize||80,g,l=null!==c.size;l||(null!==d[0]?g=Math.max(b[2]-Math.max(a[1],a[3]),e):(g=Math.max(b[2]-a[1]-a[3],e),b[0]+=(a[3]-a[1])/2),null!==d[1]?g=Math.max(Math.min(g,b[2]-Math.max(a[0],a[2])),e):(g=Math.max(Math.min(g,b[2]-a[0]-a[2]),e),b[1]+=(a[0]-a[2])/2),g<b[2]?(b[2]=g,b[3]=Math.min(f(c.innerSize||0,g),g),this.translate(b),this.drawDataLabels&&this.drawDataLabels()):l=!0);return l;});u.column&&(u.column.prototype.alignDataLabel=function(a,b,d,f,g){var e=this.chart.inverted,l=a.series,m=a.dlBox||a.shapeArgs,n=r(a.below,a.plotY>r(this.translatedThreshold,l.yAxis.len)),w=r(d.inside,!!this.options.stacking);m&&(f=x(m),0>f.y&&(f.height+=f.y,f.y=0),m=f.y+f.height-l.yAxis.len,0<m&&(f.height-=m),e&&(f={x:l.yAxis.len-f.y-f.height,y:l.xAxis.len-f.x-f.width,width:f.height,height:f.width}),w||(e?(f.x+=n?0:f.width,f.width=0):(f.y+=n?f.height:0,f.height=0)));d.align=r(d.align,!e||w?"center":n?"right":"left");d.verticalAlign=r(d.verticalAlign,e||w?"middle":n?"top":"bottom");c.prototype.alignDataLabel.call(this,a,b,d,f,g);a.isLabelJustified&&a.contrastColor&&b.css({color:a.contrastColor});});})(L);(function(a){var B=a.Chart,E=a.each,F=a.isArray,p=a.objectEach,g=a.pick;a=a.addEvent;a(B,"render",function(){var a=[];E(this.labelCollectors||[],function(d){a=a.concat(d());});E(this.yAxis||[],function(d){d.options.stackLabels&&!d.options.stackLabels.allowOverlap&&p(d.stacks,function(d){p(d,function(d){a.push(d.label);});});});E(this.series||[],function(d){var p=d.options.dataLabels;d.visible&&(!1!==p.enabled||d._hasPointLabels)&&E(d.points,function(d){if(d.visible){var p=F(d.dataLabels)?d.dataLabels:d.dataLabel?[d.dataLabel]:[];E(p,function(f){var c=f.options;f.labelrank=g(c.labelrank,d.labelrank,d.shapeArgs&&d.shapeArgs.height);c.allowOverlap||a.push(f);});}});});this.hideOverlappingLabels(a);});B.prototype.hideOverlappingLabels=function(a){var d=a.length,g=this.renderer,p,r,f,c,u,l,m=function m(a,c,d,f,g,l,_m,p){return!(g>a+d||g+_m<a||l>c+f||l+p<c);};f=function f(a){var b,c,d,f=a.box?0:a.padding||0;d=0;if(a&&(!a.alignAttr||a.placed))return b=a.alignAttr||{x:a.attr("x"),y:a.attr("y")},c=a.parentGroup,a.width||(d=a.getBBox(),a.width=d.width,a.height=d.height,d=g.fontMetrics(null,a.element).h),{x:b.x+(c.translateX||0)+f,y:b.y+(c.translateY||0)+f-d,width:a.width-2*f,height:a.height-2*f};};for(r=0;r<d;r++){if(p=a[r])p.oldOpacity=p.opacity,p.newOpacity=1,p.absoluteBox=f(p);}a.sort(function(a,c){return(c.labelrank||0)-(a.labelrank||0);});for(r=0;r<d;r++){for(l=(f=a[r])&&f.absoluteBox,p=r+1;p<d;++p){if(u=(c=a[p])&&c.absoluteBox,l&&u&&f!==c&&0!==f.newOpacity&&0!==c.newOpacity&&(u=m(l.x,l.y,l.width,l.height,u.x,u.y,u.width,u.height)))(f.labelrank<c.labelrank?f:c).newOpacity=0;}}E(a,function(a){var b,c;a&&(c=a.newOpacity,a.oldOpacity!==c&&(a.alignAttr&&a.placed?(c?a.show(!0):b=function b(){a.hide();},a.alignAttr.opacity=c,a[a.isOld?"animate":"attr"](a.alignAttr,null,b)):a.attr({opacity:c})),a.isOld=!0);});};})(L);(function(a){var B=a.addEvent,E=a.Chart,F=a.createElement,p=a.css,g=a.defaultOptions,d=a.defaultPlotOptions,t=a.each,x=a.extend,v=a.fireEvent,r=a.hasTouch,f=a.inArray,c=a.isObject,u=a.Legend,l=a.merge,m=a.pick,b=a.Point,n=a.Series,e=a.seriesTypes,D;D=a.TrackerMixin={drawTrackerPoint:function drawTrackerPoint(){var a=this,b=a.chart.pointer,c=function c(a){var c=b.getPointFromEvent(a);void 0!==c&&(b.isDirectTouch=!0,c.onMouseOver(a));};t(a.points,function(a){a.graphic&&(a.graphic.element.point=a);a.dataLabel&&(a.dataLabel.div?a.dataLabel.div.point=a:a.dataLabel.element.point=a);});a._hasTracking||(t(a.trackerGroups,function(d){if(a[d]&&(a[d].addClass("highcharts-tracker").on("mouseover",c).on("mouseout",function(a){b.onTrackerMouseOut(a);}),r))a[d].on("touchstart",c);}),a._hasTracking=!0);v(this,"afterDrawTracker");},drawTrackerGraph:function drawTrackerGraph(){var a=this,b=a.options.trackByArea,c=[].concat(b?a.areaPath:a.graphPath),d=c.length,e=a.chart,f=e.pointer,g=e.renderer,l=e.options.tooltip.snap,m=a.tracker,k,n=function n(){if(e.hoverSeries!==a)a.onMouseOver();};if(d&&!b)for(k=d+1;k--;){"M"===c[k]&&c.splice(k+1,0,c[k+1]-l,c[k+2],"L"),(k&&"M"===c[k]||k===d)&&c.splice(k,0,"L",c[k-2]+l,c[k-1]);}m?m.attr({d:c}):a.graph&&(a.tracker=g.path(c).attr({visibility:a.visible?"visible":"hidden",zIndex:2}).addClass(b?"highcharts-tracker-area":"highcharts-tracker-line").add(a.group),t([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(a){f.onTrackerMouseOut(a);});if(r)a.on("touchstart",n);}));v(this,"afterDrawTracker");}};e.column&&(e.column.prototype.drawTracker=D.drawTrackerPoint);e.pie&&(e.pie.prototype.drawTracker=D.drawTrackerPoint);e.scatter&&(e.scatter.prototype.drawTracker=D.drawTrackerPoint);x(u.prototype,{setItemEvents:function setItemEvents(a,c,d){var e=this.chart.renderer.boxWrapper,f="highcharts-legend-"+(a instanceof b?"point":"series")+"-active";(d?c:a.legendGroup).on("mouseover",function(){a.setState("hover");e.addClass(f);}).on("mouseout",function(){e.removeClass(f);a.setState();}).on("click",function(b){var c=function c(){a.setVisible&&a.setVisible();};e.removeClass(f);b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",b,c):v(a,"legendItemClick",b,c);});},createCheckboxForItem:function createCheckboxForItem(a){a.checkbox=F("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container);B(a.checkbox,"click",function(b){v(a.series||a,"checkboxClick",{checked:b.target.checked,item:a},function(){a.select();});});}});x(E.prototype,{showResetZoom:function showResetZoom(){function a(){b.zoomOut();}var b=this,c=g.lang,d=b.options.chart.resetZoomButton,e=d.theme,f=e.states,l="chart"===d.relativeTo?null:"plotBox";v(this,"beforeShowResetZoom",null,function(){b.resetZoomButton=b.renderer.button(c.resetZoom,null,null,a,e,f&&f.hover).attr({align:d.position.align,title:c.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(d.position,!1,l);});},zoomOut:function zoomOut(){v(this,"selection",{resetSelection:!0},this.zoom);},zoom:function zoom(a){var b,d=this.pointer,e=!1,f;!a||a.resetSelection?(t(this.axes,function(a){b=a.zoom();}),d.initiated=!1):t(a.xAxis.concat(a.yAxis),function(a){var c=a.axis;d[c.isXAxis?"zoomX":"zoomY"]&&(b=c.zoom(a.min,a.max),c.displayBtn&&(e=!0));});f=this.resetZoomButton;e&&!f?this.showResetZoom():!e&&c(f)&&(this.resetZoomButton=f.destroy());b&&this.redraw(m(this.options.chart.animation,a&&a.animation,100>this.pointCount));},pan:function pan(a,b){var c=this,d=c.hoverPoints,e;d&&t(d,function(a){a.setState();});t("xy"===b?[1,0]:[1],function(b){b=c[b?"xAxis":"yAxis"][0];var d=b.horiz,f=a[d?"chartX":"chartY"],d=d?"mouseDownX":"mouseDownY",g=c[d],k=(b.pointRange||0)/2,l=b.reversed&&!c.inverted||!b.reversed&&c.inverted?-1:1,m=b.getExtremes(),h=b.toValue(g-f,!0)+k*l,l=b.toValue(g+b.len-f,!0)-k*l,n=l<h,g=n?l:h,h=n?h:l,l=Math.min(m.dataMin,k?m.min:b.toValue(b.toPixels(m.min)-b.minPixelPadding)),k=Math.max(m.dataMax,k?m.max:b.toValue(b.toPixels(m.max)+b.minPixelPadding)),n=l-g;0<n&&(h+=n,g=l);n=h-k;0<n&&(h=k,g-=n);b.series.length&&g!==m.min&&h!==m.max&&(b.setExtremes(g,h,!1,!1,{trigger:"pan"}),e=!0);c[d]=f;});e&&c.redraw(!1);p(c.container,{cursor:"move"});}});x(b.prototype,{select:function select(a,b){var c=this,d=c.series,e=d.chart;a=m(a,!c.selected);c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=c.options.selected=a;d.options.data[f(c,d.data)]=c.options;c.setState(a&&"select");b||t(e.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=a.options.selected=!1,d.options.data[f(a,d.data)]=a.options,a.setState(""),a.firePointEvent("unselect"));});});},onMouseOver:function onMouseOver(a){var b=this.series.chart,c=b.pointer;a=a?c.normalize(a):c.getChartCoordinatesFromPoint(this,b.inverted);c.runPointActions(a,this);},onMouseOut:function onMouseOut(){var a=this.series.chart;this.firePointEvent("mouseOut");t(a.hoverPoints||[],function(a){a.setState();});a.hoverPoints=a.hoverPoint=null;},importEvents:function importEvents(){if(!this.hasImportedEvents){var b=this,c=l(b.series.options.point,b.options).events;b.events=c;a.objectEach(c,function(a,c){B(b,c,a);});this.hasImportedEvents=!0;}},setState:function setState(a,b){var c=Math.floor(this.plotX),e=this.plotY,f=this.series,g=f.options.states[a||"normal"]||{},l=d[f.type].marker&&f.options.marker,n=l&&!1===l.enabled,p=l&&l.states&&l.states[a||"normal"]||{},k=!1===p.enabled,r=f.stateMarkerGraphic,t=this.marker||{},h=f.chart,u=f.halo,w,x=l&&f.markerAttribs;a=a||"";if(!(a===this.state&&!b||this.selected&&"select"!==a||!1===g.enabled||a&&(k||n&&!1===p.enabled)||a&&t.states&&t.states[a]&&!1===t.states[a].enabled)){x&&(w=f.markerAttribs(this,a));if(this.graphic)this.state&&this.graphic.removeClass("highcharts-point-"+this.state),a&&this.graphic.addClass("highcharts-point-"+a),w&&this.graphic.animate(w,m(h.options.chart.animation,p.animation,l.animation)),r&&r.hide();else{if(a&&p)if(l=t.symbol||f.symbol,r&&r.currentSymbol!==l&&(r=r.destroy()),r)r[b?"animate":"attr"]({x:w.x,y:w.y});else l&&(f.stateMarkerGraphic=r=h.renderer.symbol(l,w.x,w.y,w.width,w.height).add(f.markerGroup),r.currentSymbol=l);r&&(r[a&&h.isInsidePlot(c,e,h.inverted)?"show":"hide"](),r.element.point=this);}(c=g.halo)&&c.size?(u||(f.halo=u=h.renderer.path().add((this.graphic||r).parentGroup)),u.show()[b?"animate":"attr"]({d:this.haloPath(c.size)}),u.attr({"class":"highcharts-halo highcharts-color-"+m(this.colorIndex,f.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),u.point=this):u&&u.point&&u.point.haloPath&&u.animate({d:u.point.haloPath(0)},null,u.hide);this.state=a;v(this,"afterSetState");}},haloPath:function haloPath(a){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-a,this.plotY-a,2*a,2*a);}});x(n.prototype,{onMouseOver:function onMouseOver(){var a=this.chart,b=a.hoverSeries;if(b&&b!==this)b.onMouseOut();this.options.events.mouseOver&&v(this,"mouseOver");this.setState("hover");a.hoverSeries=this;},onMouseOut:function onMouseOut(){var a=this.options,b=this.chart,c=b.tooltip,d=b.hoverPoint;b.hoverSeries=null;if(d)d.onMouseOut();this&&a.events.mouseOut&&v(this,"mouseOut");!c||this.stickyTracking||c.shared&&!this.noSharedTooltip||c.hide();this.setState();},setState:function setState(a){var b=this;a=a||"";b.state!==a&&(t([b.group,b.markerGroup,b.dataLabelsGroup],function(c){c&&(b.state&&c.removeClass("highcharts-series-"+b.state),a&&c.addClass("highcharts-series-"+a));}),b.state=a);},setVisible:function setVisible(a,b){var c=this,d=c.chart,e=c.legendItem,f,g=d.options.chart.ignoreHiddenSeries,l=c.visible;f=(c.visible=a=c.options.visible=c.userOptions.visible=void 0===a?!l:a)?"show":"hide";t(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(a){if(c[a])c[a][f]();});if(d.hoverSeries===c||(d.hoverPoint&&d.hoverPoint.series)===c)c.onMouseOut();e&&d.legend.colorizeItem(c,a);c.isDirty=!0;c.options.stacking&&t(d.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0);});t(c.linkedSeries,function(b){b.setVisible(a,!1);});g&&(d.isDirtyBox=!0);v(c,f);!1!==b&&d.redraw();},show:function show(){this.setVisible(!0);},hide:function hide(){this.setVisible(!1);},select:function select(a){this.selected=a=void 0===a?!this.selected:a;this.checkbox&&(this.checkbox.checked=a);v(this,a?"select":"unselect");},drawTracker:D.drawTrackerGraph});})(L);(function(a){var B=a.Chart,E=a.each,F=a.inArray,p=a.isArray,g=a.isObject,d=a.pick,t=a.splat;B.prototype.setResponsive=function(d){var g=this.options.responsive,p=[],f=this.currentResponsive;g&&g.rules&&E(g.rules,function(c){void 0===c._id&&(c._id=a.uniqueKey());this.matchResponsiveRule(c,p,d);},this);var c=a.merge.apply(0,a.map(p,function(c){return a.find(g.rules,function(a){return a._id===c;}).chartOptions;})),p=p.toString()||void 0;p!==(f&&f.ruleIds)&&(f&&this.update(f.undoOptions,d),p?(this.currentResponsive={ruleIds:p,mergedOptions:c,undoOptions:this.currentOptions(c)},this.update(c,d)):this.currentResponsive=void 0);};B.prototype.matchResponsiveRule=function(a,g){var p=a.condition;(p.callback||function(){return this.chartWidth<=d(p.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=d(p.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=d(p.minWidth,0)&&this.chartHeight>=d(p.minHeight,0);}).call(this)&&g.push(a._id);};B.prototype.currentOptions=function(d){function v(d,c,r,l){var f;a.objectEach(d,function(a,d){if(!l&&-1<F(d,["series","xAxis","yAxis"]))for(a=t(a),r[d]=[],f=0;f<a.length;f++){c[d][f]&&(r[d][f]={},v(a[f],c[d][f],r[d][f],l+1));}else g(a)?(r[d]=p(a)?[]:{},v(a,c[d]||{},r[d],l+1)):r[d]=c[d]||null;});}var r={};v(d,this.options,r,0);return r;};})(L);return L;});Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=Highcharts;},{}],66:[function(require,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}var ref=require('/gen/prismjs.js');var global={Prism:Prism};var _module=undefined;var hitextPrismjs;var _define=function define(){var fn=arguments[arguments.length-1];hitextPrismjs=fn();_define=undefined;};_define.amd=true;!function(e){if("object"==(typeof exports==="undefined"?"undefined":_typeof(exports))&&"undefined"!=typeof _module)_module.exports=e();else if("function"==typeof _define&&_define.amd)_define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).hitextPrismjs=e();}}(function(){return function(){return function e(n,t,o){function i(f,u){if(!t[f]){if(!n[f]){var s="function"==typeof require&&require;if(!u&&s)return s(f,!0);if(r)return r(f,!0);var p=new Error("Cannot find module '"+f+"'");throw p.code="MODULE_NOT_FOUND",p;}var d=t[f]={exports:{}};n[f][0].call(d.exports,function(e){return i(n[f][1][e]||e);},d,d.exports,e,n,t,o);}return t[f].exports;}for(var r="function"==typeof require&&require,f=0;f<o.length;f++){i(o[f]);}return i;};}()({1:[function(e,n,t){(function(t){var _ref=t.Prism||e("prismjs"),o=_ref.tokenize,i=_ref.languages;n.exports=function(e){return function(n,t){function r(e,n){e.forEach(function(e){"string"!=typeof e&&function(e,n){t("prism",n,n+e.length,e.type),Array.isArray(e.content)&&r(e.content,n);}(e,n),n+=e.length;});}r(o(n,i[e]),0);};},n.exports.printer={html:{hooks:{prism:{open:function open(e){return'<span class="token '+e+'">';},close:function close(){return"</span>";}}}}};}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});},{prismjs:void 0}]},{},[1])(1);});Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=hitextPrismjs;},{"/gen/prismjs.js":69}],67:[function(require,module,exports){"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}var global={};var _module=undefined;var hitext;var _define=function define(){var fn=arguments[arguments.length-1];hitext=fn();_define=undefined;};_define.amd=true;!function(e){if("object"==(typeof exports==="undefined"?"undefined":_typeof(exports))&&"undefined"!=typeof _module)_module.exports=e();else if("function"==typeof _define&&_define.amd)_define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).hitext=e();}}(function(){return function(){return function e(n,r,t){function a(i,l){if(!r[i]){if(!n[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c;}var u=r[i]={exports:{}};n[i][0].call(u.exports,function(e){return a(n[i][1][e]||e);},u,u.exports,e,n,r,t);}return r[i].exports;}for(var o="function"==typeof require&&require,i=0;i<t.length;i++){a(t[i]);}return a;};}()({1:[function(e,n,r){"use strict";var t=e("color-convert"),a=function a(e,n){return function(){return"\x1B[".concat(e.apply(t,arguments)+n,"m");};},o=function o(e,n){return function(){var r=e.apply(t,arguments);return"\x1B[".concat(38+n,";5;").concat(r,"m");};},i=function i(e,n){return function(){var r=e.apply(t,arguments);return"\x1B[".concat(38+n,";2;").concat(r[0],";").concat(r[1],";").concat(r[2],"m");};};Object.defineProperty(n,"exports",{enumerable:!0,get:function get(){var e=new Map(),n={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};n.color.grey=n.color.gray;for(var _i=0,_Object$keys=Object.keys(n);_i<_Object$keys.length;_i++){var _r=_Object$keys[_i];var _t=n[_r];for(var _i3=0,_Object$keys3=Object.keys(_t);_i3<_Object$keys3.length;_i3++){var _r2=_Object$keys3[_i3];var _a=_t[_r2];n[_r2]={open:"\x1B[".concat(_a[0],"m"),close:"\x1B[".concat(_a[1],"m")},_t[_r2]=n[_r2],e.set(_a[0],_a[1]);}Object.defineProperty(n,_r,{value:_t,enumerable:!1}),Object.defineProperty(n,"codes",{value:e,enumerable:!1});}var r=function r(e){return e;},l=function l(e,n,r){return[e,n,r];};n.color.close="[39m",n.bgColor.close="[49m",n.color.ansi={ansi:a(r,0)},n.color.ansi256={ansi256:o(r,0)},n.color.ansi16m={rgb:i(l,0)},n.bgColor.ansi={ansi:a(r,10)},n.bgColor.ansi256={ansi256:o(r,10)},n.bgColor.ansi16m={rgb:i(l,10)};for(var _i2=0,_Object$keys2=Object.keys(t);_i2<_Object$keys2.length;_i2++){var _e=_Object$keys2[_i2];if("object"!=_typeof(t[_e]))continue;var _r3=t[_e];"ansi16"===_e&&(_e="ansi"),"ansi16"in _r3&&(n.color.ansi[_e]=a(_r3.ansi16,0),n.bgColor.ansi[_e]=a(_r3.ansi16,10)),"ansi256"in _r3&&(n.color.ansi256[_e]=o(_r3.ansi256,0),n.bgColor.ansi256[_e]=o(_r3.ansi256,10)),"rgb"in _r3&&(n.color.ansi16m[_e]=i(_r3.rgb,0),n.bgColor.ansi16m[_e]=i(_r3.rgb,10));}return n;}});},{"color-convert":3}],2:[function(e,n,r){var t=e("color-name"),a={};for(var o in t){t.hasOwnProperty(o)&&(a[t[o]]=o);}var i=n.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var l in i){if(i.hasOwnProperty(l)){if(!("channels"in i[l]))throw new Error("missing channels property: "+l);if(!("labels"in i[l]))throw new Error("missing channel labels property: "+l);if(i[l].labels.length!==i[l].channels)throw new Error("channel and label counts mismatch: "+l);var s=i[l].channels,c=i[l].labels;delete i[l].channels,delete i[l].labels,Object.defineProperty(i[l],"channels",{value:s}),Object.defineProperty(i[l],"labels",{value:c});}}i.rgb.hsl=function(e){var n,r,t=e[0]/255,a=e[1]/255,o=e[2]/255,i=Math.min(t,a,o),l=Math.max(t,a,o),s=l-i;return l===i?n=0:t===l?n=(a-o)/s:a===l?n=2+(o-t)/s:o===l&&(n=4+(t-a)/s),(n=Math.min(60*n,360))<0&&(n+=360),r=(i+l)/2,[n,100*(l===i?0:r<=.5?s/(l+i):s/(2-l-i)),100*r];},i.rgb.hsv=function(e){var n,r,t,a,o,i=e[0]/255,l=e[1]/255,s=e[2]/255,c=Math.max(i,l,s),u=c-Math.min(i,l,s),h=function h(e){return(c-e)/6/u+.5;};return 0===u?a=o=0:(o=u/c,n=h(i),r=h(l),t=h(s),i===c?a=t-r:l===c?a=1/3+n-t:s===c&&(a=2/3+r-n),a<0?a+=1:a>1&&(a-=1)),[360*a,100*o,100*c];},i.rgb.hwb=function(e){var n=e[0],r=e[1],t=e[2];return[i.rgb.hsl(e)[0],100*(1/255*Math.min(n,Math.min(r,t))),100*(t=1-1/255*Math.max(n,Math.max(r,t)))];},i.rgb.cmyk=function(e){var n,r=e[0]/255,t=e[1]/255,a=e[2]/255;return[100*((1-r-(n=Math.min(1-r,1-t,1-a)))/(1-n)||0),100*((1-t-n)/(1-n)||0),100*((1-a-n)/(1-n)||0),100*n];},i.rgb.keyword=function(e){var n=a[e];if(n)return n;var r,o,i,l=1/0;for(var s in t){if(t.hasOwnProperty(s)){var c=t[s],u=(o=e,i=c,Math.pow(o[0]-i[0],2)+Math.pow(o[1]-i[1],2)+Math.pow(o[2]-i[2],2));u<l&&(l=u,r=s);}}return r;},i.keyword.rgb=function(e){return t[e];},i.rgb.xyz=function(e){var n=e[0]/255,r=e[1]/255,t=e[2]/255;return[100*(.4124*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)),100*(.2126*n+.7152*r+.0722*t),100*(.0193*n+.1192*r+.9505*t)];},i.rgb.lab=function(e){var n=i.rgb.xyz(e),r=n[0],t=n[1],a=n[2];return t/=100,a/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116)-16,500*(r-t),200*(t-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))];},i.hsl.rgb=function(e){var n,r,t,a,o,i=e[0]/360,l=e[1]/100,s=e[2]/100;if(0===l)return[o=255*s,o,o];n=2*s-(r=s<.5?s*(1+l):s+l-s*l),a=[0,0,0];for(var c=0;c<3;c++){(t=i+1/3*-(c-1))<0&&t++,t>1&&t--,o=6*t<1?n+6*(r-n)*t:2*t<1?r:3*t<2?n+(r-n)*(2/3-t)*6:n,a[c]=255*o;}return a;},i.hsl.hsv=function(e){var n=e[0],r=e[1]/100,t=e[2]/100,a=r,o=Math.max(t,.01);return r*=(t*=2)<=1?t:2-t,a*=o<=1?o:2-o,[n,100*(0===t?2*a/(o+a):2*r/(t+r)),100*((t+r)/2)];},i.hsv.rgb=function(e){var n=e[0]/60,r=e[1]/100,t=e[2]/100,a=Math.floor(n)%6,o=n-Math.floor(n),i=255*t*(1-r),l=255*t*(1-r*o),s=255*t*(1-r*(1-o));switch(t*=255,a){case 0:return[t,s,i];case 1:return[l,t,i];case 2:return[i,t,s];case 3:return[i,l,t];case 4:return[s,i,t];case 5:return[t,i,l];}},i.hsv.hsl=function(e){var n,r,t,a=e[0],o=e[1]/100,i=e[2]/100,l=Math.max(i,.01);return t=(2-o)*i,r=o*l,[a,100*(r=(r/=(n=(2-o)*l)<=1?n:2-n)||0),100*(t/=2)];},i.hwb.rgb=function(e){var n,r,t,a,o,i,l,s=e[0]/360,c=e[1]/100,u=e[2]/100,h=c+u;switch(h>1&&(c/=h,u/=h),r=1-u,t=6*s-(n=Math.floor(6*s)),0!=(1&n)&&(t=1-t),a=c+t*(r-c),n){default:case 6:case 0:o=r,i=a,l=c;break;case 1:o=a,i=r,l=c;break;case 2:o=c,i=r,l=a;break;case 3:o=c,i=a,l=r;break;case 4:o=a,i=c,l=r;break;case 5:o=r,i=c,l=a;}return[255*o,255*i,255*l];},i.cmyk.rgb=function(e){var n=e[0]/100,r=e[1]/100,t=e[2]/100,a=e[3]/100;return[255*(1-Math.min(1,n*(1-a)+a)),255*(1-Math.min(1,r*(1-a)+a)),255*(1-Math.min(1,t*(1-a)+a))];},i.xyz.rgb=function(e){var n,r,t,a=e[0]/100,o=e[1]/100,i=e[2]/100;return r=-.9689*a+1.8758*o+.0415*i,t=.0557*a+-.204*o+1.057*i,n=(n=3.2406*a+-1.5372*o+-.4986*i)>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,[255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1)),255*(t=Math.min(Math.max(0,t),1))];},i.xyz.lab=function(e){var n=e[0],r=e[1],t=e[2];return r/=100,t/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116))];},i.lab.xyz=function(e){var n,r,t,a=e[0],o=e[1],i=e[2];n=o/500+(r=(a+16)/116),t=r-i/200;var l=Math.pow(r,3),s=Math.pow(n,3),c=Math.pow(t,3);return r=l>.008856?l:(r-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,t=c>.008856?c:(t-16/116)/7.787,[n*=95.047,r*=100,t*=108.883];},i.lab.lch=function(e){var n,r=e[0],t=e[1],a=e[2];return(n=360*Math.atan2(a,t)/2/Math.PI)<0&&(n+=360),[r,Math.sqrt(t*t+a*a),n];},i.lch.lab=function(e){var n,r=e[0],t=e[1];return n=e[2]/360*2*Math.PI,[r,t*Math.cos(n),t*Math.sin(n)];},i.rgb.ansi16=function(e){var n=e[0],r=e[1],t=e[2],a=1 in arguments?arguments[1]:i.rgb.hsv(e)[2];if(0===(a=Math.round(a/50)))return 30;var o=30+(Math.round(t/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===a&&(o+=60),o;},i.hsv.ansi16=function(e){return i.rgb.ansi16(i.hsv.rgb(e),e[2]);},i.rgb.ansi256=function(e){var n=e[0],r=e[1],t=e[2];return n===r&&r===t?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(r/255*5)+Math.round(t/255*5);},i.ansi16.rgb=function(e){var n=e%10;if(0===n||7===n)return e>50&&(n+=3.5),[n=n/10.5*255,n,n];var r=.5*(1+~~(e>50));return[(1&n)*r*255,(n>>1&1)*r*255,(n>>2&1)*r*255];},i.ansi256.rgb=function(e){if(e>=232){var n=10*(e-232)+8;return[n,n,n];}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255];},i.rgb.hex=function(e){var n=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(n.length)+n;},i.hex.rgb=function(e){var n=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!n)return[0,0,0];var r=n[0];3===n[0].length&&(r=r.split("").map(function(e){return e+e;}).join(""));var t=parseInt(r,16);return[t>>16&255,t>>8&255,255&t];},i.rgb.hcg=function(e){var n,r,t=e[0]/255,a=e[1]/255,o=e[2]/255,i=Math.max(Math.max(t,a),o),l=Math.min(Math.min(t,a),o),s=i-l;return n=s<1?l/(1-s):0,r=s<=0?0:i===t?(a-o)/s%6:i===a?2+(o-t)/s:4+(t-a)/s+4,r/=6,[360*(r%=1),100*s,100*n];},i.hsl.hcg=function(e){var n=e[1]/100,r=e[2]/100,t=1,a=0;return(t=r<.5?2*n*r:2*n*(1-r))<1&&(a=(r-.5*t)/(1-t)),[e[0],100*t,100*a];},i.hsv.hcg=function(e){var n=e[1]/100,r=e[2]/100,t=n*r,a=0;return t<1&&(a=(r-t)/(1-t)),[e[0],100*t,100*a];},i.hcg.rgb=function(e){var n=e[0]/360,r=e[1]/100,t=e[2]/100;if(0===r)return[255*t,255*t,255*t];var a,o=[0,0,0],i=n%1*6,l=i%1,s=1-l;switch(Math.floor(i)){case 0:o[0]=1,o[1]=l,o[2]=0;break;case 1:o[0]=s,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=l;break;case 3:o[0]=0,o[1]=s,o[2]=1;break;case 4:o[0]=l,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=s;}return a=(1-r)*t,[255*(r*o[0]+a),255*(r*o[1]+a),255*(r*o[2]+a)];},i.hcg.hsv=function(e){var n=e[1]/100,r=n+e[2]/100*(1-n),t=0;return r>0&&(t=n/r),[e[0],100*t,100*r];},i.hcg.hsl=function(e){var n=e[1]/100,r=e[2]/100*(1-n)+.5*n,t=0;return r>0&&r<.5?t=n/(2*r):r>=.5&&r<1&&(t=n/(2*(1-r))),[e[0],100*t,100*r];},i.hcg.hwb=function(e){var n=e[1]/100,r=n+e[2]/100*(1-n);return[e[0],100*(r-n),100*(1-r)];},i.hwb.hcg=function(e){var n=e[1]/100,r=1-e[2]/100,t=r-n,a=0;return t<1&&(a=(r-t)/(1-t)),[e[0],100*t,100*a];},i.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255];},i.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535];},i.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255];},i.gray.hsl=i.gray.hsv=function(e){return[0,0,e[0]];},i.gray.hwb=function(e){return[0,100,e[0]];},i.gray.cmyk=function(e){return[0,0,0,e[0]];},i.gray.lab=function(e){return[e[0],0,0];},i.gray.hex=function(e){var n=255&Math.round(e[0]/100*255),r=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return"000000".substring(r.length)+r;},i.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100];};},{"color-name":5}],3:[function(e,n,r){var t=e("./conversions"),a=e("./route"),o={};Object.keys(t).forEach(function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:t[e].channels}),Object.defineProperty(o[e],"labels",{value:t[e].labels});var n=a(e);Object.keys(n).forEach(function(r){var t=n[r];o[e][r]=function(e){var n=function n(_n){if(void 0===_n||null===_n)return _n;arguments.length>1&&(_n=Array.prototype.slice.call(arguments));var r=e(_n);if("object"==_typeof(r))for(var t=r.length,a=0;a<t;a++){r[a]=Math.round(r[a]);}return r;};return"conversion"in e&&(n.conversion=e.conversion),n;}(t),o[e][r].raw=function(e){var n=function n(_n2){return void 0===_n2||null===_n2?_n2:(arguments.length>1&&(_n2=Array.prototype.slice.call(arguments)),e(_n2));};return"conversion"in e&&(n.conversion=e.conversion),n;}(t);});}),n.exports=o;},{"./conversions":2,"./route":4}],4:[function(e,n,r){var t=e("./conversions");function a(e){var n=function(){for(var e={},n=Object.keys(t),r=n.length,a=0;a<r;a++){e[n[a]]={distance:-1,parent:null};}return e;}(),r=[e];for(n[e].distance=0;r.length;){for(var a=r.pop(),o=Object.keys(t[a]),i=o.length,l=0;l<i;l++){var s=o[l],c=n[s];-1===c.distance&&(c.distance=n[a].distance+1,c.parent=a,r.unshift(s));}}return n;}function o(e,n){return function(r){return n(e(r));};}function i(e,n){for(var r=[n[e].parent,e],a=t[n[e].parent][e],i=n[e].parent;n[i].parent;){r.unshift(n[i].parent),a=o(t[n[i].parent][i],a),i=n[i].parent;}return a.conversion=r,a;}n.exports=function(e){for(var n=a(e),r={},t=Object.keys(n),o=t.length,l=0;l<o;l++){var s=t[l];null!==n[s].parent&&(r[s]=i(s,n));}return r;};},{"./conversions":2}],5:[function(e,n,r){n.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};},{}],6:[function(e,n,r){n.exports={match:e("./match"),spotlight:e("./spotlight")};},{"./match":7,"./spotlight":8}],7:[function(e,n,r){function t(e,n,r,t){e(n||"match",r,t);}n.exports=function(e,n){if(e instanceof RegExp){var _r4=-1!==e.flags.indexOf("g")?e.flags:e.flags+"g",a=new RegExp(e,_r4);return function(e,r){var o;for(;o=a.exec(e);){t(r,n,o.index,o.index+o[0].length);}};}return e=String(e),function(r,a){var o=-1;for(;-1!==(o=r.indexOf(e,o+1));){t(a,n,o,o+e.length);}};};},{}],8:[function(e,n,r){n.exports=function(){for(var _len=arguments.length,e=new Array(_len),_key=0;_key<_len;_key++){e[_key]=arguments[_key];}return function(n,r){return e.forEach(function(e){return r.apply(void 0,["spotlight"].concat(_toConsumableArray(e)));});};};},{}],9:[function(e,n,r){var t=e("./utils"),a=t.ensureArray,o=t.ensureFunction,i=e("./generator"),l=e("./printer");function s(e){return l[e]||(e&&"object"==_typeof(e)?e:l.noop);}function c(e,n){var r=[];return a(n).forEach(function(n){o(n)(e,function(e,n,t,a){return r.push({type:e,start:n,end:t,data:a});});}),r;}function u(e,n,r){r=s(r);var t=o(r.print,function(e){return e;}),a=o(r.createContext,function(){})(),i=[];var l=r.hooks||{},c=[],u=o(r.start,function(){return"";})(a),h=1/0,g=0;l=Object.keys(l).reduce(function(e,n){return c.push(n),e[n]={open:o(l[n].open,function(){return"";}),close:o(l[n].close,function(){return"";})},e;},{}),n=n.slice().sort(function(e,n){return e.start-n.start||n.end-e.end||c.indexOf(e.type)-c.indexOf(n.type);});var f=function f(n){g!==n&&(u+=t(e.substring(g,n),a),g=n);},b=function b(e){return l[i[e].type].open(i[e].data,a)||"";},p=function p(e){return l[i[e].type].close(i[e].data,a)||"";},d=function d(e){for(;h<=e;){f(h);for(var _e2=i.length-1;_e2>=0&&i[_e2].end===h;_e2--){u+=p(_e2),i.pop();}h=1/0;for(var _e3=0;_e3<i.length;_e3++){i[_e3].end<h&&(h=i[_e3].end);}}};for(var _e4=0;_e4<n.length;_e4++){var _r5=n[_e4];var _t2=0;if(!1!==l.hasOwnProperty(_r5.type)&&!(_r5.start>_r5.end)&&Number.isFinite(_r5.start)&&Number.isFinite(_r5.end)){for(d(_r5.start),f(_r5.start),_t2=0;_t2<i.length;_t2++){if(i[_t2].end<_r5.end){for(var _e5=i.length-1;_e5>=_t2;_e5--){u+=p(_e5);}break;}}for(i.splice(_t2,0,_r5);_t2<i.length;_t2++){u+=b(_t2);}_r5.end<h&&(h=_r5.end);}}d(e.length),f(e.length);for(var _e6=i.length-1;_e6>=0;_e6--){u+=p(_e6);}return u+=o(r.finish,function(){})(a)||"";}function h(e,n){return n=s(n),o(n.finalize,String).call(n,e);}function g(e,n,r){var t=u(e,c(e,n),r);return t=h(t,r);}function f(e,n){return e=a(e),{use:function use(r){return f(e.concat(r),n);},printer:function printer(n){return f(e,n);},decorate:function decorate(r){return g(r,e,n);}};}f.printer=l,f.generator=i,f.generateRanges=c,f.print=u,f.finalize=h,f.decorate=g,f.utils=t,n.exports=f;},{"./generator":6,"./printer":12,"./utils":15}],10:[function(e,n,r){n.exports=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return Object.assign({},this,e,{hooks:Object.assign({},this.hooks,e.hooks)});};},{}],11:[function(e,n,r){n.exports={fork:e("./fork"),start:function start(){return"<div>";},finish:function finish(){return"</div>";},print:function print(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");},hooks:{syntax:{open:function open(e){return'<span class="syntax--'+e+'">';},close:function close(){return"</span>";}},spotlight:{open:function open(){return'<span class="spotlight">';},close:function close(){return"</span>";}},match:{open:function open(){return'<span class="match">';},close:function close(){return"</span>";}}}};},{"./fork":10}],12:[function(e,n,r){n.exports={noop:e("./noop"),html:e("./html"),tty:e("./tty")};},{"./html":11,"./noop":13,"./tty":14}],13:[function(e,n,r){n.exports={fork:e("./fork")};},{"./fork":10}],14:[function(e,n,r){var t=e("ansi-styles"),a=l("reset"),o=l("bgBlue","white"),i=function(e){var n={};for(var _r6 in e){n[_r6]=Array.isArray(e[_r6])?l.apply(void 0,_toConsumableArray(e[_r6])):l(e[_r6]);}return n;}({string:"yellow",comment:"gray",keyword:"red",key:"cyan",value:"cyan"});function l(){for(var _len2=arguments.length,e=new Array(_len2),_key2=0;_key2<_len2;_key2++){e[_key2]=arguments[_key2];}return e.reduce(function(e,n){switch(!0){case n in t.color:e.color=t.color[n].open;break;case n in t.bgColor:e.bgColor=t.bgColor[n].open;break;case"reset"===n:e.color="[39m",e.bgColor="[49m";}return e;},{});}function s(e){return{open:function open(n,r){var t=e(n)||{};r.stack.push(r.style),r.style=Object.assign({},r.style,t);},close:function close(e,n){n.style=n.stack.pop();}};}function c(e,n){var r="";for(var _t3 in e){if(e[_t3]!==n[_t3])switch(_t3){case"color":case"bgColor":r+=n[_t3]||"";}}return r;}n.exports={fork:e("./fork"),createContext:function createContext(){return{printed:a,style:a,stack:[]};},start:function start(e){return c({},e.printed);},finish:function finish(e){return c(e.printed,e.style);},print:function print(e,n){if(n.printed!==n.style){var _r7=c(n.printed,n.style);if(n.printed=n.style,_r7)return _r7+e;}return e;},hooks:{syntax:s(function(e){return i[e];}),spotlight:s(function(){return o;})}};},{"./fork":10,"ansi-styles":1}],15:[function(e,n,r){var t=function t(){};n.exports={ensureFunction:function ensureFunction(e,n){return"function"==typeof e?e:n||t;},ensureArray:function ensureArray(e){return Array.isArray(e)?e:[];}};},{}]},{},[9])(9);});Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=hitext;},{}],68:[function(require,module,exports){"use strict";function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance");}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){_typeof=function _typeof(obj){return _typeof2(obj);};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj);};}return _typeof(obj);}var global={};var _module=undefined;var jora;var _define=function define(){var fn=arguments[arguments.length-1];jora=fn();_define=undefined;};_define.amd=true;(function(f){if((typeof exports==="undefined"?"undefined":_typeof(exports))==="object"&&typeof _module!=="undefined"){_module.exports=f();}else if(typeof _define==="function"&&_define.amd){_define([],f);}else{var g;if(typeof window!=="undefined"){g=window;}else if(typeof global!=="undefined"){g=global;}else if(typeof self!=="undefined"){g=self;}else{g=this;}g.jora=f();}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a;}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r);},p,p.exports,r,e,n,t);}return n[i].exports;}for(var u="function"==typeof require&&require,i=0;i<t.length;i++){o(t[i]);}return o;}return r;}()({1:[function(require,module,exports){var strictParser=function(){var o=function o(k,v,_o,l){for(_o=_o||{},l=k.length;l--;_o[k[l]]=v){;}return _o;},$V0=[2,4],$V1=[1,12],$V2=[1,30],$V3=[1,8],$V4=[1,32],$V5=[1,20],$V6=[1,21],$V7=[1,22],$V8=[1,15],$V9=[1,16],$Va=[1,17],$Vb=[1,18],$Vc=[1,23],$Vd=[1,24],$Ve=[1,25],$Vf=[1,26],$Vg=[1,27],$Vh=[1,31],$Vi=[1,33],$Vj=[1,34],$Vk=[1,35],$Vl=[1,36],$Vm=[1,38],$Vn=[1,37],$Vo=[1,19],$Vp=[5,17,60,70],$Vq=[1,50],$Vr=[1,49],$Vs=[1,42],$Vt=[1,43],$Vu=[1,44],$Vv=[1,45],$Vw=[1,46],$Vx=[1,47],$Vy=[1,48],$Vz=[1,51],$VA=[1,52],$VB=[1,53],$VC=[1,54],$VD=[1,55],$VE=[1,56],$VF=[1,57],$VG=[1,58],$VH=[1,59],$VI=[1,60],$VJ=[5,10,12,15,16,17,21,22,23,41,42,43,44,47,48,49,50,51,54,55,57,58,59,60,61,63,69,70],$VK=[5,11,13,17,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,60,62,64,70],$VL=[1,61],$VM=[1,62],$VN=[1,63],$VO=[1,64],$VP=[1,65],$VQ=[1,66],$VR=[5,17,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,54,55,57,58,59,60,61,70],$VS=[2,49],$VT=[5,11,13,17,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,54,55,57,58,59,60,61,62,64,70],$VU=[1,72],$VV=[1,86],$VW=[1,85],$VX=[1,87],$VY=[1,88],$VZ=[1,89],$V_=[2,50],$V$=[5,11,13,17,28,29,30,60,62,64,70],$V01=[5,11,13,17,22,23,24,25,26,27,28,29,30,34,35,36,37,38,39,40,60,62,64,70],$V11=[62,64],$V21=[5,11,13,17,24,25,26,27,28,29,30,60,62,64,70],$V31=[5,11,13,17,24,25,26,27,28,29,30,34,35,40,60,62,64,70],$V41=[5,11,13,17,24,25,26,27,28,29,30,34,35,36,37,38,39,40,60,62,64,70],$V51=[1,150],$V61=[17,62];var parser={trace:function trace(){},yy:{},symbols_:{"error":2,"root":3,"block":4,"EOF":5,"nonEmptyBlock":6,"definitions":7,"e":8,"def":9,"$":10,";":11,"SYMBOL":12,":":13,"query":14,"SELF":15,"(":16,")":17,"keyword":18,"function":19,"op":20,"NOT":21,"-":22,"+":23,"IN":24,"HAS":25,"NOTIN":26,"HASNO":27,"AND":28,"OR":29,"?":30,"*":31,"/":32,"%":33,"=":34,"!=":35,"<":36,"<=":37,">":38,">=":39,"~=":40,"TRUE":41,"FALSE":42,"NULL":43,"UNDEFINED":44,"queryRoot":45,"relativePath":46,"@":47,"#":48,"STRING":49,"NUMBER":50,"REGEXP":51,"object":52,"array":53,".":54,".(":55,"arguments":56,"..":57,"..(":58,".[":59,"]":60,"[":61,",":62,"{":63,"}":64,"properties":65,"property":66,"...":67,"arrayItems":68,"FUNCTION_START":69,"FUNCTION_END":70,"$accept":0,"$end":1},terminals_:{2:"error",5:"EOF",10:"$",11:";",12:"SYMBOL",13:":",15:"SELF",16:"(",17:")",21:"NOT",22:"-",23:"+",24:"IN",25:"HAS",26:"NOTIN",27:"HASNO",28:"AND",29:"OR",30:"?",31:"*",32:"/",33:"%",34:"=",35:"!=",36:"<",37:"<=",38:">",39:">=",40:"~=",41:"TRUE",42:"FALSE",43:"NULL",44:"UNDEFINED",47:"@",48:"#",49:"STRING",50:"NUMBER",51:"REGEXP",54:".",55:".(",57:"..",58:"..(",59:".[",60:"]",61:"[",62:",",63:"{",64:"}",67:"...",69:"FUNCTION_START",70:"FUNCTION_END"},productions_:[0,[3,2],[4,1],[4,1],[4,0],[6,2],[6,1],[7,1],[7,2],[9,2],[9,3],[9,5],[8,1],[8,1],[8,3],[8,4],[8,1],[8,1],[8,1],[20,2],[20,2],[20,2],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,5],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[18,1],[18,1],[18,1],[18,1],[14,1],[14,1],[45,1],[45,1],[45,1],[45,2],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,2],[45,3],[45,3],[45,3],[45,4],[45,4],[45,5],[45,2],[45,3],[45,3],[46,3],[46,5],[46,6],[46,4],[46,3],[46,4],[46,4],[46,4],[56,1],[56,3],[52,2],[52,3],[65,1],[65,3],[66,1],[66,1],[66,2],[66,3],[66,3],[66,5],[66,1],[66,2],[53,2],[53,3],[68,1],[68,3],[19,3]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return this.$={ast:$$[$0-1],commentRanges:yy.commentRanges};break;case 2:this.$=["/*scope*/",$$[$0]];break;case 3:this.$=["/*scope*/",$$[$0],"\nreturn current"];break;case 4:this.$=["/*scope*/","return ","/*sp:"+this._$.range+",*/","current","/**/"];break;case 5:this.$=[$$[$0-1],"\nreturn ",$$[$0]];break;case 6:this.$=["return ",$$[$0]];break;case 7:case 12:case 16:case 17:case 18:case 45:case 46:case 51:case 52:case 53:case 54:case 55:case 75:case 79:case 91:this.$=[$$[$0]];break;case 8:this.$=[$$[$0-1],"\n",$$[$0]];break;case 9:this.$=["/*sp:"+_$[$0-1].range+",key*/","current","/**/",";"];break;case 10:this.$=["/*define:"+_$[$0-1].range+"*/","const $",$$[$0-1]," = fn.map(","/*sp:"+_$[$0-1].range+",key*/","current","/**/",", \"",$$[$0-1],"\");"];break;case 11:this.$=["/*define:"+_$[$0-3].range+"*/","const $",$$[$0-3]," = ",$$[$0-1],";"];break;case 13:this.$=["current => self(current, context)"];break;case 14:this.$=["self(current, context)"];break;case 15:this.$=["self(",$$[$0-1],", context)"];break;case 19:this.$=["!fn.bool(",$$[$0],")"];break;case 20:this.$=["-",$$[$0]];break;case 21:this.$=["+",$$[$0]];break;case 22:this.$=["fn.in(",$$[$0-2],", ","/*sp:"+_$[$0-2].range+",in-value*/",$$[$0],"/**/",")"];break;case 23:this.$=["fn.in(",$$[$0],", ","/*sp:"+_$[$0].range+",in-value*/",$$[$0-2],"/**/",")"];break;case 24:this.$=["!fn.in(",$$[$0-2],", ",$$[$0],")"];break;case 25:this.$=["!fn.in(",$$[$0],", ",$$[$0-2],")"];break;case 26:this.$=["fn.bool(tmp = ",$$[$0-2],") ? ",$$[$0]," : tmp"];break;case 27:this.$=["fn.bool(tmp = ",$$[$0-2],") ? tmp : ",$$[$0]];break;case 28:this.$=["fn.bool(",$$[$0-4],") ? ",$$[$0-2]," : ",$$[$0]];break;case 29:this.$=["fn.add(",$$[$0-2],", ",$$[$0],")"];break;case 30:this.$=["fn.sub(",$$[$0-2],", ",$$[$0],")"];break;case 31:this.$=["fn.mul(",$$[$0-2],", ",$$[$0],")"];break;case 32:this.$=["fn.div(",$$[$0-2],", ",$$[$0],")"];break;case 33:this.$=["fn.mod(",$$[$0-2],", ",$$[$0],")"];break;case 34:this.$=["fn.eq(","/*sp:"+_$[$0].range+",value*/",$$[$0-2],"/**/",", ",$$[$0],")"];break;case 35:this.$=["fn.ne(","/*sp:"+_$[$0].range+",value*/",$$[$0-2],"/**/",", ",$$[$0],")"];break;case 36:this.$=["fn.lt(",$$[$0-2],", ",$$[$0],")"];break;case 37:this.$=["fn.lte(",$$[$0-2],", ",$$[$0],")"];break;case 38:this.$=["fn.gt(",$$[$0-2],", ",$$[$0],")"];break;case 39:this.$=["fn.gte(",$$[$0-2],", ",$$[$0],")"];break;case 40:this.$=["fn.match(",$$[$0-2],", ",$$[$0],")"];break;case 41:this.$=["true"];break;case 42:this.$=["false"];break;case 43:this.$=["null"];break;case 44:this.$=["undefined"];break;case 47:this.$=["data"];break;case 48:this.$=["context"];break;case 49:this.$=["/*var:"+_$[$0].range+"*/","current"];break;case 50:this.$=["/*var:"+this._$.range+"*/","typeof $",$$[$0]," !== 'undefined' ? $",$$[$0]," : undefined"];break;case 56:this.$=["/*var:"+_$[$0].range+"*/","fn.map(","/*sp:"+_$[$0].range+",*/","current","/**/",", \"",$$[$0],"\")"];break;case 57:this.$=["fn.map(","/*sp:"+_$[$0].range+",*/","current","/**/",", \"",$$[$0],"\")"];break;case 58:this.$=["(",$$[$0-1],")"];break;case 59:this.$=["fn.map(current, current => { ",$$[$0-1]," })"];break;case 60:case 62:this.$=["method.",$$[$0-2],"(","/*sp:"+_$[$0-2].range+",,"+_$[$0-1].range+",*/","current","/**/",")"];break;case 61:case 63:this.$=["method.",$$[$0-3],"(","/*sp:"+_$[$0-3].range+",*/","current","/**/",", ",$$[$0-1],")"];break;case 64:this.$=["fn.recursive(","/*sp:"+_$[$0].range+",*/","current","/**/",", \"",$$[$0],"\")"];break;case 65:this.$=["fn.recursive(current, current => { ",$$[$0-1]," })"];break;case 66:this.$=["fn.filter(current, current => { ",$$[$0-1]," })"];break;case 67:this.$=["fn.map(","/*sp:"+_$[$0].range+",*/",$$[$0-2],"/**/",", \"",$$[$0],"\")"];break;case 68:this.$=["method.",$$[$0-2],"((","/*sp:"+_$[$0-1].range+",*/","current","/**/",", ","/*sp:"+_$[$0-2].range+",*/",$$[$0-4],"/**/","))"];break;case 69:this.$=["method.",$$[$0-3],"(","/*sp:"+_$[$0-3].range+",*/",$$[$0-5],"/**/",", ",$$[$0-1],")"];break;case 70:this.$=["fn.map(",$$[$0-3],", current => { ",$$[$0-1]," })"];break;case 71:this.$=["fn.recursive(","/*sp:"+_$[$0].range+",*/",$$[$0-2],"/**/",", \"",$$[$0],"\")"];break;case 72:this.$=["fn.recursive(",$$[$0-3],", current => { ",$$[$0-1]," })"];break;case 73:this.$=["fn.filter(",$$[$0-3],", current => { ",$$[$0-1]," })"];break;case 74:this.$=["fn.map(",$$[$0-3],", ",$$[$0-1],")"];break;case 76:case 80:case 92:this.$=[$$[$0-2],", ",$$[$0]];break;case 77:this.$=["(","/*sp:"+_$[$0-1].range+",*/","current","/**/",", {})"];break;case 78:this.$=["({ ",$$[$0-1]," })"];break;case 81:this.$=["/*var:"+_$[$0].range+"*/",$$[$0],": fn.map(","/*sp:"+_$[$0].range+",*/","current","/**/",", \"",$$[$0],"\")"];break;case 82:this.$=["[Symbol()]: ","/*var:"+this._$.range+"*/","0"];break;case 83:this.$=["/*var:"+this._$.range+"*/",$$[$0],": typeof $",$$[$0]," !== 'undefined' ? $",$$[$0]," : undefined"];break;case 84:case 85:this.$=[$$[$0-2],": ",$$[$0]];break;case 86:this.$=["[",$$[$0-3],"]: ",$$[$0]];break;case 87:this.$=["...","/*var:"+_$[$0].range+"*/","/*sp:"+_$[$0].range+",*/","current","/**/"];break;case 88:this.$=["...",$$[$0]];break;case 89:this.$=["(","/*sp:"+_$[$0-1].range+",*/","current","/**/",", [])"];break;case 90:this.$=["[",$$[$0-1],"]"];break;case 93:this.$=["current => { ",$$[$0-1]," }"];break;}},table:[{3:1,4:2,5:$V0,6:3,7:4,8:5,9:6,10:$V1,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{1:[3]},{5:[1,39]},o($Vp,[2,2]),o($Vp,[2,3],{14:7,18:9,19:10,20:11,45:13,46:14,52:28,53:29,8:40,9:41,10:$V1,12:$V2,15:$V3,16:$V4,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo}),o($Vp,[2,6],{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),o($VJ,[2,7]),o($VK,[2,12],{54:$VL,55:$VM,57:$VN,58:$VO,59:$VP,61:$VQ}),o($VK,[2,13],{16:[1,67]}),o($VK,[2,16]),o($VK,[2,17]),o($VK,[2,18]),o($VR,$VS,{11:[1,68],12:[1,69]}),o($VT,[2,45]),o($VT,[2,46]),o($VK,[2,41]),o($VK,[2,42]),o($VK,[2,43]),o($VK,[2,44]),{4:70,6:3,7:4,8:5,9:6,10:$V1,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo,70:$V0},{8:71,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:73,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:74,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},o($VT,[2,47]),o($VT,[2,48]),o($VT,[2,51]),o($VT,[2,52]),o($VT,[2,53]),o($VT,[2,54]),o($VT,[2,55]),o($VT,[2,56],{16:[1,75]}),{12:[1,76]},{8:77,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{4:78,6:3,7:4,8:5,9:6,10:$V1,12:$V2,14:7,15:$V3,16:$V4,17:$V0,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{12:[1,79]},{4:80,6:3,7:4,8:5,9:6,10:$V1,12:$V2,14:7,15:$V3,16:$V4,17:$V0,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{4:81,6:3,7:4,8:5,9:6,10:$V1,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,60:$V0,61:$Vm,63:$Vn,69:$Vo},{10:$VV,12:$VW,49:$VX,61:$VY,64:[1,82],65:83,66:84,67:$VZ},{8:92,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,60:[1,90],61:$Vm,63:$Vn,68:91,69:$Vo},{1:[2,1]},o($Vp,[2,5],{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),o($VJ,[2,8]),{8:93,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:94,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:95,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:96,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:97,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:98,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:99,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:100,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:101,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:102,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:103,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:104,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:105,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:106,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:107,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:108,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:109,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:110,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:111,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{12:[1,112]},{4:113,6:3,7:4,8:5,9:6,10:$V1,12:$V2,14:7,15:$V3,16:$V4,17:$V0,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{12:[1,114]},{4:115,6:3,7:4,8:5,9:6,10:$V1,12:$V2,14:7,15:$V3,16:$V4,17:$V0,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{4:116,6:3,7:4,8:5,9:6,10:$V1,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,60:$V0,61:$Vm,63:$Vn,69:$Vo},{8:117,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:119,10:$VU,12:$V2,14:7,15:$V3,16:$V4,17:[1,118],18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},o($VJ,[2,9]),o($VR,$V_,{11:[1,120],13:[1,121]}),{70:[1,122]},o($V$,[2,19],{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),o($VT,$VS,{12:[1,123]}),o($V01,[2,20],{31:$Vz,32:$VA,33:$VB}),o($V01,[2,21],{31:$Vz,32:$VA,33:$VB}),{8:126,10:$VU,12:$V2,14:7,15:$V3,16:$V4,17:[1,124],18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,56:125,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},o($VT,[2,57],{16:[1,127]}),{17:[1,128],22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI},{17:[1,129]},o($VT,[2,64]),{17:[1,130]},{60:[1,131]},o($VT,[2,77]),{62:[1,133],64:[1,132]},o($V11,[2,79]),o($V11,[2,81],{13:[1,134]}),o($V11,[2,82],{12:[1,135]}),{13:[1,136]},{8:137,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},o($V11,[2,87],{45:13,46:14,52:28,53:29,14:138,10:$VU,12:$V2,16:$V4,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn}),o($VT,[2,89]),{60:[1,139]},{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI,60:[2,91],62:[1,140]},o($V21,[2,22],{22:$Vq,23:$Vr,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),o($V21,[2,23],{22:$Vq,23:$Vr,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),o($V21,[2,24],{22:$Vq,23:$Vr,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),o($V21,[2,25],{22:$Vq,23:$Vr,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),o($V$,[2,26],{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),o([5,11,13,17,29,30,60,62,64,70],[2,27],{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),{13:[1,141],22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI},o($V01,[2,29],{31:$Vz,32:$VA,33:$VB}),o($V01,[2,30],{31:$Vz,32:$VA,33:$VB}),o($VK,[2,31]),o($VK,[2,32]),o($VK,[2,33]),o($V31,[2,34],{22:$Vq,23:$Vr,31:$Vz,32:$VA,33:$VB,36:$VE,37:$VF,38:$VG,39:$VH}),o($V31,[2,35],{22:$Vq,23:$Vr,31:$Vz,32:$VA,33:$VB,36:$VE,37:$VF,38:$VG,39:$VH}),o($V41,[2,36],{22:$Vq,23:$Vr,31:$Vz,32:$VA,33:$VB}),o($V41,[2,37],{22:$Vq,23:$Vr,31:$Vz,32:$VA,33:$VB}),o($V41,[2,38],{22:$Vq,23:$Vr,31:$Vz,32:$VA,33:$VB}),o($V41,[2,39],{22:$Vq,23:$Vr,31:$Vz,32:$VA,33:$VB}),o($V31,[2,40],{22:$Vq,23:$Vr,31:$Vz,32:$VA,33:$VB,36:$VE,37:$VF,38:$VG,39:$VH}),o($VT,[2,67],{16:[1,142]}),{17:[1,143]},o($VT,[2,71]),{17:[1,144]},{60:[1,145]},{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI,60:[1,146]},o($VK,[2,14]),{17:[1,147],22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI},o($VJ,[2,10]),{8:148,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},o($VK,[2,93]),o($VT,$V_),o($VT,[2,60]),{17:[1,149],62:$V51},o($V61,[2,75],{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),{8:126,10:$VU,12:$V2,14:7,15:$V3,16:$V4,17:[1,151],18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,56:152,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},o($VT,[2,58]),o($VT,[2,59]),o($VT,[2,65]),o($VT,[2,66]),o($VT,[2,78]),{10:$VV,12:$VW,49:$VX,61:$VY,66:153,67:$VZ},{8:154,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},o($V11,[2,83]),{8:155,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI,60:[1,156]},o($V11,[2,88],{54:$VL,55:$VM,57:$VN,58:$VO,59:$VP,61:$VQ}),o($VT,[2,90]),{8:92,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,68:157,69:$Vo},{8:158,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},{8:126,10:$VU,12:$V2,14:7,15:$V3,16:$V4,17:[1,159],18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,56:160,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},o($VT,[2,70]),o($VT,[2,72]),o($VT,[2,73]),o($VT,[2,74]),o($VK,[2,15]),{11:[1,161],22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI},o($VT,[2,61]),{8:162,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},o($VT,[2,62]),{17:[1,163],62:$V51},o($V11,[2,80]),o($V11,[2,84],{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),o($V11,[2,85],{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),{13:[1,164]},{60:[2,92]},o([5,11,13,17,60,62,64,70],[2,28],{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),o($VT,[2,68]),{17:[1,165],62:$V51},o($VJ,[2,11]),o($V61,[2,76],{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI}),o($VT,[2,63]),{8:166,10:$VU,12:$V2,14:7,15:$V3,16:$V4,18:9,19:10,20:11,21:$V5,22:$V6,23:$V7,41:$V8,42:$V9,43:$Va,44:$Vb,45:13,46:14,47:$Vc,48:$Vd,49:$Ve,50:$Vf,51:$Vg,52:28,53:29,54:$Vh,55:$Vi,57:$Vj,58:$Vk,59:$Vl,61:$Vm,63:$Vn,69:$Vo},o($VT,[2,69]),o($V11,[2,86],{22:$Vq,23:$Vr,24:$Vs,25:$Vt,26:$Vu,27:$Vv,28:$Vw,29:$Vx,30:$Vy,31:$Vz,32:$VA,33:$VB,34:$VC,35:$VD,36:$VE,37:$VF,38:$VG,39:$VH,40:$VI})],defaultActions:{39:[2,1],157:[2,92]},parseError:function parseError(str,hash){if(hash.recoverable){this.trace(str);}else{var error=new Error(str);error.hash=hash;throw error;}},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext='',yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;var args=lstack.slice.call(arguments,1);var lexer=Object.create(this.lexer);var sharedState={yy:{}};for(var k in this.yy){if(Object.prototype.hasOwnProperty.call(this.yy,k)){sharedState.yy[k]=this.yy[k];}}lexer.setInput(input,sharedState.yy);sharedState.yy.lexer=lexer;sharedState.yy.parser=this;if(typeof lexer.yylloc=='undefined'){lexer.yylloc={};}var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;if(typeof sharedState.yy.parseError==='function'){this.parseError=sharedState.yy.parseError;}else{this.parseError=Object.getPrototypeOf(this).parseError;}function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n;}_token_stack:var lex=function lex(){var token;token=lexer.lex()||EOF;if(typeof token!=='number'){token=self.symbols_[token]||token;}return token;};var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state];}else{if(symbol===null||typeof symbol=='undefined'){symbol=lex();}action=table[state]&&table[state][symbol];}if(typeof action==='undefined'||!action.length||!action[0]){var errStr='';expected=[];for(p in table[state]){if(this.terminals_[p]&&p>TERROR){expected.push('\''+this.terminals_[p]+'\'');}}if(lexer.showPosition){errStr='Parse error on line '+(yylineno+1)+':\n'+lexer.showPosition()+'\nExpecting '+expected.join(', ')+', got \''+(this.terminals_[symbol]||symbol)+'\'';}else{errStr='Parse error on line '+(yylineno+1)+': Unexpected '+(symbol==EOF?'end of input':'\''+(this.terminals_[symbol]||symbol)+'\'');}this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected:expected});}if(action[0]instanceof Array&&action.length>1){throw new Error('Parse Error: multiple actions possible at state: '+state+', token: '+symbol);}switch(action[0]){case 1:stack.push(symbol);vstack.push(lexer.yytext);lstack.push(lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=lexer.yyleng;yytext=lexer.yytext;yylineno=lexer.yylineno;yyloc=lexer.yylloc;if(recovering>0){recovering--;}}else{symbol=preErrorSymbol;preErrorSymbol=null;}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};if(ranges){yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]];}r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args));if(typeof r!=='undefined'){return r;}if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len);}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return true;}}return true;}};var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parser){this.yy.parser.parseError(str,hash);}else{throw new Error(str);}},setInput:function setInput(input,yy){this.yy=yy||this.yy||{};this._input=input;this._more=this._backtrack=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match='';this.conditionStack=['INITIAL'];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0];}this.offset=0;return this;},input:function input(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.offset++;this.match+=ch;this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno++;this.yylloc.last_line++;}else{this.yylloc.last_column++;}if(this.options.ranges){this.yylloc.range[1]++;}this._input=this._input.slice(1);return ch;},unput:function unput(ch){var len=ch.length;var lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-len);this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(lines.length-1){this.yylineno-=lines.length-1;}var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-len];}this.yyleng=this.yytext.length;return this;},more:function more(){this._more=true;return this;},reject:function reject(){if(this.options.backtrack_lexer){this._backtrack=true;}else{return this.parseError('Lexical error on line '+(this.yylineno+1)+'. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n'+this.showPosition(),{text:"",token:null,line:this.yylineno});}return this;},less:function less(n){this.unput(this.match.slice(n));},pastInput:function pastInput(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?'...':'')+past.substr(-20).replace(/\n/g,"");},upcomingInput:function upcomingInput(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length);}return(next.substr(0,20)+(next.length>20?'...':'')).replace(/\n/g,"");},showPosition:function showPosition(){var pre=this.pastInput();var c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^";},test_match:function test_match(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer){backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};if(this.options.ranges){backup.yylloc.range=this.yylloc.range.slice(0);}}lines=match[0].match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno+=lines.length;}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng];}this._more=false;this._backtrack=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false;}if(token){return token;}else if(this._backtrack){for(var k in backup){this[k]=backup[k];}return false;}return false;},next:function next(){if(this.done){return this.EOF;}if(!this._input){this.done=true;}var token,match,tempMatch,index;if(!this._more){this.yytext='';this.match='';}var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(this.options.backtrack_lexer){token=this.test_match(tempMatch,rules[i]);if(token!==false){return token;}else if(this._backtrack){match=false;continue;}else{return false;}}else if(!this.options.flex){break;}}}if(match){token=this.test_match(match,rules[index]);if(token!==false){return token;}return false;}if(this._input===""){return this.EOF;}else{return this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\n'+this.showPosition(),{text:"",token:null,line:this.yylineno});}},lex:function lex(){var r=this.next();if(r){return r;}else{return this.lex();}},begin:function begin(condition){this.conditionStack.push(condition);},popState:function popState(){var n=this.conditionStack.length-1;if(n>0){return this.conditionStack.pop();}else{return this.conditionStack[0];}},_currentRules:function _currentRules(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;}else{return this.conditions["INITIAL"].rules;}},topState:function topState(n){n=this.conditionStack.length-1-Math.abs(n||0);if(n>=0){return this.conditionStack[n];}else{return"INITIAL";}},pushState:function pushState(condition){this.begin(condition);},stateStackSize:function stateStackSize(){return this.conditionStack.length;},options:{"ranges":true},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:yy.commentRanges.push(yy_.yylloc.range);break;case 1:break;case 2:this.popState();return"/";break;case 3:this.popState();return"<";break;case 4:this.done=false;this.popState();break;case 5:this.fnOpenedStack.push(this.fnOpened);this.fnOpened=0;return"(";break;case 6:this.fnOpened=this.fnOpenedStack.pop()||0;if(this._input)this.begin("preventPrimitive");return")";break;case 7:this.fnOpenedStack.push(this.fnOpened);this.fnOpened=0;return"[";break;case 8:this.fnOpened=this.fnOpenedStack.pop()||0;if(this._input)this.begin("preventPrimitive");return"]";break;case 9:this.fnOpenedStack.push(this.fnOpened);this.fnOpened=0;return"{";break;case 10:this.fnOpened=this.fnOpenedStack.pop()||0;if(this._input)this.begin("preventPrimitive");return"}";break;case 11:return"TRUE";break;case 12:return"FALSE";break;case 13:return"NULL";break;case 14:return"UNDEFINED";break;case 15:return"AND";break;case 16:return"OR";break;case 17:return"HASNO";break;case 18:return"HAS";break;case 19:return"IN";break;case 20:return"NOTIN";break;case 21:return"NOT";break;case 22:if(this._input)this.begin("preventPrimitive");return"@";break;case 23:if(this._input)this.begin("preventPrimitive");return"#";break;case 24:if(this._input)this.begin("preventPrimitive");return"$";break;case 25:return"SELF";break;case 26:if(this._input)this.begin("preventPrimitive");return"NUMBER";break;case 27:if(this._input)this.begin("preventPrimitive");return"STRING";break;case 28:if(this._input)this.begin("preventPrimitive");return"STRING";break;case 29:if(this._input)this.begin("preventPrimitive");return"REGEXP";break;case 30:if(this._input)this.begin("preventPrimitive");return"SYMBOL";break;case 31:this.fnOpened++;return"FUNCTION_START";break;case 32:return"=";break;case 33:return"!=";break;case 34:return"~=";break;case 35:return">=";break;case 36:return"<=";break;case 37:return"<";break;case 38:if(this.fnOpened){this.fnOpened--;return"FUNCTION_END";}return">";break;case 39:this.fnOpenedStack.push(this.fnOpened);this.fnOpened=0;return"..(";break;case 40:this.fnOpenedStack.push(this.fnOpened);this.fnOpened=0;return".(";break;case 41:this.fnOpenedStack.push(this.fnOpened);this.fnOpened=0;return".[";break;case 42:return"...";break;case 43:if(this._input)this.begin("preventPrimitive");return"..";break;case 44:if(this._input)this.begin("preventPrimitive");return".";break;case 45:return"?";break;case 46:return",";break;case 47:return":";break;case 48:return";";break;case 49:return"-";break;case 50:return"+";break;case 51:return"*";break;case 52:return"/";break;case 53:return"%";break;case 54:return"EOF";break;}},rules:[/^(?:(\/\/.*?(\r|\n|$)))/,/^(?:(\s+))/,/^(?:\/)/,/^(?:<(?!=))/,/^(?:)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:true(\b))/,/^(?:false(\b))/,/^(?:null(\b))/,/^(?:undefined(\b))/,/^(?:and(\b))/,/^(?:or(\b))/,/^(?:has(\s+)no(\b))/,/^(?:has(\b))/,/^(?:in(\b))/,/^(?:not(\s+)in(\b))/,/^(?:not?(\b))/,/^(?:@)/,/^(?:#)/,/^(?:\$)/,/^(?:::self)/,/^(?:\d+(?:\.\d+)?([eE][-+]?\d+)?(\b))/,/^(?:"(?:\\.|[^"])*")/,/^(?:'(?:\\.|[^'])*')/,/^(?:(\/(?:\\.|[^\/])+\/i?))/,/^(?:[a-zA-Z_][a-zA-Z_$0-9]*)/,/^(?:<(?!=))/,/^(?:=)/,/^(?:!=)/,/^(?:~=)/,/^(?:>=)/,/^(?:<=)/,/^(?:<)/,/^(?:>)/,/^(?:\.\.\()/,/^(?:\.\()/,/^(?:\.\[)/,/^(?:\.\.\.)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\?)/,/^(?:,)/,/^(?::)/,/^(?:;)/,/^(?:\-)/,/^(?:\+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\%)/,/^(?:$)/],conditions:{"preventPrimitive":{"rules":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54],"inclusive":true},"INITIAL":{"rules":[0,1,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54],"inclusive":true}}};return lexer;}();parser.lexer=lexer;function Parser(){this.yy={};}Parser.prototype=parser;parser.Parser=Parser;return new Parser();}();function patchParsers(strictParser){function patch(subject,patches){Object.entries(patches).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],patch=_ref2[1];return subject[key]=patch(subject[key]);});}var tolerantParser=new strictParser.Parser();tolerantParser.lexer=Object.assign({},strictParser.lexer);[strictParser.lexer,tolerantParser.lexer].forEach(function(subject){return patch(subject,{setInput:function setInput(orig){return function(input,yy){yy.commentRanges=[];this.fnOpened=0;this.fnOpenedStack=[];this.prevToken=null;this.prevYylloc={first_line:1,last_line:1,first_column:0,last_column:0,range:[0,0]};return orig.call(this,input,yy);};}});});var keywords=['AND','OR','IN','NOTIN','HAS','HASNO'];var words=[].concat(keywords,['NOT']);var operators=['+','-','*','/','%','=','!=','~=','>=','<=','<','>'];var prev=[null,':',';',',','.','..'].concat(operators,keywords,['NOT']);var defaultNext=new Set([',','?',':',';','EOF',']',')','}'].concat(operators,keywords));var tokenPair=prev.reduce(function(map,prevToken){return map.set(prevToken,defaultNext);},new Map());tokenPair.set('{',new Set([',']));tokenPair.set('[',new Set([',']));tokenPair.set('(',new Set([',']));patch(tolerantParser.lexer,{lex:function lex(origLex){return function patchedLex(){this.lex=origLex;var prevInput=this._input;var nextToken=this.lex(this);this.lex=patchedLex;if(tokenPair.has(this.prevToken)&&tokenPair.get(this.prevToken).has(nextToken)){var yylloc={first_line:this.prevYylloc.last_line,last_line:this.yylloc.first_line,first_column:this.prevYylloc.last_column,last_column:this.yylloc.first_column,range:[this.prevYylloc.range[1],this.yylloc.range[0]]};this.unput(this.yytext);this.pushState('preventPrimitive');this.done=false;this.yytext='_';this.yylloc=this.prevYylloc=yylloc;if(prevInput!==this._input&&words.includes(nextToken)){var prevChIndex=prevInput.length-this._input.length-1;switch(prevInput[prevChIndex]){case' ':case'\t':yylloc.last_column--;yylloc.range[1]--;break;case'\n':{var lastN=prevInput.lastIndexOf('\n',prevChIndex-1);yylloc.last_line--;yylloc.last_column=lastN===-1?yylloc.last_column-1:prevChIndex-lastN;yylloc.range[1]--;break;}}}return this.prevToken='SYMBOL';}this.prevYylloc=this.yylloc;if(words.includes(nextToken)){switch(this._input[0]){case' ':case'\t':this.prevYylloc=Object.assign({},this.prevYylloc,{last_column:this.prevYylloc.last_column+1,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]});break;case'\n':this.prevYylloc=Object.assign({},this.prevYylloc,{last_line:this.prevYylloc.last_line+1,last_column:0,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]});break;}}return this.prevToken=nextToken;};}});strictParser.strict=strictParser;strictParser.tolerant=tolerantParser;return strictParser;};module.exports=patchParsers(strictParser);},{}],2:[function(require,module,exports){module.exports={"version":"1.0.0-alpha.10"};},{}],3:[function(require,module,exports){var _require=require('./utils'),addToSet=_require.addToSet,getPropertyValue=_require.getPropertyValue,isPlainObject=_require.isPlainObject,isRegExp=_require.isRegExp;module.exports=Object.freeze({bool:function bool(value){if(Array.isArray(value)){return value.length>0;}if(isPlainObject(value)){for(var key in value){if(hasOwnProperty.call(value,key)){return true;}}return false;}return Boolean(value);},and:function and(a,b){return this.bool(a)?b:a;},or:function or(a,b){return this.bool(a)?a:b;},add:function add(a,b){if(Array.isArray(a)||Array.isArray(b)){return _toConsumableArray(new Set([].concat(a,b)));}return a+b;},sub:function sub(a,b){if(Array.isArray(a)){var result=new Set(a);if(Array.isArray(b)){b.forEach(function(item){return result["delete"](item);});}else{result["delete"](b);}return _toConsumableArray(result);}return a-b;},mul:function mul(a,b){return a*b;},div:function div(a,b){return a/b;},mod:function mod(a,b){return a%b;},eq:function eq(a,b){return a===b;},ne:function ne(a,b){return a!==b;},lt:function lt(a,b){return a<b;},lte:function lte(a,b){return a<=b;},gt:function gt(a,b){return a>b;},gte:function gte(a,b){return a>=b;},"in":function _in(a,b){if(isPlainObject(b)){return hasOwnProperty.call(b,a);}return b&&typeof b.indexOf==='function'?b.indexOf(a)!==-1:false;},match:function match(value,tester){if(typeof tester==='function'){return this.filter(value,tester);}if(isRegExp(tester)){return this.filter(value,tester.test.bind(tester));}if(tester===null||tester===undefined){return true;}return false;},map:function map(value,getter){var fn=typeof getter==='function'?getter:function(current){return getPropertyValue(current,getter);};if(Array.isArray(value)){return _toConsumableArray(value.reduce(function(set,item){return addToSet(set,fn(item));},new Set()));}return value!==undefined?fn(value):value;},recursive:function recursive(value,getter){var _this=this;var result=new Set();addToSet(result,this.map(value,getter));result.forEach(function(current){return addToSet(result,_this.map(current,getter));});return _toConsumableArray(result);},filter:function filter(value,fn){var _this2=this;if(Array.isArray(value)){return value.filter(function(current){return _this2.bool(fn(current));});}return this.bool(fn(value))?value:undefined;}});},{"./utils":6}],4:[function(require,module,exports){var buildin=require('./buildin');var methods=require('./methods');var _require2=require('./parser'),strictParser=_require2.strict,tolerantParser=_require2.tolerant;var _require3=require('./utils'),addToSet=_require3.addToSet,isPlainObject=_require3.isPlainObject;var cacheStrict=new Map();var cacheStrictStat=new Map();var cacheTollerant=new Map();var cacheTollerantStat=new Map();var contextToType={'path':'property','key':'property','value':'value','in-value':'value','var':'variable'};function isWhiteSpace(str,offset){var code=str.charCodeAt(offset);return code===9||code===10||code===13||code===32;}function suggestProhitedChar(str,offset){return offset>=0&&offset<str.length&&/[a-zA-Z_$0-9]/.test(str[offset]);}function valuesToSuggestions(context,values){var suggestions=new Set();var addValue=function addValue(value){switch(_typeof(value)){case'string':suggestions.add(JSON.stringify(value));break;case'number':suggestions.add(String(value));break;}};switch(context){case'':case'path':values.forEach(function(value){if(Array.isArray(value)){value.forEach(function(item){if(isPlainObject(item)){addToSet(suggestions,Object.keys(item));}});}else if(isPlainObject(value)){addToSet(suggestions,Object.keys(value));}});break;case'key':values.forEach(function(value){if(isPlainObject(value)){addToSet(suggestions,Object.keys(value));}});break;case'value':values.forEach(function(value){if(Array.isArray(value)){value.forEach(addValue);}else{addValue(value);}});break;case'in-value':values.forEach(function(value){if(Array.isArray(value)){value.forEach(addValue);}else if(isPlainObject(value)){Object.keys(value).forEach(addValue);}else{addValue(value);}});break;case'var':values.forEach(function(value){suggestions.add('$'+value);});break;}return _toConsumableArray(suggestions);}function findSourcePosPoints(source,pos,points,includeEmpty){var result=[];for(var i=0;i<points.length;i++){var _points$i=_slicedToArray(points[i],3),values=_points$i[0],ranges=_points$i[1],context=_points$i[2];for(var j=0;j<ranges.length;j+=2){var from=ranges[j];var to=ranges[j+1];if(pos>=from&&pos<=to&&(includeEmpty||values.size||values.length)){var current=source.substring(from,to);if(!/\S/.test(current)){current='';from=to=pos;}result.push({context:context,current:current,from:from,to:to,values:values});}}}return result;}function compileFunction(source,statMode,tolerantMode,debug){function getSuggestRanges(from,to){var ranges=[];for(var i=0;i<commentRanges.length;i++){var _commentRanges$i=_slicedToArray(commentRanges[i],2),commentFrom=_commentRanges$i[0],commentTo=_commentRanges$i[1];if(commentFrom>to){break;}if(commentFrom<from){continue;}if(commentFrom===from){ranges.push(from,from);}else{ranges.push(from,commentFrom);}from=commentTo;}if(from!==source.length||!noSuggestOnEofPos){ranges.push(from,to);}return ranges;}function astToCode(node,scopeVars){if(Array.isArray(node)){var first=node[0];var varName=false;var i=0;if(first==='/*scope*/'){scopeVars=scopeVars.slice();i++;}else if(typeof first==='string'&&first.startsWith('/*define:')){var _first$substring$spli=first.substring(9,first.length-2).split(','),_first$substring$spli2=_slicedToArray(_first$substring$spli,2),from=_first$substring$spli2[0],to=_first$substring$spli2[1];varName=source.substring(from,to);if(scopeVars.includes("\"".concat(varName,"\""))){throw new Error("Identifier '$".concat(varName,"' has already been declared"));}i++;}for(;i<node.length;i++){astToCode(node[i],scopeVars);}if(varName){scopeVars.push("\"".concat(varName,"\""));}}else if(statMode&&node.startsWith('/*')){if(node.startsWith('/*var:')){var _node$substring$split=node.substring(6,node.length-2).split(','),_node$substring$split2=_slicedToArray(_node$substring$split,2),_from=_node$substring$split2[0],_to=_node$substring$split2[1];if(_from===_to){if(suggestProhitedChar(source,_from-1)){return;}while(_to<source.length-1&&isWhiteSpace(source,_to)){_to++;}if(suggestProhitedChar(source,_to)){if(_from===_to){return;}_to--;}}suggestPoints.push("[[".concat(scopeVars,"], [").concat(getSuggestRanges(_from,_to),"], \"var\"]"));}else if(node.startsWith('/*sp:')){var pointId=suggestSets.push('sp'+suggestSets.length+' = new Set()')-1;var items=node.substring(5,node.length-2).split(',');for(var _i2=0;_i2<items.length;_i2+=3){var _from2=Number(items[_i2]);var _to2=Number(items[_i2+1]);var context=items[_i2+2];var frag=source.substring(_from2,_to2);if(frag==='.['||frag==='.('||frag==='..('||frag==='{'||frag==='['||frag==='('||frag==='<'||frag==='...'||_from2===_to2){_from2=_to2;if(suggestProhitedChar(source,_from2-1)){continue;}while(_to2<source.length-1&&isWhiteSpace(source,_to2)){_to2++;}if(suggestProhitedChar(source,_to2)){if(_from2===_to2){continue;}_to2--;}}suggestPoints.push("[sp".concat(pointId,", [").concat(getSuggestRanges(_from2,_to2),"], \"").concat(context||'path',"\"]"));}code.push("suggestPoint(sp".concat(pointId,", "));}else if(node==='/**/'){code.push(')');}}else{code.push(node);}}if(debug){console.log('\n== compile ======');console.log('source:',source);}var parser=tolerantMode?tolerantParser:strictParser;var _parser$parse=parser.parse(source),ast=_parser$parse.ast,commentRanges=_parser$parse.commentRanges;var code=[];var suggestPoints=[];var noSuggestOnEofPos=commentRanges.length&&commentRanges[commentRanges.length-1][1]===source.length&&!/[\r\n]$/.test(source);var suggestSets=[];var body=[];astToCode(ast,[]);if(suggestSets.length){body.push('const '+suggestSets.join(', ')+';','const suggestPoint = (set, value) => (set.add(value), value);');}body.push('const $data = undefined, $context = undefined, $ctx = undefined, $array = undefined, $idx = undefined, $index = undefined;','let current = data;','let tmp;',code.join(''));if(statMode){body.push(",[".concat(suggestPoints,"]"));}if(debug){console.log('== body =========\n'+body.join('\n')+'\n=================\n');}return new Function('fn','method','data','context','self',body.join('\n'));}module.exports=function createQuery(source,options){options=options||{};var debug=Boolean(options.debug);var statMode=Boolean(options.stat);var tolerantMode=Boolean(options.tolerant);var localMethods=options.methods?Object.assign({},methods,options.methods):methods;var cache=statMode?tolerantMode?cacheTollerantStat:cacheStrictStat:tolerantMode?cacheTollerant:cacheStrict;var fn;source=String(source);if(cache.has(source)){fn=cache.get(source);}else{fn=compileFunction(source,statMode,tolerantMode,debug);cache.set(source,fn);}if(debug){console.log('fn',fn.toString());}if(statMode){return function query(data,context){var points=fn(buildin,localMethods,data,context,query);return{stat:function stat(pos,includeEmpty){var ranges=findSourcePosPoints(source,pos,points,includeEmpty);ranges.forEach(function(range){range.values=_toConsumableArray(range.values);});return ranges.length?ranges:null;},suggestion:function suggestion(pos,includeEmpty){var suggestions=[];findSourcePosPoints(source,pos,points,includeEmpty).forEach(function(entry){var context=entry.context,current=entry.current,from=entry.from,to=entry.to,values=entry.values;suggestions.push.apply(suggestions,_toConsumableArray(valuesToSuggestions(context,values).map(function(value){return{current:current,type:contextToType[context],value:value,from:from,to:to};})));});return suggestions.length?suggestions:null;}};};}return function query(data,context){return fn(buildin,localMethods,data,context,query);};};module.exports.version=require('../package.json').version;module.exports.buildin=buildin;module.exports.methods=methods;},{"../package.json":2,"./buildin":3,"./methods":5,"./parser":1,"./utils":6}],5:[function(require,module,exports){var buildin=require('./buildin');var _require4=require('./utils'),addToSet=_require4.addToSet,isPlainObject=_require4.isPlainObject;function noop(){}function self(value){return value;}module.exports=Object.freeze({bool:buildin.bool,filter:buildin.filter,map:buildin.map,keys:function keys(current){return Object.keys(current||{});},values:function values(current){var values=new Set();for(var key in current){if(hasOwnProperty.call(current,key)){addToSet(values,current[key]);}}return _toConsumableArray(values);},entries:function entries(current){var entries=[];for(var key in current){if(hasOwnProperty.call(current,key)){entries.push({key:key,value:current[key]});}}return entries;},pick:function pick(current,ref){if(!current){return undefined;}if(typeof ref==='function'){if(Array.isArray(current)){return current.find(function(item){return ref(item);});}for(var key in current){if(hasOwnProperty.call(current,key)){if(ref(current[key])){return{key:key,value:current[key]};}}}return;}return Array.isArray(current)?current[ref||0]:current[ref];},mapToArray:function mapToArray(current){var keyProperty=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'key';var valueProperty=arguments.length>2?arguments[2]:undefined;var result=[];for(var key in current){if(hasOwnProperty.call(current,key)){var _ref3;result.push(valueProperty?(_ref3={},_defineProperty(_ref3,keyProperty,key),_defineProperty(_ref3,valueProperty,current[key]),_ref3):Object.assign(_defineProperty({},keyProperty,key),current[key]));}}return result;},size:function size(current){switch(true){case Array.isArray(current):return current.length;case isPlainObject(current):return Object.keys(current).length;default:return current&&current.length||0;}},sort:function sort(current,fn){if(!Array.isArray(current)){return current;}if(typeof fn==='function'){return current.slice().sort(function(a,b){a=fn(a);b=fn(b);if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length){return a.length<b.length?-1:1;}for(var i=0;i<a.length;i++){if(a[i]<b[i]){return-1;}else if(a[i]>b[i]){return 1;}}return 0;}return a<b?-1:a>b;});}return current.slice().sort();},reverse:function reverse(current){if(!Array.isArray(current)){return current;}return current.slice().reverse();},group:function group(current,keyGetter,valueGetter){if(typeof keyGetter!=='function'){keyGetter=noop;}if(typeof valueGetter!=='function'){valueGetter=self;}if(!Array.isArray(current)){current=[current];}var map=new Map();var result=[];current.forEach(function(item){var keys=keyGetter(item);if(!Array.isArray(keys)){keys=[keys];}keys.forEach(function(key){if(map.has(key)){map.get(key).add(valueGetter(item));}else{map.set(key,new Set([valueGetter(item)]));}});});map.forEach(function(value,key){return result.push({key:key,value:_toConsumableArray(value)});});return result;}});},{"./buildin":3,"./utils":6}],6:[function(require,module,exports){var toString=Object.prototype.toString;function addToSet(set,value){if(value!==undefined){if(Array.isArray(value)){value.forEach(function(item){return set.add(item);});}else{set.add(value);}}return set;}function getPropertyValue(value,property){return value&&hasOwnProperty.call(value,property)?value[property]:undefined;}function isPlainObject(value){return value&&_typeof(value)==='object'&&value.constructor===Object;}function isRegExp(value){return toString.call(value)==='[object RegExp]';}module.exports={addToSet:addToSet,getPropertyValue:getPropertyValue,isPlainObject:isPlainObject,isRegExp:isRegExp};},{}]},{},[4])(4);});Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=jora;},{"../package.json":undefined,"./buildin":undefined,"./methods":undefined,"./parser":undefined,"./utils":undefined}],69:[function(require,module,exports){"use strict";var global={};var _module=undefined;var Prism;var _define=function define(){var fn=arguments[arguments.length-1];Prism=fn();_define=undefined;};_define.amd=true;var _self=typeof window!=='undefined'?window:typeof WorkerGlobalScope!=='undefined'&&self instanceof WorkerGlobalScope?self:{};var Prism=function(_self){var lang=/\blang(?:uage)?-([\w-]+)\b/i;var uniqueId=0;var _={manual:_self.Prism&&_self.Prism.manual,disableWorkerMessageHandler:_self.Prism&&_self.Prism.disableWorkerMessageHandler,util:{encode:function encode(tokens){if(tokens instanceof Token){return new Token(tokens.type,_.util.encode(tokens.content),tokens.alias);}else if(Array.isArray(tokens)){return tokens.map(_.util.encode);}else{return tokens.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/\u00a0/g,' ');}},type:function type(o){return Object.prototype.toString.call(o).slice(8,-1);},objId:function objId(obj){if(!obj['__id']){Object.defineProperty(obj,'__id',{value:++uniqueId});}return obj['__id'];},clone:function deepClone(o,visited){var clone,id,type=_.util.type(o);visited=visited||{};switch(type){case'Object':id=_.util.objId(o);if(visited[id]){return visited[id];}clone={};visited[id]=clone;for(var key in o){if(o.hasOwnProperty(key)){clone[key]=deepClone(o[key],visited);}}return clone;case'Array':id=_.util.objId(o);if(visited[id]){return visited[id];}clone=[];visited[id]=clone;o.forEach(function(v,i){clone[i]=deepClone(v,visited);});return clone;default:return o;}}},languages:{extend:function extend(id,redef){var lang=_.util.clone(_.languages[id]);for(var key in redef){lang[key]=redef[key];}return lang;},insertBefore:function insertBefore(inside,before,insert,root){root=root||_.languages;var grammar=root[inside];var ret={};for(var token in grammar){if(grammar.hasOwnProperty(token)){if(token==before){for(var newToken in insert){if(insert.hasOwnProperty(newToken)){ret[newToken]=insert[newToken];}}}if(!insert.hasOwnProperty(token)){ret[token]=grammar[token];}}}var old=root[inside];root[inside]=ret;_.languages.DFS(_.languages,function(key,value){if(value===old&&key!=inside){this[key]=ret;}});return ret;},DFS:function DFS(o,callback,type,visited){visited=visited||{};var objId=_.util.objId;for(var i in o){if(o.hasOwnProperty(i)){callback.call(o,i,o[i],type||i);var property=o[i],propertyType=_.util.type(property);if(propertyType==='Object'&&!visited[objId(property)]){visited[objId(property)]=true;DFS(property,callback,null,visited);}else if(propertyType==='Array'&&!visited[objId(property)]){visited[objId(property)]=true;DFS(property,callback,i,visited);}}}}},plugins:{},highlightAll:function highlightAll(async,callback){_.highlightAllUnder(document,async,callback);},highlightAllUnder:function highlightAllUnder(container,async,callback){var env={callback:callback,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};_.hooks.run('before-highlightall',env);var elements=container.querySelectorAll(env.selector);for(var i=0,element;element=elements[i++];){_.highlightElement(element,async===true,env.callback);}},highlightElement:function highlightElement(element,async,callback){var language='none',grammar,parent=element;while(parent&&!lang.test(parent.className)){parent=parent.parentNode;}if(parent){language=(parent.className.match(lang)||[,'none'])[1].toLowerCase();grammar=_.languages[language];}element.className=element.className.replace(lang,'').replace(/\s+/g,' ')+' language-'+language;if(element.parentNode){parent=element.parentNode;if(/pre/i.test(parent.nodeName)){parent.className=parent.className.replace(lang,'').replace(/\s+/g,' ')+' language-'+language;}}var code=element.textContent;var env={element:element,language:language,grammar:grammar,code:code};var insertHighlightedCode=function insertHighlightedCode(highlightedCode){env.highlightedCode=highlightedCode;_.hooks.run('before-insert',env);env.element.innerHTML=env.highlightedCode;_.hooks.run('after-highlight',env);_.hooks.run('complete',env);callback&&callback.call(env.element);};_.hooks.run('before-sanity-check',env);if(!env.code){_.hooks.run('complete',env);return;}_.hooks.run('before-highlight',env);if(!env.grammar){insertHighlightedCode(_.util.encode(env.code));return;}if(async&&_self.Worker){var worker=new Worker(_.filename);worker.onmessage=function(evt){insertHighlightedCode(evt.data);};worker.postMessage(JSON.stringify({language:env.language,code:env.code,immediateClose:true}));}else{insertHighlightedCode(_.highlight(env.code,env.grammar,env.language));}},highlight:function highlight(text,grammar,language){var env={code:text,grammar:grammar,language:language};_.hooks.run('before-tokenize',env);env.tokens=_.tokenize(env.code,env.grammar);_.hooks.run('after-tokenize',env);return Token.stringify(_.util.encode(env.tokens),env.language);},matchGrammar:function matchGrammar(text,strarr,grammar,index,startPos,oneshot,target){for(var token in grammar){if(!grammar.hasOwnProperty(token)||!grammar[token]){continue;}if(token==target){return;}var patterns=grammar[token];patterns=_.util.type(patterns)==="Array"?patterns:[patterns];for(var j=0;j<patterns.length;++j){var pattern=patterns[j],inside=pattern.inside,lookbehind=!!pattern.lookbehind,greedy=!!pattern.greedy,lookbehindLength=0,alias=pattern.alias;if(greedy&&!pattern.pattern.global){var flags=pattern.pattern.toString().match(/[imuy]*$/)[0];pattern.pattern=RegExp(pattern.pattern.source,flags+"g");}pattern=pattern.pattern||pattern;for(var i=index,pos=startPos;i<strarr.length;pos+=strarr[i].length,++i){var str=strarr[i];if(strarr.length>text.length){return;}if(str instanceof Token){continue;}if(greedy&&i!=strarr.length-1){pattern.lastIndex=pos;var match=pattern.exec(text);if(!match){break;}var from=match.index+(lookbehind?match[1].length:0),to=match.index+match[0].length,k=i,p=pos;for(var len=strarr.length;k<len&&(p<to||!strarr[k].type&&!strarr[k-1].greedy);++k){p+=strarr[k].length;if(from>=p){++i;pos=p;}}if(strarr[i]instanceof Token){continue;}delNum=k-i;str=text.slice(pos,p);match.index-=pos;}else{pattern.lastIndex=0;var match=pattern.exec(str),delNum=1;}if(!match){if(oneshot){break;}continue;}if(lookbehind){lookbehindLength=match[1]?match[1].length:0;}var from=match.index+lookbehindLength,match=match[0].slice(lookbehindLength),to=from+match.length,before=str.slice(0,from),after=str.slice(to);var args=[i,delNum];if(before){++i;pos+=before.length;args.push(before);}var wrapped=new Token(token,inside?_.tokenize(match,inside):match,alias,match,greedy);args.push(wrapped);if(after){args.push(after);}Array.prototype.splice.apply(strarr,args);if(delNum!=1)_.matchGrammar(text,strarr,grammar,i,pos,true,token);if(oneshot)break;}}}},tokenize:function tokenize(text,grammar){var strarr=[text];var rest=grammar.rest;if(rest){for(var token in rest){grammar[token]=rest[token];}delete grammar.rest;}_.matchGrammar(text,strarr,grammar,0,0,false);return strarr;},hooks:{all:{},add:function add(name,callback){var hooks=_.hooks.all;hooks[name]=hooks[name]||[];hooks[name].push(callback);},run:function run(name,env){var callbacks=_.hooks.all[name];if(!callbacks||!callbacks.length){return;}for(var i=0,callback;callback=callbacks[i++];){callback(env);}}},Token:Token};_self.Prism=_;function Token(type,content,alias,matchedStr,greedy){this.type=type;this.content=content;this.alias=alias;this.length=(matchedStr||"").length|0;this.greedy=!!greedy;}Token.stringify=function(o,language){if(typeof o=='string'){return o;}if(Array.isArray(o)){return o.map(function(element){return Token.stringify(element,language);}).join('');}var env={type:o.type,content:Token.stringify(o.content,language),tag:'span',classes:['token',o.type],attributes:{},language:language};if(o.alias){var aliases=Array.isArray(o.alias)?o.alias:[o.alias];Array.prototype.push.apply(env.classes,aliases);}_.hooks.run('wrap',env);var attributes=Object.keys(env.attributes).map(function(name){return name+'="'+(env.attributes[name]||'').replace(/"/g,'&quot;')+'"';}).join(' ');return'<'+env.tag+' class="'+env.classes.join(' ')+'"'+(attributes?' '+attributes:'')+'>'+env.content+'</'+env.tag+'>';};if(!_self.document){if(!_self.addEventListener){return _;}if(!_.disableWorkerMessageHandler){_self.addEventListener('message',function(evt){var message=JSON.parse(evt.data),lang=message.language,code=message.code,immediateClose=message.immediateClose;_self.postMessage(_.highlight(code,_.languages[lang],lang));if(immediateClose){_self.close();}},false);}return _;}var script=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();if(script){_.filename=script.src;if(!_.manual&&!script.hasAttribute('data-manual')){if(document.readyState!=="loading"){if(window.requestAnimationFrame){window.requestAnimationFrame(_.highlightAll);}else{window.setTimeout(_.highlightAll,16);}}else{document.addEventListener('DOMContentLoaded',_.highlightAll);}}}return _;}(_self);if(typeof _module!=='undefined'&&_module.exports){_module.exports=Prism;}if(typeof global!=='undefined'){global.Prism=Prism;}Prism.languages.markup={'comment':/<!--[\s\S]*?-->/,'prolog':/<\?[\s\S]+?\?>/,'doctype':/<!DOCTYPE[\s\S]+?>/i,'cdata':/<!\[CDATA\[[\s\S]*?]]>/i,'tag':{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:true,inside:{'tag':{pattern:/^<\/?[^\s>\/]+/i,inside:{'punctuation':/^<\/?/,'namespace':/^[^\s>\/:]+:/}},'attr-value':{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{'punctuation':[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:true}]}},'punctuation':/\/?>/,'attr-name':{pattern:/[^\s>\/]+/,inside:{'namespace':/^[^\s>\/:]+:/}}}},'entity':/&#?[\da-z]{1,8};/i};Prism.languages.markup['tag'].inside['attr-value'].inside['entity']=Prism.languages.markup['entity'];Prism.hooks.add('wrap',function(env){if(env.type==='entity'){env.attributes['title']=env.content.replace(/&amp;/,'&');}});Object.defineProperty(Prism.languages.markup.tag,'addInlined',{value:function addInlined(tagName,lang){var includedCdataInside={};includedCdataInside['language-'+lang]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:true,inside:Prism.languages[lang]};includedCdataInside['cdata']=/^<!\[CDATA\[|\]\]>$/i;var inside={'included-cdata':{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:includedCdataInside}};inside['language-'+lang]={pattern:/[\s\S]+/,inside:Prism.languages[lang]};var def={};def[tagName]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,tagName),'i'),lookbehind:true,greedy:true,inside:inside};Prism.languages.insertBefore('markup','cdata',def);}});Prism.languages.xml=Prism.languages.extend('markup',{});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;(function(Prism){var string=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;Prism.languages.css={'comment':/\/\*[\s\S]*?\*\//,'atrule':{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{'rule':/@[\w-]+/}},'url':{pattern:RegExp('url\\((?:'+string.source+'|[^\n\r()]*)\\)','i'),inside:{'function':/^url/i,'punctuation':/^\(|\)$/}},'selector':RegExp('[^{}\\s](?:[^{};"\']|'+string.source+')*?(?=\\s*\\{)'),'string':{pattern:string,greedy:true},'property':/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,'important':/!important\b/i,'function':/[-a-z0-9]+(?=\()/i,'punctuation':/[(){};:,]/};Prism.languages.css['atrule'].inside.rest=Prism.languages.css;var markup=Prism.languages.markup;if(markup){markup.tag.addInlined('style','css');Prism.languages.insertBefore('inside','attr-value',{'style-attr':{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{'attr-name':{pattern:/^\s*style/i,inside:markup.tag.inside},'punctuation':/^\s*=\s*['"]|['"]\s*$/,'attr-value':{pattern:/.+/i,inside:Prism.languages.css}},alias:'language-css'}},markup.tag);}})(Prism);Prism.languages.clike={'comment':[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:true},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:true,greedy:true}],'string':{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:true},'class-name':{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:true,inside:{punctuation:/[.\\]/}},'keyword':/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,'boolean':/\b(?:true|false)\b/,'function':/\w+(?=\()/,'number':/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,'operator':/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,'punctuation':/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend('clike',{'class-name':[Prism.languages.clike['class-name'],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:true}],'keyword':[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:true},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:true}],'number':/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,'function':/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,'operator':/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});Prism.languages.javascript['class-name'][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;Prism.languages.insertBefore('javascript','keyword',{'regex':{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:true,greedy:true},'function-variable':{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:'function'},'parameter':[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:true,inside:Prism.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:true,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:true,inside:Prism.languages.javascript}],'constant':/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore('javascript','string',{'template-string':{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:true,inside:{'template-punctuation':{pattern:/^`|`$/,alias:'string'},'interpolation':{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:true,inside:{'interpolation-punctuation':{pattern:/^\${|}$/,alias:'punctuation'},rest:Prism.languages.javascript}},'string':/[\s\S]+/}}});if(Prism.languages.markup){Prism.languages.markup.tag.addInlined('script','javascript');}Prism.languages.js=Prism.languages.javascript;(function(){if(typeof self==='undefined'||!self.Prism||!self.document||!document.querySelector){return;}self.Prism.fileHighlight=function(container){container=container||document;var Extensions={'js':'javascript','py':'python','rb':'ruby','ps1':'powershell','psm1':'powershell','sh':'bash','bat':'batch','h':'c','tex':'latex'};Array.prototype.slice.call(container.querySelectorAll('pre[data-src]')).forEach(function(pre){if(pre.hasAttribute('data-src-loaded')){return;}var src=pre.getAttribute('data-src');var language,parent=pre;var lang=/\blang(?:uage)?-([\w-]+)\b/i;while(parent&&!lang.test(parent.className)){parent=parent.parentNode;}if(parent){language=(pre.className.match(lang)||[,''])[1];}if(!language){var extension=(src.match(/\.(\w+)$/)||[,''])[1];language=Extensions[extension]||extension;}var code=document.createElement('code');code.className='language-'+language;pre.textContent='';code.textContent='Loading…';pre.appendChild(code);var xhr=new XMLHttpRequest();xhr.open('GET',src,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status<400&&xhr.responseText){code.textContent=xhr.responseText;Prism.highlightElement(code);pre.setAttribute('data-src-loaded','');}else if(xhr.status>=400){code.textContent='✖ Error '+xhr.status+' while fetching file: '+xhr.statusText;}else{code.textContent='✖ Error: File does not exist or is empty';}}};xhr.send(null);});if(Prism.plugins.toolbar){Prism.plugins.toolbar.registerButton('download-file',function(env){var pre=env.element.parentNode;if(!pre||!/pre/i.test(pre.nodeName)||!pre.hasAttribute('data-src')||!pre.hasAttribute('data-download-link')){return;}var src=pre.getAttribute('data-src');var a=document.createElement('a');a.textContent=pre.getAttribute('data-download-link-label')||'Download';a.setAttribute('download','');a.href=src;return a;});}};document.addEventListener('DOMContentLoaded',function(){self.Prism.fileHighlight();});})();Prism.languages.json={'property':{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:true},'string':{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:true},'comment':/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,'number':/-?\d+\.?\d*(e[+-]?\d+)?/i,'punctuation':/[{}[\],]/,'operator':/:/,'boolean':/\b(?:true|false)\b/,'null':{pattern:/\bnull\b/,alias:'keyword'}};(function(Prism){Prism.languages.php=Prism.languages.extend('clike',{'keyword':/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|new|or|parent|print|private|protected|public|require|require_once|return|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,'boolean':{pattern:/\b(?:false|true)\b/i,alias:'constant'},'constant':[/\b[A-Z_][A-Z0-9_]*\b/,/\b(?:null)\b/i],'comment':{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:true}});Prism.languages.insertBefore('php','string',{'shell-comment':{pattern:/(^|[^\\])#.*/,lookbehind:true,alias:'comment'}});Prism.languages.insertBefore('php','comment',{'delimiter':{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:'important'}});Prism.languages.insertBefore('php','keyword',{'variable':/\$+(?:\w+\b|(?={))/i,'package':{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:true,inside:{punctuation:/\\/}}});Prism.languages.insertBefore('php','operator',{'property':{pattern:/(->)[\w]+/,lookbehind:true}});var string_interpolation={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[.+?]|->\w+)*)/,lookbehind:true,inside:{rest:Prism.languages.php}};Prism.languages.insertBefore('php','string',{'nowdoc-string':{pattern:/<<<'([^']+)'(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;/,greedy:true,alias:'string',inside:{'delimiter':{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:'symbol',inside:{'punctuation':/^<<<'?|[';]$/}}}},'heredoc-string':{pattern:/<<<(?:"([^"]+)"(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;|([a-z_]\w*)(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\2;)/i,greedy:true,alias:'string',inside:{'delimiter':{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:'symbol',inside:{'punctuation':/^<<<"?|[";]$/}},'interpolation':string_interpolation}},'single-quoted-string':{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:true,alias:'string'},'double-quoted-string':{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:true,alias:'string',inside:{'interpolation':string_interpolation}}});delete Prism.languages.php['string'];Prism.hooks.add('before-tokenize',function(env){if(!/<\?/.test(env.code)){return;}var phpPattern=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#)(?:[^?\n\r]|\?(?!>))*|\/\*[\s\S]*?(?:\*\/|$))*?(?:\?>|$)/ig;Prism.languages['markup-templating'].buildPlaceholders(env,'php',phpPattern);});Prism.hooks.add('after-tokenize',function(env){Prism.languages['markup-templating'].tokenizePlaceholders(env,'php');});})(Prism);Prism.languages.twig={'comment':/\{#[\s\S]*?#\}/,'tag':{pattern:/\{\{[\s\S]*?\}\}|\{%[\s\S]*?%\}/,inside:{'ld':{pattern:/^(?:\{\{-?|\{%-?\s*\w+)/,inside:{'punctuation':/^(?:\{\{|\{%)-?/,'keyword':/\w+/}},'rd':{pattern:/-?(?:%\}|\}\})$/,inside:{'punctuation':/.+/}},'string':{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{'punctuation':/^['"]|['"]$/}},'keyword':/\b(?:even|if|odd)\b/,'boolean':/\b(?:true|false|null)\b/,'number':/\b0x[\dA-Fa-f]+|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][-+]?\d+)?/,'operator':[{pattern:/(\s)(?:and|b-and|b-xor|b-or|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:true},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],'property':/\b[a-zA-Z_]\w*\b/,'punctuation':/[()\[\]{}:.,]/}},'other':{pattern:/\S(?:[\s\S]*\S)?/,inside:Prism.languages.markup}};Prism.languages.yaml={'scalar':{pattern:/([\-:]\s*(?:![^\s]+)?[ \t]*[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)[^\r\n]+(?:\2[^\r\n]+)*)/,lookbehind:true,alias:'string'},'comment':/#.*/,'key':{pattern:/(\s*(?:^|[:\-,[{\r\n?])[ \t]*(?:![^\s]+)?[ \t]*)[^\r\n{[\]},#\s]+?(?=\s*:\s)/,lookbehind:true,alias:'atrule'},'directive':{pattern:/(^[ \t]*)%.+/m,lookbehind:true,alias:'important'},'datetime':{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?)?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?)(?=[ \t]*(?:$|,|]|}))/m,lookbehind:true,alias:'number'},'boolean':{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:true|false)[ \t]*(?=$|,|]|})/im,lookbehind:true,alias:'important'},'null':{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:null|~)[ \t]*(?=$|,|]|})/im,lookbehind:true,alias:'important'},'string':{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)("|')(?:(?!\2)[^\\\r\n]|\\.)*\2(?=[ \t]*(?:$|,|]|}|\s*#))/m,lookbehind:true,greedy:true},'number':{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+\.?\d*|\.?\d+)(?:e[+-]?\d+)?|\.inf|\.nan)[ \t]*(?=$|,|]|})/im,lookbehind:true},'tag':/![^\s]+/,'important':/[&*][\w]+/,'punctuation':/---|[:[\]{}\-,|>?]|\.\.\./};Prism.languages.yml=Prism.languages.yaml;(function(Prism){var inside={'url':/url\((["']?).*?\1\)/i,'string':{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:true},'interpolation':null,'func':null,'important':/\B!(?:important|optional)\b/i,'keyword':{pattern:/(^|\s+)(?:(?:if|else|for|return|unless)(?=\s+|$)|@[\w-]+)/,lookbehind:true},'hexcode':/#[\da-f]{3,6}/i,'number':/\b\d+(?:\.\d+)?%?/,'boolean':/\b(?:true|false)\b/,'operator':[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.+|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],'punctuation':/[{}()\[\];:,]/};inside['interpolation']={pattern:/\{[^\r\n}:]+\}/,alias:'variable',inside:{'delimiter':{pattern:/^{|}$/,alias:'punctuation'},rest:inside}};inside['func']={pattern:/[\w-]+\([^)]*\).*/,inside:{'function':/^[^(]+/,rest:inside}};Prism.languages.stylus={'comment':{pattern:/(^|[^\\])(\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:true},'atrule-declaration':{pattern:/(^\s*)@.+/m,lookbehind:true,inside:{'atrule':/^@[\w-]+/,rest:inside}},'variable-declaration':{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:(?:\{[^}]*\}|.+)|$)/m,lookbehind:true,inside:{'variable':/^\S+/,rest:inside}},'statement':{pattern:/(^[ \t]*)(?:if|else|for|return|unless)[ \t]+.+/m,lookbehind:true,inside:{keyword:/^\S+/,rest:inside}},'property-declaration':{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)[^{\r\n]*(?:;|[^{\r\n,](?=$)(?!(\r?\n|\r)(?:\{|\2[ \t]+)))/m,lookbehind:true,inside:{'property':{pattern:/^[^\s:]+/,inside:{'interpolation':inside.interpolation}},rest:inside}},'selector':{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\))?|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\))?|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t]+)))/m,lookbehind:true,inside:{'interpolation':inside.interpolation,'punctuation':/[{},]/}},'func':inside.func,'string':inside.string,'interpolation':inside.interpolation,'punctuation':/[{}()\[\];:.]/};})(Prism);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=Prism;},{}]},{},[15])(15);});var Widget=discovery.Widget,App=discovery.App,views=discovery.views,complexViews=discovery.complexViews,pages=discovery.pages,router=discovery.router,utils=discovery.utils;exports.utils=utils;exports.router=router;exports.pages=pages;exports.complexViews=complexViews;exports.views=views;exports.App=App;exports.Widget=Widget;

},{}]},{},[5])(5)
});
